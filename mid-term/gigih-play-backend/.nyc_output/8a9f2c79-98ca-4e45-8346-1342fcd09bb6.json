{"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\datastores\\OneDatastore.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\datastores\\OneDatastore.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"25":{"start":{"line":26,"column":28},"end":{"line":26,"column":110}},"26":{"start":{"line":26,"column":91},"end":{"line":26,"column":106}},"27":{"start":{"line":27,"column":4},"end":{"line":32,"column":7}},"28":{"start":{"line":28,"column":36},"end":{"line":28,"column":97}},"29":{"start":{"line":28,"column":42},"end":{"line":28,"column":70}},"30":{"start":{"line":28,"column":85},"end":{"line":28,"column":95}},"31":{"start":{"line":29,"column":35},"end":{"line":29,"column":100}},"32":{"start":{"line":29,"column":41},"end":{"line":29,"column":73}},"33":{"start":{"line":29,"column":88},"end":{"line":29,"column":98}},"34":{"start":{"line":30,"column":32},"end":{"line":30,"column":116}},"35":{"start":{"line":31,"column":8},"end":{"line":31,"column":78}},"36":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"37":{"start":{"line":35,"column":4},"end":{"line":35,"column":62}},"38":{"start":{"line":37,"column":0},"end":{"line":37,"column":62}},"39":{"start":{"line":38,"column":11},"end":{"line":38,"column":38}},"40":{"start":{"line":39,"column":19},"end":{"line":39,"column":55}},"41":{"start":{"line":42,"column":8},"end":{"line":68,"column":11}},"42":{"start":{"line":42,"column":29},"end":{"line":68,"column":10}},"43":{"start":{"line":43,"column":25},"end":{"line":43,"column":46}},"44":{"start":{"line":44,"column":12},"end":{"line":46,"column":13}},"45":{"start":{"line":45,"column":16},"end":{"line":45,"column":54}},"46":{"start":{"line":47,"column":25},"end":{"line":47,"column":46}},"47":{"start":{"line":48,"column":12},"end":{"line":50,"column":13}},"48":{"start":{"line":49,"column":16},"end":{"line":49,"column":54}},"49":{"start":{"line":51,"column":29},"end":{"line":51,"column":59}},"50":{"start":{"line":52,"column":12},"end":{"line":54,"column":13}},"51":{"start":{"line":53,"column":16},"end":{"line":53,"column":58}},"52":{"start":{"line":55,"column":29},"end":{"line":55,"column":59}},"53":{"start":{"line":56,"column":12},"end":{"line":58,"column":13}},"54":{"start":{"line":57,"column":16},"end":{"line":57,"column":58}},"55":{"start":{"line":59,"column":29},"end":{"line":59,"column":54}},"56":{"start":{"line":60,"column":12},"end":{"line":62,"column":13}},"57":{"start":{"line":61,"column":16},"end":{"line":61,"column":58}},"58":{"start":{"line":63,"column":24},"end":{"line":63,"column":104}},"59":{"start":{"line":64,"column":12},"end":{"line":66,"column":15}},"60":{"start":{"line":67,"column":12},"end":{"line":67,"column":41}},"61":{"start":{"line":69,"column":8},"end":{"line":71,"column":11}},"62":{"start":{"line":69,"column":32},"end":{"line":71,"column":10}},"63":{"start":{"line":70,"column":12},"end":{"line":70,"column":50}},"64":{"start":{"line":74,"column":0},"end":{"line":74,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":44},"end":{"line":25,"column":45}},"loc":{"start":{"line":25,"column":89},"end":{"line":33,"column":1}},"line":25},"7":{"name":"adopt","decl":{"start":{"line":26,"column":13},"end":{"line":26,"column":18}},"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":112}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":26,"column":70},"end":{"line":26,"column":71}},"loc":{"start":{"line":26,"column":89},"end":{"line":26,"column":108}},"line":26},"9":{"name":"(anonymous_9)","decl":{"start":{"line":27,"column":36},"end":{"line":27,"column":37}},"loc":{"start":{"line":27,"column":63},"end":{"line":32,"column":5}},"line":27},"10":{"name":"fulfilled","decl":{"start":{"line":28,"column":17},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":99}},"line":28},"11":{"name":"rejected","decl":{"start":{"line":29,"column":17},"end":{"line":29,"column":25}},"loc":{"start":{"line":29,"column":33},"end":{"line":29,"column":102}},"line":29},"12":{"name":"step","decl":{"start":{"line":30,"column":17},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":118}},"line":30},"13":{"name":"(anonymous_13)","decl":{"start":{"line":34,"column":56},"end":{"line":34,"column":57}},"loc":{"start":{"line":34,"column":71},"end":{"line":36,"column":1}},"line":34},"14":{"name":"(anonymous_14)","decl":{"start":{"line":41,"column":4},"end":{"line":41,"column":5}},"loc":{"start":{"line":41,"column":18},"end":{"line":72,"column":5}},"line":41},"15":{"name":"(anonymous_15)","decl":{"start":{"line":42,"column":23},"end":{"line":42,"column":24}},"loc":{"start":{"line":42,"column":29},"end":{"line":68,"column":10}},"line":42},"16":{"name":"(anonymous_16)","decl":{"start":{"line":42,"column":61},"end":{"line":42,"column":62}},"loc":{"start":{"line":42,"column":74},"end":{"line":68,"column":9}},"line":42},"17":{"name":"(anonymous_17)","decl":{"start":{"line":69,"column":26},"end":{"line":69,"column":27}},"loc":{"start":{"line":69,"column":32},"end":{"line":71,"column":10}},"line":69},"18":{"name":"(anonymous_18)","decl":{"start":{"line":69,"column":64},"end":{"line":69,"column":65}},"loc":{"start":{"line":69,"column":77},"end":{"line":71,"column":9}},"line":69}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":17},"end":{"line":25,"column":21}},{"start":{"line":25,"column":25},"end":{"line":25,"column":39}},{"start":{"line":25,"column":44},"end":{"line":33,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":35},"end":{"line":26,"column":109}},"type":"cond-expr","locations":[{"start":{"line":26,"column":56},"end":{"line":26,"column":61}},{"start":{"line":26,"column":64},"end":{"line":26,"column":109}}],"line":26},"18":{"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":34}},"type":"binary-expr","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":17}},{"start":{"line":27,"column":22},"end":{"line":27,"column":33}}],"line":27},"19":{"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":115}},"type":"cond-expr","locations":[{"start":{"line":30,"column":46},"end":{"line":30,"column":67}},{"start":{"line":30,"column":70},"end":{"line":30,"column":115}}],"line":30},"20":{"loc":{"start":{"line":31,"column":51},"end":{"line":31,"column":67}},"type":"binary-expr","locations":[{"start":{"line":31,"column":51},"end":{"line":31,"column":61}},{"start":{"line":31,"column":65},"end":{"line":31,"column":67}}],"line":31},"21":{"loc":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"type":"binary-expr","locations":[{"start":{"line":34,"column":23},"end":{"line":34,"column":27}},{"start":{"line":34,"column":31},"end":{"line":34,"column":51}},{"start":{"line":34,"column":56},"end":{"line":36,"column":1}}],"line":34},"22":{"loc":{"start":{"line":35,"column":11},"end":{"line":35,"column":61}},"type":"cond-expr","locations":[{"start":{"line":35,"column":37},"end":{"line":35,"column":40}},{"start":{"line":35,"column":43},"end":{"line":35,"column":61}}],"line":35},"23":{"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":33}},"type":"binary-expr","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":15}},{"start":{"line":35,"column":19},"end":{"line":35,"column":33}}],"line":35},"24":{"loc":{"start":{"line":44,"column":12},"end":{"line":46,"column":13}},"type":"if","locations":[{"start":{"line":44,"column":12},"end":{"line":46,"column":13}},{"start":{"line":44,"column":12},"end":{"line":46,"column":13}}],"line":44},"25":{"loc":{"start":{"line":48,"column":12},"end":{"line":50,"column":13}},"type":"if","locations":[{"start":{"line":48,"column":12},"end":{"line":50,"column":13}},{"start":{"line":48,"column":12},"end":{"line":50,"column":13}}],"line":48},"26":{"loc":{"start":{"line":52,"column":12},"end":{"line":54,"column":13}},"type":"if","locations":[{"start":{"line":52,"column":12},"end":{"line":54,"column":13}},{"start":{"line":52,"column":12},"end":{"line":54,"column":13}}],"line":52},"27":{"loc":{"start":{"line":56,"column":12},"end":{"line":58,"column":13}},"type":"if","locations":[{"start":{"line":56,"column":12},"end":{"line":58,"column":13}},{"start":{"line":56,"column":12},"end":{"line":58,"column":13}}],"line":56},"28":{"loc":{"start":{"line":60,"column":12},"end":{"line":62,"column":13}},"type":"if","locations":[{"start":{"line":60,"column":12},"end":{"line":62,"column":13}},{"start":{"line":60,"column":12},"end":{"line":62,"column":13}}],"line":60}},"s":{"0":1,"1":23,"2":23,"3":23,"4":23,"5":22,"6":14,"7":23,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":23,"21":23,"22":1,"23":1,"24":1,"25":27,"26":0,"27":27,"28":27,"29":27,"30":0,"31":0,"32":0,"33":0,"34":54,"35":27,"36":1,"37":1,"38":1,"39":1,"40":1,"41":2,"42":14,"43":14,"44":14,"45":0,"46":14,"47":14,"48":0,"49":14,"50":14,"51":0,"52":14,"53":14,"54":0,"55":14,"56":14,"57":0,"58":14,"59":14,"60":14,"61":2,"62":13,"63":13,"64":1},"f":{"0":23,"1":14,"2":0,"3":1,"4":0,"5":1,"6":27,"7":27,"8":0,"9":27,"10":27,"11":0,"12":54,"13":1,"14":2,"15":14,"16":14,"17":13,"18":13},"b":{"0":[1,1,1],"1":[1,0],"2":[23,0],"3":[22,1],"4":[23,23],"5":[0,23],"6":[23,3],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[23,0],"15":[23,23],"16":[1,1,1],"17":[27,0],"18":[27,27],"19":[27,27],"20":[27,27],"21":[1,1,1],"22":[0,1],"23":[1,1],"24":[0,14],"25":[0,14],"26":[0,14],"27":[0,14],"28":[0,14]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\datastores\\OneDatastore.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\datastores\\OneDatastore.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uCAAwB;AACxB,wDAAkD;AAElD,MAAqB,YAAY;IAAjC;QAGE,YAAO,GAAG,GAAwB,EAAE;YAClC,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,CAAA;YAClC,IAAI,IAAI,KAAK,SAAS,EAAE;gBACtB,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAA;aACtC;YAED,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,CAAA;YAClC,IAAI,IAAI,KAAK,SAAS,EAAE;gBACtB,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAA;aACtC;YAED,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAA;YAC/C,IAAI,QAAQ,KAAK,SAAS,EAAE;gBAC1B,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAA;aAC1C;YAED,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAA;YAC/C,IAAI,QAAQ,KAAK,SAAS,EAAE;gBAC1B,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAA;aAC1C;YAED,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,aAAa,CAAA;YAC1C,IAAI,QAAQ,KAAK,SAAS,EAAE;gBAC1B,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAA;aAC1C;YAED,MAAM,GAAG,GAAG,aAAa,QAAQ,IAAI,QAAQ,IAAI,IAAI,IAAI,IAAI,IAAI,QAAQ,mBAAmB,CAAA;YAE5F,MAAM,kBAAQ,CAAC,OAAO,CACpB,GAAG,EACH;gBACE,WAAW,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC,MAAM;aAC9B,CACF,CAAA;YACD,IAAI,CAAC,EAAE,GAAG,kBAAQ,CAAA;QACpB,CAAC,CAAA,CAAA;QAED,eAAU,GAAG,GAAwB,EAAE;YACrC,MAAM,kBAAQ,CAAC,UAAU,EAAE,CAAA;QAC7B,CAAC,CAAA,CAAA;IACH,CAAC;CAAA;AA3CD,+BA2CC","sourcesContent":["import * as os from 'os'\r\nimport mongoose, { type Mongoose } from 'mongoose'\r\n\r\nexport default class OneDatastore {\r\n  db: Mongoose | undefined\r\n\r\n  connect = async (): Promise<void> => {\r\n    const host = process.env.DS_1_HOST\r\n    if (host === undefined) {\r\n      throw new Error('Host is undefined.')\r\n    }\r\n\r\n    const port = process.env.DS_1_PORT\r\n    if (port === undefined) {\r\n      throw new Error('Port is undefined.')\r\n    }\r\n\r\n    const username = process.env.DS_1_ROOT_USERNAME\r\n    if (username === undefined) {\r\n      throw new Error('Username is undefined.')\r\n    }\r\n\r\n    const password = process.env.DS_1_ROOT_PASSWORD\r\n    if (password === undefined) {\r\n      throw new Error('Password is undefined.')\r\n    }\r\n\r\n    const database = process.env.DS_1_DATABASE\r\n    if (database === undefined) {\r\n      throw new Error('Database is undefined.')\r\n    }\r\n\r\n    const url = `mongodb://${username}:${password}@${host}:${port}/${database}?authSource=admin`\r\n\r\n    await mongoose.connect(\r\n      url,\r\n      {\r\n        maxPoolSize: os.cpus().length\r\n      }\r\n    )\r\n    this.db = mongoose\r\n  }\r\n\r\n  disconnect = async (): Promise<void> => {\r\n    await mongoose.disconnect()\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8dd7cb98aabf86405854ed2833f823dd9ab49da0"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\App.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\App.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":51}},"16":{"start":{"line":16,"column":18},"end":{"line":16,"column":53}},"17":{"start":{"line":17,"column":0},"end":{"line":17,"column":55}},"18":{"start":{"line":18,"column":23},"end":{"line":18,"column":83}},"19":{"start":{"line":19,"column":20},"end":{"line":19,"column":73}},"20":{"start":{"line":20,"column":20},"end":{"line":20,"column":57}},"21":{"start":{"line":21,"column":15},"end":{"line":21,"column":47}},"22":{"start":{"line":22,"column":32},"end":{"line":22,"column":102}},"23":{"start":{"line":26,"column":13},"end":{"line":57,"column":2}},"24":{"start":{"line":26,"column":19},"end":{"line":57,"column":2}},"25":{"start":{"line":27,"column":4},"end":{"line":27,"column":49}},"26":{"start":{"line":28,"column":4},"end":{"line":28,"column":53}},"27":{"start":{"line":29,"column":4},"end":{"line":29,"column":52}},"28":{"start":{"line":30,"column":20},"end":{"line":30,"column":52}},"29":{"start":{"line":31,"column":4},"end":{"line":31,"column":62}},"30":{"start":{"line":32,"column":25},"end":{"line":32,"column":53}},"31":{"start":{"line":33,"column":4},"end":{"line":39,"column":5}},"32":{"start":{"line":34,"column":8},"end":{"line":34,"column":37}},"33":{"start":{"line":35,"column":8},"end":{"line":35,"column":48}},"34":{"start":{"line":38,"column":8},"end":{"line":38,"column":66}},"35":{"start":{"line":43,"column":22},"end":{"line":43,"column":68}},"36":{"start":{"line":44,"column":4},"end":{"line":44,"column":37}},"37":{"start":{"line":45,"column":4},"end":{"line":45,"column":38}},"38":{"start":{"line":46,"column":17},"end":{"line":46,"column":83}},"39":{"start":{"line":47,"column":4},"end":{"line":49,"column":5}},"40":{"start":{"line":48,"column":8},"end":{"line":48,"column":46}},"41":{"start":{"line":50,"column":4},"end":{"line":54,"column":7}},"42":{"start":{"line":51,"column":23},"end":{"line":53,"column":10}},"43":{"start":{"line":52,"column":12},"end":{"line":52,"column":28}},"44":{"start":{"line":55,"column":24},"end":{"line":55,"column":88}},"45":{"start":{"line":56,"column":4},"end":{"line":56,"column":62}},"46":{"start":{"line":58,"column":0},"end":{"line":64,"column":3}},"47":{"start":{"line":60,"column":4},"end":{"line":60,"column":32}},"48":{"start":{"line":63,"column":4},"end":{"line":63,"column":47}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":26,"column":13},"end":{"line":26,"column":14}},"loc":{"start":{"line":26,"column":19},"end":{"line":57,"column":2}},"line":26},"9":{"name":"(anonymous_9)","decl":{"start":{"line":26,"column":53},"end":{"line":26,"column":54}},"loc":{"start":{"line":26,"column":66},"end":{"line":57,"column":1}},"line":26},"10":{"name":"(anonymous_10)","decl":{"start":{"line":50,"column":48},"end":{"line":50,"column":49}},"loc":{"start":{"line":50,"column":69},"end":{"line":54,"column":5}},"line":50},"11":{"name":"(anonymous_11)","decl":{"start":{"line":51,"column":44},"end":{"line":51,"column":45}},"loc":{"start":{"line":51,"column":50},"end":{"line":53,"column":9}},"line":51},"12":{"name":"(anonymous_12)","decl":{"start":{"line":59,"column":10},"end":{"line":59,"column":11}},"loc":{"start":{"line":59,"column":16},"end":{"line":61,"column":1}},"line":59},"13":{"name":"(anonymous_13)","decl":{"start":{"line":62,"column":11},"end":{"line":62,"column":12}},"loc":{"start":{"line":62,"column":22},"end":{"line":64,"column":1}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":46,"column":17},"end":{"line":46,"column":83}},"type":"cond-expr","locations":[{"start":{"line":46,"column":51},"end":{"line":46,"column":52}},{"start":{"line":46,"column":55},"end":{"line":46,"column":83}}],"line":46},"9":{"loc":{"start":{"line":47,"column":4},"end":{"line":49,"column":5}},"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":49,"column":5}},{"start":{"line":47,"column":4},"end":{"line":49,"column":5}}],"line":47},"10":{"loc":{"start":{"line":55,"column":24},"end":{"line":55,"column":88}},"type":"cond-expr","locations":[{"start":{"line":55,"column":63},"end":{"line":55,"column":69}},{"start":{"line":55,"column":72},"end":{"line":55,"column":88}}],"line":55},"11":{"loc":{"start":{"line":55,"column":24},"end":{"line":55,"column":60}},"type":"binary-expr","locations":[{"start":{"line":55,"column":24},"end":{"line":55,"column":39}},{"start":{"line":55,"column":43},"end":{"line":55,"column":60}}],"line":55}},"s":{"0":1,"1":4,"2":0,"3":1,"4":4,"5":4,"6":0,"7":0,"8":0,"9":0,"10":5,"11":1,"12":1,"13":6,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":0,"35":1,"36":1,"37":1,"38":1,"39":1,"40":0,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":0},"f":{"0":1,"1":4,"2":0,"3":1,"4":4,"5":0,"6":5,"7":6,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0},"b":{"0":[1,1,1],"1":[4,0],"2":[1,1],"3":[1,4],"4":[1,1],"5":[1,1,1],"6":[3,3],"7":[6,6],"8":[1,0],"9":[0,1],"10":[0,1],"11":[1,1]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\App.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\App.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,sDAAmD;AACnD,uDAAoD;AACpD,oFAA2D;AAC3D,0EAAiD;AACjD,0DAAgC;AAChC,gDAAuB;AACvB,uGAA8E;AAG9E,IAAI,GAA4B,CAAA;AAChC,IAAI,EAA+B,CAAA;AACnC,IAAI,MAA+B,CAAA;AACnC,MAAM,IAAI,GAAG,GAAwB,EAAE;IACrC,cAAA,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAA;IACf,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,CAAA;IACtC,GAAG,CAAC,GAAG,CAAC,IAAA,+BAAqB,GAAE,CAAC,CAAA;IAEhC,MAAM,OAAO,GAAgB,cAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAA;IAEnD,aAAA,EAAE,GAAG,IAAI,mBAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;IAEjC,MAAM,YAAY,GAAG,IAAI,sBAAY,EAAE,CAAA;IAEvC,IAAI;QACF,MAAM,YAAY,CAAC,OAAO,EAAE,CAAA;QAC5B,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAA;KACxC;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,KAAK,CAAC,CAAA;KAC1D;IAED,sDAAsD;IACtD,4BAA4B;IAC5B,0BAA0B;IAE1B,MAAM,SAAS,GAAG,IAAI,mBAAS,CAAC,GAAG,EAAE,EAAE,EAAE,YAAY,CAAC,CAAA;IACtD,MAAM,SAAS,CAAC,cAAc,EAAE,CAAA;IAChC,MAAM,SAAS,CAAC,eAAe,EAAE,CAAA;IAEjC,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAA;IAC/E,IAAI,IAAI,KAAK,SAAS,EAAE;QACtB,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAA;KACtC;IAED,iBAAA,MAAM,GAAG,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QAC7C,MAAM,MAAM,GAAgB,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE;YACpD,OAAO,CAAC,MAAM,CAAC,CAAA;QACjB,CAAC,CAAC,CAAA;IACJ,CAAC,CAAC,CAAA;IAEF,MAAM,WAAW,GAAgB,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,OAAO,EAAiB,CAAA;IACjE,OAAO,CAAC,GAAG,CAAC,yBAAyB,WAAW,CAAC,IAAI,GAAG,CAAC,CAAA;AAC3D,CAAC,CAAA,CAAA;AAED,IAAI,EAAE;KACH,IAAI,CAAC,GAAG,EAAE;IACT,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAA;AAC7B,CAAC,CAAC;KACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;IACf,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAA;AAC5C,CAAC,CAAC,CAAA","sourcesContent":["import express, { type Application } from 'express'\r\nimport './outers/configurations/DotenvConfiguration'\r\nimport OneDatastore from './outers/datastores/OneDatastore'\r\nimport RootRoute from './outers/routes/RootRoute'\r\nimport socketIo from 'socket.io'\r\nimport http from 'http'\r\nimport caseExpressMiddleware from './outers/middlewares/CaseExpressMiddleware'\r\nimport { type AddressInfo } from 'net'\r\n\r\nlet app: Application | undefined\r\nlet io: socketIo.Server | undefined\r\nlet server: http.Server | undefined\r\nconst main = async (): Promise<void> => {\r\n  app = express()\r\n  app.use(express.json({ type: '*/*' }))\r\n  app.use(caseExpressMiddleware())\r\n\r\n  const appHttp: http.Server = http.createServer(app)\r\n\r\n  io = new socketIo.Server(appHttp)\r\n\r\n  const oneDatastore = new OneDatastore()\r\n\r\n  try {\r\n    await oneDatastore.connect()\r\n    console.log('One datastore connected.')\r\n  } catch (error) {\r\n    console.log('Error connecting to one datastore: ', error)\r\n  }\r\n\r\n  // const oneMigration = new OneMigration(oneDatastore)\r\n  // await oneMigration.down()\r\n  // await oneMigration.up()\r\n\r\n  const rootRoute = new RootRoute(app, io, oneDatastore)\r\n  await rootRoute.registerRoutes()\r\n  await rootRoute.registerSockets()\r\n\r\n  const port = process.env.NODE_ENV === 'test' ? 0 : Number(process.env.APP_PORT)\r\n  if (port === undefined) {\r\n    throw new Error('Port is undefined.')\r\n  }\r\n\r\n  server = await new Promise((resolve, reject) => {\r\n    const server: http.Server = appHttp.listen(port, () => {\r\n      resolve(server)\r\n    })\r\n  })\r\n\r\n  const addressInfo: AddressInfo = server?.address() as AddressInfo\r\n  console.log(`App listening on port ${addressInfo.port}.`)\r\n}\r\n\r\nmain()\r\n  .then(() => {\r\n    console.log('App started.')\r\n  })\r\n  .catch((error) => {\r\n    console.log('Error starting app: ', error)\r\n  })\r\n\r\nexport { app, server, io }\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1cf4db0affc8967e756dbb3155fbf38a83dfe45d"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\configurations\\DotenvConfiguration.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\configurations\\DotenvConfiguration.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":51}},"4":{"start":{"line":7,"column":21},"end":{"line":9,"column":2}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\configurations\\DotenvConfiguration.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\configurations\\DotenvConfiguration.ts"],"names":[],"mappings":";;;;;AAAA,oDAAwD;AAExD,MAAM,YAAY,GAAuB,gBAAM,CAAC,MAAM,CACpD;IACE,IAAI,EAAE,QAAQ;CACf,CACF,CAAA;AAED,kBAAe,YAAY,CAAA","sourcesContent":["import dotenv, { type DotenvConfigOutput } from 'dotenv'\r\n\r\nconst dotenvOutput: DotenvConfigOutput = dotenv.config(\r\n  {\r\n    path: './.env'\r\n  }\r\n)\r\n\r\nexport default dotenvOutput\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0e25107e45c9bbe67567b1524c29e5f90e0fcd81"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\routes\\RootRoute.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\routes\\RootRoute.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}},"16":{"start":{"line":16,"column":32},"end":{"line":16,"column":102}},"17":{"start":{"line":17,"column":28},"end":{"line":17,"column":89}},"18":{"start":{"line":18,"column":28},"end":{"line":18,"column":108}},"19":{"start":{"line":19,"column":25},"end":{"line":19,"column":83}},"20":{"start":{"line":20,"column":25},"end":{"line":20,"column":102}},"21":{"start":{"line":21,"column":29},"end":{"line":21,"column":96}},"22":{"start":{"line":22,"column":26},"end":{"line":22,"column":85}},"23":{"start":{"line":23,"column":26},"end":{"line":23,"column":104}},"24":{"start":{"line":24,"column":30},"end":{"line":24,"column":98}},"25":{"start":{"line":25,"column":28},"end":{"line":25,"column":89}},"26":{"start":{"line":26,"column":28},"end":{"line":26,"column":108}},"27":{"start":{"line":27,"column":32},"end":{"line":27,"column":102}},"28":{"start":{"line":28,"column":36},"end":{"line":28,"column":105}},"29":{"start":{"line":29,"column":36},"end":{"line":29,"column":124}},"30":{"start":{"line":30,"column":37},"end":{"line":30,"column":112}},"31":{"start":{"line":31,"column":40},"end":{"line":31,"column":118}},"32":{"start":{"line":32,"column":36},"end":{"line":32,"column":124}},"33":{"start":{"line":33,"column":36},"end":{"line":33,"column":105}},"34":{"start":{"line":34,"column":34},"end":{"line":34,"column":112}},"35":{"start":{"line":35,"column":30},"end":{"line":35,"column":116}},"36":{"start":{"line":36,"column":33},"end":{"line":36,"column":122}},"37":{"start":{"line":37,"column":39},"end":{"line":37,"column":116}},"38":{"start":{"line":40,"column":8},"end":{"line":78,"column":11}},"39":{"start":{"line":40,"column":36},"end":{"line":78,"column":10}},"40":{"start":{"line":41,"column":37},"end":{"line":41,"column":60}},"41":{"start":{"line":42,"column":35},"end":{"line":42,"column":82}},"42":{"start":{"line":43,"column":35},"end":{"line":43,"column":79}},"43":{"start":{"line":44,"column":39},"end":{"line":44,"column":112}},"44":{"start":{"line":45,"column":12},"end":{"line":45,"column":48}},"45":{"start":{"line":46,"column":12},"end":{"line":46,"column":70}},"46":{"start":{"line":47,"column":36},"end":{"line":47,"column":84}},"47":{"start":{"line":48,"column":36},"end":{"line":48,"column":82}},"48":{"start":{"line":49,"column":40},"end":{"line":49,"column":115}},"49":{"start":{"line":50,"column":12},"end":{"line":50,"column":49}},"50":{"start":{"line":51,"column":12},"end":{"line":51,"column":72}},"51":{"start":{"line":52,"column":38},"end":{"line":52,"column":88}},"52":{"start":{"line":53,"column":38},"end":{"line":53,"column":104}},"53":{"start":{"line":54,"column":42},"end":{"line":54,"column":121}},"54":{"start":{"line":55,"column":12},"end":{"line":55,"column":51}},"55":{"start":{"line":56,"column":12},"end":{"line":56,"column":76}},"56":{"start":{"line":57,"column":38},"end":{"line":57,"column":88}},"57":{"start":{"line":58,"column":38},"end":{"line":58,"column":88}},"58":{"start":{"line":59,"column":42},"end":{"line":59,"column":121}},"59":{"start":{"line":60,"column":12},"end":{"line":60,"column":51}},"60":{"start":{"line":61,"column":12},"end":{"line":61,"column":76}},"61":{"start":{"line":62,"column":46},"end":{"line":62,"column":104}},"62":{"start":{"line":63,"column":46},"end":{"line":63,"column":112}},"63":{"start":{"line":64,"column":50},"end":{"line":64,"column":142}},"64":{"start":{"line":65,"column":12},"end":{"line":65,"column":59}},"65":{"start":{"line":66,"column":12},"end":{"line":66,"column":94}},"66":{"start":{"line":67,"column":46},"end":{"line":67,"column":104}},"67":{"start":{"line":68,"column":46},"end":{"line":68,"column":112}},"68":{"start":{"line":69,"column":50},"end":{"line":69,"column":145}},"69":{"start":{"line":70,"column":12},"end":{"line":70,"column":59}},"70":{"start":{"line":71,"column":12},"end":{"line":71,"column":94}},"71":{"start":{"line":72,"column":40},"end":{"line":72,"column":89}},"72":{"start":{"line":73,"column":43},"end":{"line":73,"column":95}},"73":{"start":{"line":74,"column":49},"end":{"line":74,"column":161}},"74":{"start":{"line":75,"column":12},"end":{"line":75,"column":58}},"75":{"start":{"line":76,"column":12},"end":{"line":76,"column":90}},"76":{"start":{"line":77,"column":12},"end":{"line":77,"column":54}},"77":{"start":{"line":79,"column":8},"end":{"line":86,"column":11}},"78":{"start":{"line":79,"column":37},"end":{"line":86,"column":10}},"79":{"start":{"line":80,"column":35},"end":{"line":80,"column":82}},"80":{"start":{"line":81,"column":38},"end":{"line":81,"column":88}},"81":{"start":{"line":82,"column":35},"end":{"line":82,"column":79}},"82":{"start":{"line":83,"column":38},"end":{"line":83,"column":104}},"83":{"start":{"line":84,"column":44},"end":{"line":84,"column":125}},"84":{"start":{"line":85,"column":12},"end":{"line":85,"column":54}},"85":{"start":{"line":87,"column":8},"end":{"line":87,"column":23}},"86":{"start":{"line":88,"column":8},"end":{"line":88,"column":21}},"87":{"start":{"line":89,"column":8},"end":{"line":89,"column":41}},"88":{"start":{"line":92,"column":0},"end":{"line":92,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":39},"end":{"line":90,"column":5}},"line":39},"9":{"name":"(anonymous_9)","decl":{"start":{"line":40,"column":30},"end":{"line":40,"column":31}},"loc":{"start":{"line":40,"column":36},"end":{"line":78,"column":10}},"line":40},"10":{"name":"(anonymous_10)","decl":{"start":{"line":40,"column":68},"end":{"line":40,"column":69}},"loc":{"start":{"line":40,"column":81},"end":{"line":78,"column":9}},"line":40},"11":{"name":"(anonymous_11)","decl":{"start":{"line":79,"column":31},"end":{"line":79,"column":32}},"loc":{"start":{"line":79,"column":37},"end":{"line":86,"column":10}},"line":79},"12":{"name":"(anonymous_12)","decl":{"start":{"line":79,"column":69},"end":{"line":79,"column":70}},"loc":{"start":{"line":79,"column":82},"end":{"line":86,"column":9}},"line":79}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":2,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":2,"11":2,"12":1,"13":22,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1},"f":{"0":2,"1":0,"2":0,"3":2,"4":0,"5":0,"6":2,"7":22,"8":1,"9":1,"10":1,"11":1,"12":1},"b":{"0":[1,1,1],"1":[0,0],"2":[2,2],"3":[2,0],"4":[2,2],"5":[1,1,1],"6":[22,0],"7":[22,22]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\routes\\RootRoute.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\routes\\RootRoute.ts"],"names":[],"mappings":"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","sourcesContent":["import { type Application, Router } from 'express'\r\nimport ProductControllerRest from '../controllers/rests/ProductControllerRest'\r\nimport type OneDatastore from '../datastores/OneDatastore'\r\nimport ProductRepository from '../repositories/ProductRepository'\r\nimport ProductManagement from '../../inners/use_cases/managements/ProductManagement'\r\nimport UserRepository from '../repositories/UserRepository'\r\nimport UserManagement from '../../inners/use_cases/managements/UserManagement'\r\nimport UserControllerRest from '../controllers/rests/UserControllerRest'\r\nimport VideoRepository from '../repositories/VideoRepository'\r\nimport VideoManagement from '../../inners/use_cases/managements/VideoManagement'\r\nimport VideoControllerRest from '../controllers/rests/VideoControllerRest'\r\nimport CommentRepository from '../repositories/CommentRepository'\r\nimport CommentManagement from '../../inners/use_cases/managements/CommentManagement'\r\nimport CommentControllerRest from '../controllers/rests/CommentControllerRest'\r\nimport VideoCommentMapRepository from '../repositories/VideoCommentMapRepository'\r\nimport VideoCommentMapManagement from '../../inners/use_cases/managements/VideoCommentMapManagement'\r\nimport VideoCommentMapController from '../controllers/rests/VideoCommentControllerRest'\r\nimport VideoProductMapControllerRest from '../controllers/rests/VideoProductMapControllerRest'\r\nimport VideoProductMapManagement from '../../inners/use_cases/managements/VideoProductMapManagement'\r\nimport VideoProductMapRepository from '../repositories/VideoProductMapRepository'\r\nimport type socketIo from 'socket.io'\r\nimport RoomControllerWebSocket from '../controllers/web_sockets/RoomControllerWebSocket'\r\nimport LoginAuthentication from '../../inners/use_cases/authentications/LoginAuthentication'\r\nimport RegisterAuthentication from '../../inners/use_cases/authentications/RegisterAuthentication'\r\nimport AuthenticationControllerRest from '../controllers/rests/AuthenticationControllerRest'\r\n\r\nexport default class RootRoute {\r\n  app: Application\r\n  io: socketIo.Server\r\n  datastoreOne: OneDatastore\r\n\r\n  constructor (app: Application, io: socketIo.Server, datastoreOne: OneDatastore) {\r\n    this.app = app\r\n    this.io = io\r\n    this.datastoreOne = datastoreOne\r\n  }\r\n\r\n  registerRoutes = async (): Promise<void> => {\r\n    const routerVersionOne = Router()\r\n\r\n    const userRepository: UserRepository = new UserRepository(this.datastoreOne)\r\n    const userManagement: UserManagement = new UserManagement(userRepository)\r\n    const userControllerRest: UserControllerRest = new UserControllerRest(Router(), userManagement)\r\n    userControllerRest.registerRoutes()\r\n    routerVersionOne.use('/users', userControllerRest.router)\r\n\r\n    const videoRepository: VideoRepository = new VideoRepository(this.datastoreOne)\r\n    const videoManagement: VideoManagement = new VideoManagement(videoRepository)\r\n    const videoControllerRest: VideoControllerRest = new VideoControllerRest(Router(), videoManagement)\r\n    videoControllerRest.registerRoutes()\r\n    routerVersionOne.use('/videos', videoControllerRest.router)\r\n\r\n    const commentRepository: CommentRepository = new CommentRepository(this.datastoreOne)\r\n    const commentManagement: CommentManagement = new CommentManagement(commentRepository, userRepository)\r\n    const commentControllerRest: CommentControllerRest = new CommentControllerRest(Router(), commentManagement)\r\n    commentControllerRest.registerRoutes()\r\n    routerVersionOne.use('/comments', commentControllerRest.router)\r\n\r\n    const productRepository: ProductRepository = new ProductRepository(this.datastoreOne)\r\n    const productManagement: ProductManagement = new ProductManagement(productRepository)\r\n    const productControllerRest: ProductControllerRest = new ProductControllerRest(Router(), productManagement)\r\n    productControllerRest.registerRoutes()\r\n    routerVersionOne.use('/products', productControllerRest.router)\r\n\r\n    const videoCommentMapRepository: VideoCommentMapRepository = new VideoCommentMapRepository(this.datastoreOne)\r\n    const videoCommentMapManagement: VideoCommentMapManagement = new VideoCommentMapManagement(videoCommentMapRepository)\r\n    const videoCommentMapControllerRest: VideoCommentMapController = new VideoCommentMapController(Router(), videoCommentMapManagement)\r\n    videoCommentMapControllerRest.registerRoutes()\r\n    routerVersionOne.use('/video-comment-maps', videoCommentMapControllerRest.router)\r\n\r\n    const videoProductMapRepository: VideoProductMapRepository = new VideoProductMapRepository(this.datastoreOne)\r\n    const videoProductMapManagement: VideoProductMapManagement = new VideoProductMapManagement(videoProductMapRepository)\r\n    const videoProductMapControllerRest: VideoProductMapControllerRest = new VideoProductMapControllerRest(Router(), videoProductMapManagement)\r\n    videoProductMapControllerRest.registerRoutes()\r\n    routerVersionOne.use('/video-product-maps', videoProductMapControllerRest.router)\r\n\r\n    const loginAuthentication: LoginAuthentication = new LoginAuthentication(userManagement)\r\n    const registerAuthentication: RegisterAuthentication = new RegisterAuthentication(userManagement)\r\n    const authenticationControllerRest: AuthenticationControllerRest = new AuthenticationControllerRest(Router(), loginAuthentication, registerAuthentication)\r\n    authenticationControllerRest.registerRoutes()\r\n    routerVersionOne.use('/authentications', authenticationControllerRest.router)\r\n\r\n    this.app.use('/api/v1', routerVersionOne)\r\n  }\r\n\r\n  registerSockets = async (): Promise<void> => {\r\n    const userRepository: UserRepository = new UserRepository(this.datastoreOne)\r\n    const commentRepository: CommentRepository = new CommentRepository(this.datastoreOne)\r\n    const userManagement: UserManagement = new UserManagement(userRepository)\r\n    const commentManagement: CommentManagement = new CommentManagement(commentRepository, userRepository)\r\n    const roomControllerWebSocket: RoomControllerWebSocket = new RoomControllerWebSocket(this.io, commentManagement, userManagement)\r\n    roomControllerWebSocket.registerSockets()\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"65d918602b7886c0a3e105343de4d0dfe9e0809f"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\ProductControllerRest.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\ProductControllerRest.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":12,"column":10}},"2":{"start":{"line":6,"column":12},"end":{"line":6,"column":46}},"3":{"start":{"line":7,"column":12},"end":{"line":7,"column":71}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":54}},"5":{"start":{"line":9,"column":12},"end":{"line":9,"column":49}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":57}},"7":{"start":{"line":11,"column":12},"end":{"line":11,"column":59}},"8":{"start":{"line":13,"column":8},"end":{"line":28,"column":10}},"9":{"start":{"line":14,"column":31},"end":{"line":14,"column":44}},"10":{"start":{"line":15,"column":33},"end":{"line":15,"column":114}},"11":{"start":{"line":16,"column":12},"end":{"line":27,"column":15}},"12":{"start":{"line":19,"column":16},"end":{"line":19,"column":60}},"13":{"start":{"line":22,"column":16},"end":{"line":26,"column":19}},"14":{"start":{"line":29,"column":8},"end":{"line":43,"column":10}},"15":{"start":{"line":30,"column":32},"end":{"line":30,"column":46}},"16":{"start":{"line":31,"column":12},"end":{"line":42,"column":15}},"17":{"start":{"line":34,"column":16},"end":{"line":34,"column":60}},"18":{"start":{"line":37,"column":16},"end":{"line":41,"column":19}},"19":{"start":{"line":44,"column":8},"end":{"line":58,"column":10}},"20":{"start":{"line":45,"column":27},"end":{"line":45,"column":41}},"21":{"start":{"line":46,"column":12},"end":{"line":57,"column":15}},"22":{"start":{"line":49,"column":16},"end":{"line":49,"column":60}},"23":{"start":{"line":52,"column":16},"end":{"line":56,"column":19}},"24":{"start":{"line":59,"column":8},"end":{"line":72,"column":10}},"25":{"start":{"line":60,"column":12},"end":{"line":71,"column":15}},"26":{"start":{"line":63,"column":16},"end":{"line":63,"column":60}},"27":{"start":{"line":66,"column":16},"end":{"line":70,"column":19}},"28":{"start":{"line":73,"column":8},"end":{"line":87,"column":10}},"29":{"start":{"line":74,"column":27},"end":{"line":74,"column":41}},"30":{"start":{"line":75,"column":12},"end":{"line":86,"column":15}},"31":{"start":{"line":78,"column":16},"end":{"line":78,"column":60}},"32":{"start":{"line":81,"column":16},"end":{"line":85,"column":19}},"33":{"start":{"line":88,"column":8},"end":{"line":102,"column":10}},"34":{"start":{"line":89,"column":27},"end":{"line":89,"column":41}},"35":{"start":{"line":90,"column":12},"end":{"line":101,"column":15}},"36":{"start":{"line":93,"column":16},"end":{"line":93,"column":60}},"37":{"start":{"line":96,"column":16},"end":{"line":100,"column":19}},"38":{"start":{"line":103,"column":8},"end":{"line":103,"column":29}},"39":{"start":{"line":104,"column":8},"end":{"line":104,"column":51}},"40":{"start":{"line":107,"column":0},"end":{"line":107,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":43},"end":{"line":105,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":30},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":36},"end":{"line":12,"column":9}},"line":5},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":23},"end":{"line":13,"column":24}},"loc":{"start":{"line":13,"column":46},"end":{"line":28,"column":9}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":22},"end":{"line":18,"column":23}},"loc":{"start":{"line":18,"column":34},"end":{"line":20,"column":13}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":23},"end":{"line":21,"column":24}},"loc":{"start":{"line":21,"column":34},"end":{"line":27,"column":13}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":29,"column":32},"end":{"line":29,"column":33}},"loc":{"start":{"line":29,"column":55},"end":{"line":43,"column":9}},"line":29},"6":{"name":"(anonymous_6)","decl":{"start":{"line":33,"column":22},"end":{"line":33,"column":23}},"loc":{"start":{"line":33,"column":34},"end":{"line":35,"column":13}},"line":33},"7":{"name":"(anonymous_7)","decl":{"start":{"line":36,"column":23},"end":{"line":36,"column":24}},"loc":{"start":{"line":36,"column":34},"end":{"line":42,"column":13}},"line":36},"8":{"name":"(anonymous_8)","decl":{"start":{"line":44,"column":27},"end":{"line":44,"column":28}},"loc":{"start":{"line":44,"column":50},"end":{"line":58,"column":9}},"line":44},"9":{"name":"(anonymous_9)","decl":{"start":{"line":48,"column":22},"end":{"line":48,"column":23}},"loc":{"start":{"line":48,"column":34},"end":{"line":50,"column":13}},"line":48},"10":{"name":"(anonymous_10)","decl":{"start":{"line":51,"column":23},"end":{"line":51,"column":24}},"loc":{"start":{"line":51,"column":34},"end":{"line":57,"column":13}},"line":51},"11":{"name":"(anonymous_11)","decl":{"start":{"line":59,"column":25},"end":{"line":59,"column":26}},"loc":{"start":{"line":59,"column":48},"end":{"line":72,"column":9}},"line":59},"12":{"name":"(anonymous_12)","decl":{"start":{"line":62,"column":22},"end":{"line":62,"column":23}},"loc":{"start":{"line":62,"column":34},"end":{"line":64,"column":13}},"line":62},"13":{"name":"(anonymous_13)","decl":{"start":{"line":65,"column":23},"end":{"line":65,"column":24}},"loc":{"start":{"line":65,"column":34},"end":{"line":71,"column":13}},"line":65},"14":{"name":"(anonymous_14)","decl":{"start":{"line":73,"column":28},"end":{"line":73,"column":29}},"loc":{"start":{"line":73,"column":51},"end":{"line":87,"column":9}},"line":73},"15":{"name":"(anonymous_15)","decl":{"start":{"line":77,"column":22},"end":{"line":77,"column":23}},"loc":{"start":{"line":77,"column":34},"end":{"line":79,"column":13}},"line":77},"16":{"name":"(anonymous_16)","decl":{"start":{"line":80,"column":23},"end":{"line":80,"column":24}},"loc":{"start":{"line":80,"column":34},"end":{"line":86,"column":13}},"line":80},"17":{"name":"(anonymous_17)","decl":{"start":{"line":88,"column":29},"end":{"line":88,"column":30}},"loc":{"start":{"line":88,"column":52},"end":{"line":102,"column":9}},"line":88},"18":{"name":"(anonymous_18)","decl":{"start":{"line":92,"column":22},"end":{"line":92,"column":23}},"loc":{"start":{"line":92,"column":34},"end":{"line":94,"column":13}},"line":92},"19":{"name":"(anonymous_19)","decl":{"start":{"line":95,"column":23},"end":{"line":95,"column":24}},"loc":{"start":{"line":95,"column":34},"end":{"line":101,"column":13}},"line":95}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":33},"end":{"line":15,"column":114}},"type":"cond-expr","locations":[{"start":{"line":15,"column":56},"end":{"line":15,"column":102}},{"start":{"line":15,"column":105},"end":{"line":15,"column":114}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":1,"39":1,"40":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\ProductControllerRest.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\ProductControllerRest.ts"],"names":[],"mappings":"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","sourcesContent":["import { type Request, type Response, type Router } from 'express'\r\n\r\nimport type Product from '../../../inners/models/entities/Product'\r\nimport type Result from '../../../inners/models/value_objects/Result'\r\nimport type ProductManagement from '../../../inners/use_cases/managements/ProductManagement'\r\n\r\nexport default class ProductControllerRest {\r\n  router: Router\r\n  productManagement: ProductManagement\r\n\r\n  constructor (router: Router, productManagement: ProductManagement) {\r\n    this.router = router\r\n    this.productManagement = productManagement\r\n  }\r\n\r\n  registerRoutes = (): void => {\r\n    this.router.get('', this.readAll)\r\n    this.router.get('/videos/:videoId', this.readAllByVideoId)\r\n    this.router.get('/:id', this.readOneById)\r\n    this.router.post('', this.createOne)\r\n    this.router.patch('/:id', this.patchOneById)\r\n    this.router.delete('/:id', this.deleteOneById)\r\n  }\r\n\r\n  readAll = (request: Request, response: Response): void => {\r\n    const { search } = request.query\r\n    const parsedSearch: any | undefined = search !== undefined ? JSON.parse(decodeURIComponent(String(search))) : undefined\r\n    this.productManagement\r\n      .readAll(parsedSearch)\r\n      .then((result: Result<Product[]>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  readAllByVideoId = (request: Request, response: Response): void => {\r\n    const { videoId } = request.params\r\n    this.productManagement\r\n      .readAllByVideoId(videoId)\r\n      .then((result: Result<Product[]>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  readOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.productManagement\r\n      .readOneById(id)\r\n      .then((result: Result<Product>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  createOne = (request: Request, response: Response): void => {\r\n    this.productManagement\r\n      .createOne(request.body)\r\n      .then((result: Result<Product>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  patchOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.productManagement\r\n      .patchOneById(id, request.body)\r\n      .then((result: Result<Product>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  deleteOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.productManagement\r\n      .deleteOneById(id)\r\n      .then((result: Result<Product>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a2bf2ee588b9b8b7c0e520235714f49e864b3692"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\ProductRepository.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\ProductRepository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":24},"end":{"line":15,"column":76}},"16":{"start":{"line":16,"column":19},"end":{"line":16,"column":38}},"17":{"start":{"line":19,"column":8},"end":{"line":30,"column":11}},"18":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"19":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"20":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"21":{"start":{"line":22,"column":20},"end":{"line":22,"column":75}},"22":{"start":{"line":25,"column":34},"end":{"line":25,"column":76}},"23":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"24":{"start":{"line":27,"column":16},"end":{"line":27,"column":59}},"25":{"start":{"line":29,"column":12},"end":{"line":29,"column":33}},"26":{"start":{"line":31,"column":8},"end":{"line":59,"column":11}},"27":{"start":{"line":31,"column":45},"end":{"line":59,"column":10}},"28":{"start":{"line":32,"column":43},"end":{"line":54,"column":14}},"29":{"start":{"line":55,"column":12},"end":{"line":57,"column":13}},"30":{"start":{"line":56,"column":16},"end":{"line":56,"column":71}},"31":{"start":{"line":58,"column":12},"end":{"line":58,"column":42}},"32":{"start":{"line":60,"column":8},"end":{"line":66,"column":11}},"33":{"start":{"line":60,"column":35},"end":{"line":66,"column":10}},"34":{"start":{"line":61,"column":33},"end":{"line":61,"column":114}},"35":{"start":{"line":62,"column":12},"end":{"line":64,"column":13}},"36":{"start":{"line":63,"column":16},"end":{"line":63,"column":58}},"37":{"start":{"line":65,"column":12},"end":{"line":65,"column":32}},"38":{"start":{"line":67,"column":8},"end":{"line":69,"column":11}},"39":{"start":{"line":67,"column":38},"end":{"line":69,"column":10}},"40":{"start":{"line":68,"column":12},"end":{"line":68,"column":65}},"41":{"start":{"line":70,"column":8},"end":{"line":76,"column":11}},"42":{"start":{"line":70,"column":45},"end":{"line":76,"column":10}},"43":{"start":{"line":71,"column":35},"end":{"line":71,"column":159}},"44":{"start":{"line":72,"column":12},"end":{"line":74,"column":13}},"45":{"start":{"line":73,"column":16},"end":{"line":73,"column":60}},"46":{"start":{"line":75,"column":12},"end":{"line":75,"column":34}},"47":{"start":{"line":77,"column":8},"end":{"line":83,"column":11}},"48":{"start":{"line":77,"column":37},"end":{"line":83,"column":10}},"49":{"start":{"line":78,"column":35},"end":{"line":78,"column":125}},"50":{"start":{"line":79,"column":12},"end":{"line":81,"column":13}},"51":{"start":{"line":80,"column":16},"end":{"line":80,"column":60}},"52":{"start":{"line":82,"column":12},"end":{"line":82,"column":34}},"53":{"start":{"line":84,"column":8},"end":{"line":84,"column":41}},"54":{"start":{"line":87,"column":0},"end":{"line":87,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":30},"end":{"line":85,"column":5}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":23},"end":{"line":19,"column":24}},"loc":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":67},"end":{"line":19,"column":68}},"loc":{"start":{"line":19,"column":80},"end":{"line":30,"column":9}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":32},"end":{"line":31,"column":33}},"loc":{"start":{"line":31,"column":45},"end":{"line":59,"column":10}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":31,"column":77},"end":{"line":31,"column":78}},"loc":{"start":{"line":31,"column":90},"end":{"line":59,"column":9}},"line":31},"13":{"name":"(anonymous_13)","decl":{"start":{"line":60,"column":27},"end":{"line":60,"column":28}},"loc":{"start":{"line":60,"column":35},"end":{"line":66,"column":10}},"line":60},"14":{"name":"(anonymous_14)","decl":{"start":{"line":60,"column":67},"end":{"line":60,"column":68}},"loc":{"start":{"line":60,"column":80},"end":{"line":66,"column":9}},"line":60},"15":{"name":"(anonymous_15)","decl":{"start":{"line":67,"column":25},"end":{"line":67,"column":26}},"loc":{"start":{"line":67,"column":38},"end":{"line":69,"column":10}},"line":67},"16":{"name":"(anonymous_16)","decl":{"start":{"line":67,"column":70},"end":{"line":67,"column":71}},"loc":{"start":{"line":67,"column":83},"end":{"line":69,"column":9}},"line":67},"17":{"name":"(anonymous_17)","decl":{"start":{"line":70,"column":28},"end":{"line":70,"column":29}},"loc":{"start":{"line":70,"column":45},"end":{"line":76,"column":10}},"line":70},"18":{"name":"(anonymous_18)","decl":{"start":{"line":70,"column":77},"end":{"line":70,"column":78}},"loc":{"start":{"line":70,"column":90},"end":{"line":76,"column":9}},"line":70},"19":{"name":"(anonymous_19)","decl":{"start":{"line":77,"column":29},"end":{"line":77,"column":30}},"loc":{"start":{"line":77,"column":37},"end":{"line":83,"column":10}},"line":77},"20":{"name":"(anonymous_20)","decl":{"start":{"line":77,"column":69},"end":{"line":77,"column":70}},"loc":{"start":{"line":77,"column":82},"end":{"line":83,"column":9}},"line":77}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},{"start":{"line":20,"column":12},"end":{"line":24,"column":13}}],"line":20},"9":{"loc":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"type":"if","locations":[{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},{"start":{"line":21,"column":16},"end":{"line":23,"column":17}}],"line":21},"10":{"loc":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},{"start":{"line":26,"column":12},"end":{"line":28,"column":13}}],"line":26},"11":{"loc":{"start":{"line":55,"column":12},"end":{"line":57,"column":13}},"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":57,"column":13}},{"start":{"line":55,"column":12},"end":{"line":57,"column":13}}],"line":55},"12":{"loc":{"start":{"line":62,"column":12},"end":{"line":64,"column":13}},"type":"if","locations":[{"start":{"line":62,"column":12},"end":{"line":64,"column":13}},{"start":{"line":62,"column":12},"end":{"line":64,"column":13}}],"line":62},"13":{"loc":{"start":{"line":72,"column":12},"end":{"line":74,"column":13}},"type":"if","locations":[{"start":{"line":72,"column":12},"end":{"line":74,"column":13}},{"start":{"line":72,"column":12},"end":{"line":74,"column":13}}],"line":72},"14":{"loc":{"start":{"line":79,"column":12},"end":{"line":81,"column":13}},"type":"if","locations":[{"start":{"line":79,"column":12},"end":{"line":81,"column":13}},{"start":{"line":79,"column":12},"end":{"line":81,"column":13}}],"line":79}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\ProductRepository.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\ProductRepository.ts"],"names":[],"mappings":"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","sourcesContent":["import type Product from '../../inners/models/entities/Product'\r\nimport type OneDatastore from '../datastores/OneDatastore'\r\nimport ProductSchema from '../schemas/ProductSchema'\r\nimport { Types } from 'mongoose'\r\n\r\nexport default class ProductRepository {\r\n  oneDatastore: OneDatastore\r\n\r\n  constructor (datastoreOne: OneDatastore) {\r\n    this.oneDatastore = datastoreOne\r\n  }\r\n\r\n  readAll = async (search?: any): Promise<Product[]> => {\r\n    if (search !== undefined) {\r\n      if (search._id !== null) {\r\n        search._id = new Types.ObjectId(search._id)\r\n      }\r\n    }\r\n    const foundProducts: Product[] | null = await ProductSchema.find(search)\r\n    if (foundProducts === null) {\r\n      throw new Error('Found products is null.')\r\n    }\r\n    return foundProducts\r\n  }\r\n\r\n  readAllByVideoId = async (videoId: string): Promise<Product[]> => {\r\n    const foundProductsByVideoId: Product[] | null = await ProductSchema.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: 'video_product_maps',\r\n          localField: '_id',\r\n          foreignField: 'productId',\r\n          as: 'videoProductMaps'\r\n        }\r\n      },\r\n      {\r\n        $match: {\r\n          'videoProductMaps.videoId': new Types.ObjectId(videoId)\r\n        }\r\n      },\r\n      {\r\n        $project: {\r\n          _id: 1,\r\n          title: 1,\r\n          price: 1,\r\n          linkUrl: 1\r\n        }\r\n      }\r\n    ])\r\n    if (foundProductsByVideoId === null) {\r\n      throw new Error('Found products by video id is null.')\r\n    }\r\n    return foundProductsByVideoId\r\n  }\r\n\r\n  readOneById = async (id: string): Promise<Product> => {\r\n    const foundProduct: Product | null = await ProductSchema.findOne({ _id: new Types.ObjectId(id) })\r\n    if (foundProduct === null) {\r\n      throw new Error('Found product is null.')\r\n    }\r\n    return foundProduct\r\n  }\r\n\r\n  createOne = async (product: Product): Promise<Product> => {\r\n    return await ProductSchema.create(product)\r\n  }\r\n\r\n  patchOneById = async (id: string, product: Product): Promise<Product> => {\r\n    const patchedProduct: Product | null = await ProductSchema.findOneAndUpdate({ _id: new Types.ObjectId(id) }, { $set: product }, { new: true })\r\n    if (patchedProduct === null) {\r\n      throw new Error('Patched product is null.')\r\n    }\r\n    return patchedProduct\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<Product> => {\r\n    const deletedProduct: Product | null = await ProductSchema.findOneAndDelete({ _id: new Types.ObjectId(id) })\r\n    if (deletedProduct === null) {\r\n      throw new Error('Deleted product is null.')\r\n    }\r\n    return deletedProduct\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a907765dfd346a6f1bca18c4544d435b42bb149b"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\ProductSchema.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\ProductSchema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":4,"column":22},"end":{"line":16,"column":2}},"3":{"start":{"line":17,"column":0},"end":{"line":17,"column":67}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\ProductSchema.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\ProductSchema.ts"],"names":[],"mappings":";;AAAA,uCAAwC;AAGxC,MAAM,aAAa,GAAG,IAAI,iBAAM,CAAU;IACxC,KAAK,EAAE;QACL,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,MAAM;KAC1B;IACD,KAAK,EAAE;QACL,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,MAAM;KAC1B;IACD,OAAO,EAAE;QACP,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,MAAM;KAC1B;CACF,EACD;IACE,UAAU,EAAE,KAAK;CAClB,CAAC,CAAA;AAEF,kBAAe,IAAA,gBAAK,EAAU,UAAU,EAAE,aAAa,CAAC,CAAA","sourcesContent":["import { model, Schema } from 'mongoose'\r\nimport type Product from '../../inners/models/entities/Product'\r\n\r\nconst productSchema = new Schema<Product>({\r\n  title: {\r\n    type: Schema.Types.String\r\n  },\r\n  price: {\r\n    type: Schema.Types.Number\r\n  },\r\n  linkUrl: {\r\n    type: Schema.Types.String\r\n  }\r\n},\r\n{\r\n  versionKey: false\r\n})\r\n\r\nexport default model<Product>('products', productSchema)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5e508a78ab5fcc04ef6c8611219b98a8115695e6"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\ProductManagement.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\ProductManagement.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":78}},"16":{"start":{"line":18,"column":8},"end":{"line":21,"column":11}},"17":{"start":{"line":18,"column":35},"end":{"line":21,"column":10}},"18":{"start":{"line":19,"column":34},"end":{"line":19,"column":78}},"19":{"start":{"line":20,"column":12},"end":{"line":20,"column":89}},"20":{"start":{"line":22,"column":8},"end":{"line":25,"column":11}},"21":{"start":{"line":22,"column":45},"end":{"line":25,"column":10}},"22":{"start":{"line":23,"column":43},"end":{"line":23,"column":97}},"23":{"start":{"line":24,"column":12},"end":{"line":24,"column":110}},"24":{"start":{"line":26,"column":8},"end":{"line":29,"column":11}},"25":{"start":{"line":26,"column":35},"end":{"line":29,"column":10}},"26":{"start":{"line":27,"column":33},"end":{"line":27,"column":77}},"27":{"start":{"line":28,"column":12},"end":{"line":28,"column":94}},"28":{"start":{"line":30,"column":8},"end":{"line":33,"column":11}},"29":{"start":{"line":30,"column":35},"end":{"line":33,"column":10}},"30":{"start":{"line":31,"column":35},"end":{"line":31,"column":79}},"31":{"start":{"line":32,"column":12},"end":{"line":32,"column":92}},"32":{"start":{"line":34,"column":8},"end":{"line":37,"column":11}},"33":{"start":{"line":34,"column":42},"end":{"line":37,"column":10}},"34":{"start":{"line":35,"column":35},"end":{"line":35,"column":86}},"35":{"start":{"line":36,"column":12},"end":{"line":36,"column":97}},"36":{"start":{"line":38,"column":8},"end":{"line":41,"column":11}},"37":{"start":{"line":38,"column":37},"end":{"line":41,"column":10}},"38":{"start":{"line":39,"column":35},"end":{"line":39,"column":81}},"39":{"start":{"line":40,"column":12},"end":{"line":40,"column":98}},"40":{"start":{"line":42,"column":8},"end":{"line":42,"column":51}},"41":{"start":{"line":45,"column":0},"end":{"line":45,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":35},"end":{"line":43,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":35},"end":{"line":21,"column":10}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":18,"column":67},"end":{"line":18,"column":68}},"loc":{"start":{"line":18,"column":80},"end":{"line":21,"column":9}},"line":18},"11":{"name":"(anonymous_11)","decl":{"start":{"line":22,"column":32},"end":{"line":22,"column":33}},"loc":{"start":{"line":22,"column":45},"end":{"line":25,"column":10}},"line":22},"12":{"name":"(anonymous_12)","decl":{"start":{"line":22,"column":77},"end":{"line":22,"column":78}},"loc":{"start":{"line":22,"column":90},"end":{"line":25,"column":9}},"line":22},"13":{"name":"(anonymous_13)","decl":{"start":{"line":26,"column":27},"end":{"line":26,"column":28}},"loc":{"start":{"line":26,"column":35},"end":{"line":29,"column":10}},"line":26},"14":{"name":"(anonymous_14)","decl":{"start":{"line":26,"column":67},"end":{"line":26,"column":68}},"loc":{"start":{"line":26,"column":80},"end":{"line":29,"column":9}},"line":26},"15":{"name":"(anonymous_15)","decl":{"start":{"line":30,"column":25},"end":{"line":30,"column":26}},"loc":{"start":{"line":30,"column":35},"end":{"line":33,"column":10}},"line":30},"16":{"name":"(anonymous_16)","decl":{"start":{"line":30,"column":67},"end":{"line":30,"column":68}},"loc":{"start":{"line":30,"column":80},"end":{"line":33,"column":9}},"line":30},"17":{"name":"(anonymous_17)","decl":{"start":{"line":34,"column":28},"end":{"line":34,"column":29}},"loc":{"start":{"line":34,"column":42},"end":{"line":37,"column":10}},"line":34},"18":{"name":"(anonymous_18)","decl":{"start":{"line":34,"column":74},"end":{"line":34,"column":75}},"loc":{"start":{"line":34,"column":87},"end":{"line":37,"column":9}},"line":34},"19":{"name":"(anonymous_19)","decl":{"start":{"line":38,"column":29},"end":{"line":38,"column":30}},"loc":{"start":{"line":38,"column":37},"end":{"line":41,"column":10}},"line":38},"20":{"name":"(anonymous_20)","decl":{"start":{"line":38,"column":69},"end":{"line":38,"column":70}},"loc":{"start":{"line":38,"column":82},"end":{"line":41,"column":9}},"line":38}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":1,"41":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\ProductManagement.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\ProductManagement.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,+EAAsD;AAGtD,MAAqB,iBAAiB;IAGpC,YAAa,iBAAoC;QAIjD,YAAO,GAAG,CAAO,MAAY,EAA8B,EAAE;YAC3D,MAAM,aAAa,GAAc,MAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAA;YAC7E,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,2BAA2B,EAC3B,aAAa,CACd,CAAA;QACH,CAAC,CAAA,CAAA;QAED,qBAAgB,GAAG,CAAO,OAAe,EAA8B,EAAE;YACvE,MAAM,sBAAsB,GAAc,MAAM,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAA;YAChG,OAAO,IAAI,gBAAM,CACf,GAAG,EAEH,uCAAuC,EACvC,sBAAsB,CACvB,CAAA;QACH,CAAC,CAAA,CAAA;QAED,gBAAW,GAAG,CAAO,EAAU,EAA6B,EAAE;YAC5D,MAAM,YAAY,GAAY,MAAM,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;YAC1E,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,iCAAiC,EACjC,YAAY,CACb,CAAA;QACH,CAAC,CAAA,CAAA;QAED,cAAS,GAAG,CAAO,IAAS,EAA4B,EAAE;YACxD,MAAM,cAAc,GAAY,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;YAC5E,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,6BAA6B,EAC7B,cAAc,CACf,CAAA;QACH,CAAC,CAAA,CAAA;QAED,iBAAY,GAAG,CAAO,EAAU,EAAE,IAAS,EAA4B,EAAE;YACvE,MAAM,cAAc,GAAY,MAAM,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,CAAA;YACnF,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,kCAAkC,EAClC,cAAc,CACf,CAAA;QACH,CAAC,CAAA,CAAA;QAED,kBAAa,GAAG,CAAO,EAAU,EAA6B,EAAE;YAC9D,MAAM,cAAc,GAAY,MAAM,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAA;YAC9E,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,mCAAmC,EACnC,cAAc,CACf,CAAA;QACH,CAAC,CAAA,CAAA;QAxDC,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAA;IAC5C,CAAC;CAwDF;AA7DD,oCA6DC","sourcesContent":["import type ProductRepository from '../../../outers/repositories/ProductRepository'\r\nimport Result from '../../models/value_objects/Result'\r\nimport type Product from '../../models/entities/Product'\r\n\r\nexport default class ProductManagement {\r\n  productRepository: ProductRepository\r\n\r\n  constructor (productRepository: ProductRepository) {\r\n    this.productRepository = productRepository\r\n  }\r\n\r\n  readAll = async (search?: any): Promise<Result<Product[]>> => {\r\n    const foundProducts: Product[] = await this.productRepository.readAll(search)\r\n    return new Result<Product[]>(\r\n      200,\r\n      'Product read all succeed.',\r\n      foundProducts\r\n    )\r\n  }\r\n\r\n  readAllByVideoId = async (videoId: string): Promise<Result<Product[]>> => {\r\n    const foundProductsByVideoId: Product[] = await this.productRepository.readAllByVideoId(videoId)\r\n    return new Result<Product[]>(\r\n      200,\r\n\r\n      'Product read all by video id succeed.',\r\n      foundProductsByVideoId\r\n    )\r\n  }\r\n\r\n  readOneById = async (id: string): Promise<Result<Product >> => {\r\n    const foundProduct: Product = await this.productRepository.readOneById(id)\r\n    return new Result<Product >(\r\n      200,\r\n      'Product read one by id succeed.',\r\n      foundProduct\r\n    )\r\n  }\r\n\r\n  createOne = async (item: any): Promise<Result<Product>> => {\r\n    const createdProduct: Product = await this.productRepository.createOne(item)\r\n    return new Result<Product>(\r\n      201,\r\n      'Product create one succeed.',\r\n      createdProduct\r\n    )\r\n  }\r\n\r\n  patchOneById = async (id: string, item: any): Promise<Result<Product>> => {\r\n    const patchedProduct: Product = await this.productRepository.patchOneById(id, item)\r\n    return new Result<Product >(\r\n      200,\r\n      'Product patch one by id succeed.',\r\n      patchedProduct\r\n    )\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<Result<Product >> => {\r\n    const deletedProduct: Product = await this.productRepository.deleteOneById(id)\r\n    return new Result<Product>(\r\n      200,\r\n      'Product delete one by id succeed.',\r\n      deletedProduct\r\n    )\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b4a2a8dac3077f3c8584bb622eccaa986c1105a7"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\value_objects\\Result.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\value_objects\\Result.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":29}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":31}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":25}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":39},"end":{"line":8,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":13,"2":13,"3":13,"4":1},"f":{"0":13},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\value_objects\\Result.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\value_objects\\Result.ts"],"names":[],"mappings":";;AAAA,MAAqB,MAAM;IAKzB,YACE,MAAc,EACd,OAAe,EACf,IAAO;QAEP,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;QACpB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;QACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAA;IAClB,CAAC;CACF;AAdD,yBAcC","sourcesContent":["export default class Result<T> {\r\n  status: number\r\n  message: string\r\n  data: T\r\n\r\n  constructor (\r\n    status: number,\r\n    message: string,\r\n    data: T\r\n  ) {\r\n    this.status = status\r\n    this.message = message\r\n    this.data = data\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"287c9dc4a516900ca286f1f65683d9fd5c6d95f1"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\UserRepository.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\UserRepository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":21},"end":{"line":15,"column":70}},"16":{"start":{"line":16,"column":19},"end":{"line":16,"column":38}},"17":{"start":{"line":19,"column":8},"end":{"line":30,"column":11}},"18":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"19":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"20":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"21":{"start":{"line":22,"column":20},"end":{"line":22,"column":75}},"22":{"start":{"line":25,"column":31},"end":{"line":25,"column":70}},"23":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"24":{"start":{"line":27,"column":16},"end":{"line":27,"column":56}},"25":{"start":{"line":29,"column":12},"end":{"line":29,"column":30}},"26":{"start":{"line":31,"column":8},"end":{"line":37,"column":11}},"27":{"start":{"line":31,"column":35},"end":{"line":37,"column":10}},"28":{"start":{"line":32,"column":30},"end":{"line":32,"column":108}},"29":{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},"30":{"start":{"line":34,"column":16},"end":{"line":34,"column":55}},"31":{"start":{"line":36,"column":12},"end":{"line":36,"column":29}},"32":{"start":{"line":38,"column":8},"end":{"line":44,"column":11}},"33":{"start":{"line":38,"column":47},"end":{"line":44,"column":10}},"34":{"start":{"line":39,"column":30},"end":{"line":39,"column":78}},"35":{"start":{"line":40,"column":12},"end":{"line":42,"column":13}},"36":{"start":{"line":41,"column":16},"end":{"line":41,"column":55}},"37":{"start":{"line":43,"column":12},"end":{"line":43,"column":29}},"38":{"start":{"line":45,"column":8},"end":{"line":51,"column":11}},"39":{"start":{"line":45,"column":68},"end":{"line":51,"column":10}},"40":{"start":{"line":46,"column":30},"end":{"line":46,"column":88}},"41":{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},"42":{"start":{"line":48,"column":16},"end":{"line":48,"column":55}},"43":{"start":{"line":50,"column":12},"end":{"line":50,"column":29}},"44":{"start":{"line":52,"column":8},"end":{"line":54,"column":11}},"45":{"start":{"line":52,"column":35},"end":{"line":54,"column":10}},"46":{"start":{"line":53,"column":12},"end":{"line":53,"column":59}},"47":{"start":{"line":55,"column":8},"end":{"line":61,"column":11}},"48":{"start":{"line":55,"column":42},"end":{"line":61,"column":10}},"49":{"start":{"line":56,"column":32},"end":{"line":56,"column":150}},"50":{"start":{"line":57,"column":12},"end":{"line":59,"column":13}},"51":{"start":{"line":58,"column":16},"end":{"line":58,"column":57}},"52":{"start":{"line":60,"column":12},"end":{"line":60,"column":31}},"53":{"start":{"line":62,"column":8},"end":{"line":68,"column":11}},"54":{"start":{"line":62,"column":37},"end":{"line":68,"column":10}},"55":{"start":{"line":63,"column":32},"end":{"line":63,"column":119}},"56":{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},"57":{"start":{"line":65,"column":16},"end":{"line":65,"column":57}},"58":{"start":{"line":67,"column":12},"end":{"line":67,"column":31}},"59":{"start":{"line":69,"column":8},"end":{"line":69,"column":41}},"60":{"start":{"line":72,"column":0},"end":{"line":72,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":30},"end":{"line":70,"column":5}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":23},"end":{"line":19,"column":24}},"loc":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":67},"end":{"line":19,"column":68}},"loc":{"start":{"line":19,"column":80},"end":{"line":30,"column":9}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":27},"end":{"line":31,"column":28}},"loc":{"start":{"line":31,"column":35},"end":{"line":37,"column":10}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":31,"column":67},"end":{"line":31,"column":68}},"loc":{"start":{"line":31,"column":80},"end":{"line":37,"column":9}},"line":31},"13":{"name":"(anonymous_13)","decl":{"start":{"line":38,"column":33},"end":{"line":38,"column":34}},"loc":{"start":{"line":38,"column":47},"end":{"line":44,"column":10}},"line":38},"14":{"name":"(anonymous_14)","decl":{"start":{"line":38,"column":79},"end":{"line":38,"column":80}},"loc":{"start":{"line":38,"column":92},"end":{"line":44,"column":9}},"line":38},"15":{"name":"(anonymous_15)","decl":{"start":{"line":45,"column":44},"end":{"line":45,"column":45}},"loc":{"start":{"line":45,"column":68},"end":{"line":51,"column":10}},"line":45},"16":{"name":"(anonymous_16)","decl":{"start":{"line":45,"column":100},"end":{"line":45,"column":101}},"loc":{"start":{"line":45,"column":113},"end":{"line":51,"column":9}},"line":45},"17":{"name":"(anonymous_17)","decl":{"start":{"line":52,"column":25},"end":{"line":52,"column":26}},"loc":{"start":{"line":52,"column":35},"end":{"line":54,"column":10}},"line":52},"18":{"name":"(anonymous_18)","decl":{"start":{"line":52,"column":67},"end":{"line":52,"column":68}},"loc":{"start":{"line":52,"column":80},"end":{"line":54,"column":9}},"line":52},"19":{"name":"(anonymous_19)","decl":{"start":{"line":55,"column":28},"end":{"line":55,"column":29}},"loc":{"start":{"line":55,"column":42},"end":{"line":61,"column":10}},"line":55},"20":{"name":"(anonymous_20)","decl":{"start":{"line":55,"column":74},"end":{"line":55,"column":75}},"loc":{"start":{"line":55,"column":87},"end":{"line":61,"column":9}},"line":55},"21":{"name":"(anonymous_21)","decl":{"start":{"line":62,"column":29},"end":{"line":62,"column":30}},"loc":{"start":{"line":62,"column":37},"end":{"line":68,"column":10}},"line":62},"22":{"name":"(anonymous_22)","decl":{"start":{"line":62,"column":69},"end":{"line":62,"column":70}},"loc":{"start":{"line":62,"column":82},"end":{"line":68,"column":9}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},{"start":{"line":20,"column":12},"end":{"line":24,"column":13}}],"line":20},"9":{"loc":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"type":"if","locations":[{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},{"start":{"line":21,"column":16},"end":{"line":23,"column":17}}],"line":21},"10":{"loc":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},{"start":{"line":26,"column":12},"end":{"line":28,"column":13}}],"line":26},"11":{"loc":{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},"type":"if","locations":[{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},{"start":{"line":33,"column":12},"end":{"line":35,"column":13}}],"line":33},"12":{"loc":{"start":{"line":40,"column":12},"end":{"line":42,"column":13}},"type":"if","locations":[{"start":{"line":40,"column":12},"end":{"line":42,"column":13}},{"start":{"line":40,"column":12},"end":{"line":42,"column":13}}],"line":40},"13":{"loc":{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},{"start":{"line":47,"column":12},"end":{"line":49,"column":13}}],"line":47},"14":{"loc":{"start":{"line":57,"column":12},"end":{"line":59,"column":13}},"type":"if","locations":[{"start":{"line":57,"column":12},"end":{"line":59,"column":13}},{"start":{"line":57,"column":12},"end":{"line":59,"column":13}}],"line":57},"15":{"loc":{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},"type":"if","locations":[{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},{"start":{"line":64,"column":12},"end":{"line":66,"column":13}}],"line":64}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":2,"6":0,"7":0,"8":0,"9":0,"10":4,"11":2,"12":1,"13":1,"14":1,"15":1,"16":1,"17":2,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":2,"27":0,"28":0,"29":0,"30":0,"31":0,"32":2,"33":2,"34":2,"35":2,"36":0,"37":2,"38":2,"39":0,"40":0,"41":0,"42":0,"43":0,"44":2,"45":0,"46":0,"47":2,"48":0,"49":0,"50":0,"51":0,"52":0,"53":2,"54":0,"55":0,"56":0,"57":0,"58":0,"59":2,"60":1},"f":{"0":2,"1":2,"2":2,"3":2,"4":2,"5":0,"6":4,"7":1,"8":2,"9":0,"10":0,"11":0,"12":0,"13":2,"14":2,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2],"3":[2,2],"4":[2,2],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,2],"13":[0,0],"14":[0,0],"15":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\UserRepository.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\UserRepository.ts"],"names":[],"mappings":"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","sourcesContent":["import type User from '../../inners/models/entities/User'\r\nimport type OneDatastore from '../datastores/OneDatastore'\r\nimport UserSchema from '../schemas/UserSchema'\r\nimport { Types } from 'mongoose'\r\n\r\nexport default class UserRepository {\r\n  oneDatastore: OneDatastore\r\n\r\n  constructor (datastoreOne: OneDatastore) {\r\n    this.oneDatastore = datastoreOne\r\n  }\r\n\r\n  readAll = async (search?: any): Promise<User[]> => {\r\n    if (search !== undefined) {\r\n      if (search._id !== null) {\r\n        search._id = new Types.ObjectId(search._id)\r\n      }\r\n    }\r\n    const foundUsers: User[] | null = await UserSchema.find(search)\r\n    if (foundUsers === null) {\r\n      throw new Error('Found users is null.')\r\n    }\r\n    return foundUsers\r\n  }\r\n\r\n  readOneById = async (id: string): Promise<User> => {\r\n    const foundUser: User | null = await UserSchema.findOne({ _id: new Types.ObjectId(id) })\r\n    if (foundUser === null) {\r\n      throw new Error('Found user is null.')\r\n    }\r\n    return foundUser\r\n  }\r\n\r\n  readOneByUsername = async (username: string): Promise<User> => {\r\n    const foundUser: User | null = await UserSchema.findOne({ username })\r\n    if (foundUser === null) {\r\n      throw new Error('Found user is null.')\r\n    }\r\n    return foundUser\r\n  }\r\n\r\n  readOneByUsernameAndPassword = async (username: string, password: string): Promise<User> => {\r\n    const foundUser: User | null = await UserSchema.findOne({ username, password })\r\n    if (foundUser === null) {\r\n      throw new Error('Found user is null.')\r\n    }\r\n    return foundUser\r\n  }\r\n\r\n  createOne = async (user: User): Promise<User> => {\r\n    return await UserSchema.create(user)\r\n  }\r\n\r\n  patchOneById = async (id: string, user: User): Promise<User> => {\r\n    const patchedUser: User | null = await UserSchema.findOneAndUpdate({ _id: new Types.ObjectId(id) }, { $set: user }, { new: true })\r\n    if (patchedUser === null) {\r\n      throw new Error('Patched user is null.')\r\n    }\r\n    return patchedUser\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<User> => {\r\n    const deletedUser: User | null = await UserSchema.findOneAndDelete({ _id: new Types.ObjectId(id) })\r\n    if (deletedUser === null) {\r\n      throw new Error('Deleted user is null.')\r\n    }\r\n    return deletedUser\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8a276feb3b310791f6f0614371d03ae1f33aa000"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\UserSchema.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\UserSchema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":4,"column":19},"end":{"line":17,"column":2}},"3":{"start":{"line":18,"column":0},"end":{"line":18,"column":61}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\UserSchema.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\UserSchema.ts"],"names":[],"mappings":";;AAAA,uCAAwC;AAGxC,MAAM,UAAU,GAAG,IAAI,iBAAM,CAAO;IAClC,QAAQ,EAAE;QACR,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,MAAM;QACzB,MAAM,EAAE,IAAI;KACb;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,MAAM;KAC1B;IACD,UAAU,EAAE;QACV,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,MAAM;KAC1B;CACF,EACD;IACE,UAAU,EAAE,KAAK;CAClB,CAAC,CAAA;AAEF,kBAAe,IAAA,gBAAK,EAAO,OAAO,EAAE,UAAU,CAAC,CAAA","sourcesContent":["import { model, Schema } from 'mongoose'\r\nimport type User from '../../inners/models/entities/User'\r\n\r\nconst userSchema = new Schema<User>({\r\n  username: {\r\n    type: Schema.Types.String,\r\n    unique: true\r\n  },\r\n  password: {\r\n    type: Schema.Types.String\r\n  },\r\n  pictureUrl: {\r\n    type: Schema.Types.String\r\n  }\r\n},\r\n{\r\n  versionKey: false\r\n})\r\n\r\nexport default model<User>('users', userSchema)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"86caf4a7d33d8ff92c427831921d8771739a76f2"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\UserManagement.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\UserManagement.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":78}},"16":{"start":{"line":18,"column":8},"end":{"line":21,"column":11}},"17":{"start":{"line":18,"column":35},"end":{"line":21,"column":10}},"18":{"start":{"line":19,"column":31},"end":{"line":19,"column":72}},"19":{"start":{"line":20,"column":12},"end":{"line":20,"column":83}},"20":{"start":{"line":22,"column":8},"end":{"line":25,"column":11}},"21":{"start":{"line":22,"column":35},"end":{"line":25,"column":10}},"22":{"start":{"line":23,"column":30},"end":{"line":23,"column":71}},"23":{"start":{"line":24,"column":12},"end":{"line":24,"column":88}},"24":{"start":{"line":26,"column":8},"end":{"line":29,"column":11}},"25":{"start":{"line":26,"column":47},"end":{"line":29,"column":10}},"26":{"start":{"line":27,"column":30},"end":{"line":27,"column":83}},"27":{"start":{"line":28,"column":12},"end":{"line":28,"column":94}},"28":{"start":{"line":30,"column":8},"end":{"line":33,"column":11}},"29":{"start":{"line":30,"column":68},"end":{"line":33,"column":10}},"30":{"start":{"line":31,"column":30},"end":{"line":31,"column":104}},"31":{"start":{"line":32,"column":12},"end":{"line":32,"column":107}},"32":{"start":{"line":34,"column":8},"end":{"line":37,"column":11}},"33":{"start":{"line":34,"column":35},"end":{"line":37,"column":10}},"34":{"start":{"line":35,"column":32},"end":{"line":35,"column":73}},"35":{"start":{"line":36,"column":12},"end":{"line":36,"column":86}},"36":{"start":{"line":38,"column":8},"end":{"line":41,"column":11}},"37":{"start":{"line":38,"column":42},"end":{"line":41,"column":10}},"38":{"start":{"line":39,"column":32},"end":{"line":39,"column":80}},"39":{"start":{"line":40,"column":12},"end":{"line":40,"column":91}},"40":{"start":{"line":42,"column":8},"end":{"line":45,"column":11}},"41":{"start":{"line":42,"column":37},"end":{"line":45,"column":10}},"42":{"start":{"line":43,"column":32},"end":{"line":43,"column":75}},"43":{"start":{"line":44,"column":12},"end":{"line":44,"column":92}},"44":{"start":{"line":46,"column":8},"end":{"line":46,"column":45}},"45":{"start":{"line":49,"column":0},"end":{"line":49,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":32},"end":{"line":47,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":35},"end":{"line":21,"column":10}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":18,"column":67},"end":{"line":18,"column":68}},"loc":{"start":{"line":18,"column":80},"end":{"line":21,"column":9}},"line":18},"11":{"name":"(anonymous_11)","decl":{"start":{"line":22,"column":27},"end":{"line":22,"column":28}},"loc":{"start":{"line":22,"column":35},"end":{"line":25,"column":10}},"line":22},"12":{"name":"(anonymous_12)","decl":{"start":{"line":22,"column":67},"end":{"line":22,"column":68}},"loc":{"start":{"line":22,"column":80},"end":{"line":25,"column":9}},"line":22},"13":{"name":"(anonymous_13)","decl":{"start":{"line":26,"column":33},"end":{"line":26,"column":34}},"loc":{"start":{"line":26,"column":47},"end":{"line":29,"column":10}},"line":26},"14":{"name":"(anonymous_14)","decl":{"start":{"line":26,"column":79},"end":{"line":26,"column":80}},"loc":{"start":{"line":26,"column":92},"end":{"line":29,"column":9}},"line":26},"15":{"name":"(anonymous_15)","decl":{"start":{"line":30,"column":44},"end":{"line":30,"column":45}},"loc":{"start":{"line":30,"column":68},"end":{"line":33,"column":10}},"line":30},"16":{"name":"(anonymous_16)","decl":{"start":{"line":30,"column":100},"end":{"line":30,"column":101}},"loc":{"start":{"line":30,"column":113},"end":{"line":33,"column":9}},"line":30},"17":{"name":"(anonymous_17)","decl":{"start":{"line":34,"column":25},"end":{"line":34,"column":26}},"loc":{"start":{"line":34,"column":35},"end":{"line":37,"column":10}},"line":34},"18":{"name":"(anonymous_18)","decl":{"start":{"line":34,"column":67},"end":{"line":34,"column":68}},"loc":{"start":{"line":34,"column":80},"end":{"line":37,"column":9}},"line":34},"19":{"name":"(anonymous_19)","decl":{"start":{"line":38,"column":28},"end":{"line":38,"column":29}},"loc":{"start":{"line":38,"column":42},"end":{"line":41,"column":10}},"line":38},"20":{"name":"(anonymous_20)","decl":{"start":{"line":38,"column":74},"end":{"line":38,"column":75}},"loc":{"start":{"line":38,"column":87},"end":{"line":41,"column":9}},"line":38},"21":{"name":"(anonymous_21)","decl":{"start":{"line":42,"column":29},"end":{"line":42,"column":30}},"loc":{"start":{"line":42,"column":37},"end":{"line":45,"column":10}},"line":42},"22":{"name":"(anonymous_22)","decl":{"start":{"line":42,"column":69},"end":{"line":42,"column":70}},"loc":{"start":{"line":42,"column":82},"end":{"line":45,"column":9}},"line":42}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":2,"17":0,"18":0,"19":0,"20":2,"21":0,"22":0,"23":0,"24":2,"25":0,"26":0,"27":0,"28":2,"29":0,"30":0,"31":0,"32":2,"33":0,"34":0,"35":0,"36":2,"37":0,"38":0,"39":0,"40":2,"41":0,"42":0,"43":0,"44":2,"45":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":2,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\UserManagement.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\UserManagement.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,+EAAsD;AAGtD,MAAqB,cAAc;IAGjC,YAAa,cAA8B;QAI3C,YAAO,GAAG,CAAO,MAAY,EAA2B,EAAE;YACxD,MAAM,UAAU,GAAW,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,CAAC,CAAA;YACpE,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,wBAAwB,EACxB,UAAU,CACX,CAAA;QACH,CAAC,CAAA,CAAA;QAED,gBAAW,GAAG,CAAO,EAAU,EAA0B,EAAE;YACzD,MAAM,SAAS,GAAS,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;YACjE,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,8BAA8B,EAC9B,SAAS,CACV,CAAA;QACH,CAAC,CAAA,CAAA;QAED,sBAAiB,GAAG,CAAO,QAAgB,EAA0B,EAAE;YACrE,MAAM,SAAS,GAAS,MAAM,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAA;YAC7E,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,oCAAoC,EACpC,SAAS,CACV,CAAA;QACH,CAAC,CAAA,CAAA;QAED,iCAA4B,GAAG,CAAO,QAAgB,EAAE,QAAgB,EAAgC,EAAE;YACxG,MAAM,SAAS,GAAgB,MAAM,IAAI,CAAC,cAAc,CAAC,4BAA4B,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAA;YACzG,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,iDAAiD,EACjD,SAAS,CACV,CAAA;QACH,CAAC,CAAA,CAAA;QAED,cAAS,GAAG,CAAO,IAAS,EAAyB,EAAE;YACrD,MAAM,WAAW,GAAS,MAAM,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;YACnE,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,0BAA0B,EAC1B,WAAW,CACZ,CAAA;QACH,CAAC,CAAA,CAAA;QAED,iBAAY,GAAG,CAAO,EAAU,EAAE,IAAS,EAAyB,EAAE;YACpE,MAAM,WAAW,GAAS,MAAM,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,CAAA;YAC1E,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,+BAA+B,EAC/B,WAAW,CACZ,CAAA;QACH,CAAC,CAAA,CAAA;QAED,kBAAa,GAAG,CAAO,EAAU,EAAyB,EAAE;YAC1D,MAAM,WAAW,GAAS,MAAM,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE,CAAC,CAAA;YACrE,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,gCAAgC,EAChC,WAAW,CACZ,CAAA;QACH,CAAC,CAAA,CAAA;QAhEC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAA;IACtC,CAAC;CAgEF;AArED,iCAqEC","sourcesContent":["import type UserRepository from '../../../outers/repositories/UserRepository'\r\nimport Result from '../../models/value_objects/Result'\r\nimport type User from '../../models/entities/User'\r\n\r\nexport default class UserManagement {\r\n  userRepository: UserRepository\r\n\r\n  constructor (userRepository: UserRepository) {\r\n    this.userRepository = userRepository\r\n  }\r\n\r\n  readAll = async (search?: any): Promise<Result<User[]>> => {\r\n    const foundUsers: User[] = await this.userRepository.readAll(search)\r\n    return new Result<User[]>(\r\n      200,\r\n      'User read all succeed.',\r\n      foundUsers\r\n    )\r\n  }\r\n\r\n  readOneById = async (id: string): Promise<Result<User >> => {\r\n    const foundUser: User = await this.userRepository.readOneById(id)\r\n    return new Result<User >(\r\n      200,\r\n      'User read one by id succeed.',\r\n      foundUser\r\n    )\r\n  }\r\n\r\n  readOneByUsername = async (username: string): Promise<Result<User >> => {\r\n    const foundUser: User = await this.userRepository.readOneByUsername(username)\r\n    return new Result<User >(\r\n      200,\r\n      'User read one by username succeed.',\r\n      foundUser\r\n    )\r\n  }\r\n\r\n  readOneByUsernameAndPassword = async (username: string, password: string): Promise<Result<User | null>> => {\r\n    const foundUser: User | null = await this.userRepository.readOneByUsernameAndPassword(username, password)\r\n    return new Result<User | null>(\r\n      200,\r\n      'User read one by username and password succeed.',\r\n      foundUser\r\n    )\r\n  }\r\n\r\n  createOne = async (item: any): Promise<Result<User>> => {\r\n    const createdUser: User = await this.userRepository.createOne(item)\r\n    return new Result<User>(\r\n      201,\r\n      'User create one succeed.',\r\n      createdUser\r\n    )\r\n  }\r\n\r\n  patchOneById = async (id: string, item: any): Promise<Result<User>> => {\r\n    const patchedUser: User = await this.userRepository.patchOneById(id, item)\r\n    return new Result<User >(\r\n      200,\r\n      'User patch one by id succeed.',\r\n      patchedUser\r\n    )\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<Result<User>> => {\r\n    const deletedUser: User = await this.userRepository.deleteOneById(id)\r\n    return new Result<User>(\r\n      200,\r\n      'User delete one by id succeed.',\r\n      deletedUser\r\n    )\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c1998c22ce272a6189ff1b53a1a62367c999c11b"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\UserControllerRest.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\UserControllerRest.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":11,"column":10}},"2":{"start":{"line":6,"column":12},"end":{"line":6,"column":46}},"3":{"start":{"line":7,"column":12},"end":{"line":7,"column":54}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":49}},"5":{"start":{"line":9,"column":12},"end":{"line":9,"column":57}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":59}},"7":{"start":{"line":12,"column":8},"end":{"line":27,"column":10}},"8":{"start":{"line":13,"column":31},"end":{"line":13,"column":44}},"9":{"start":{"line":14,"column":33},"end":{"line":14,"column":114}},"10":{"start":{"line":15,"column":12},"end":{"line":26,"column":15}},"11":{"start":{"line":18,"column":16},"end":{"line":18,"column":60}},"12":{"start":{"line":21,"column":16},"end":{"line":25,"column":19}},"13":{"start":{"line":28,"column":8},"end":{"line":42,"column":10}},"14":{"start":{"line":29,"column":27},"end":{"line":29,"column":41}},"15":{"start":{"line":30,"column":12},"end":{"line":41,"column":15}},"16":{"start":{"line":33,"column":16},"end":{"line":33,"column":60}},"17":{"start":{"line":36,"column":16},"end":{"line":40,"column":19}},"18":{"start":{"line":43,"column":8},"end":{"line":56,"column":10}},"19":{"start":{"line":44,"column":12},"end":{"line":55,"column":15}},"20":{"start":{"line":47,"column":16},"end":{"line":47,"column":60}},"21":{"start":{"line":50,"column":16},"end":{"line":54,"column":19}},"22":{"start":{"line":57,"column":8},"end":{"line":71,"column":10}},"23":{"start":{"line":58,"column":27},"end":{"line":58,"column":41}},"24":{"start":{"line":59,"column":12},"end":{"line":70,"column":15}},"25":{"start":{"line":62,"column":16},"end":{"line":62,"column":60}},"26":{"start":{"line":65,"column":16},"end":{"line":69,"column":19}},"27":{"start":{"line":72,"column":8},"end":{"line":86,"column":10}},"28":{"start":{"line":73,"column":27},"end":{"line":73,"column":41}},"29":{"start":{"line":74,"column":12},"end":{"line":85,"column":15}},"30":{"start":{"line":77,"column":16},"end":{"line":77,"column":60}},"31":{"start":{"line":80,"column":16},"end":{"line":84,"column":19}},"32":{"start":{"line":87,"column":8},"end":{"line":87,"column":29}},"33":{"start":{"line":88,"column":8},"end":{"line":88,"column":45}},"34":{"start":{"line":91,"column":0},"end":{"line":91,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":40},"end":{"line":89,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":30},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":36},"end":{"line":11,"column":9}},"line":5},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":23},"end":{"line":12,"column":24}},"loc":{"start":{"line":12,"column":46},"end":{"line":27,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":22},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":34},"end":{"line":19,"column":13}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":23},"end":{"line":20,"column":24}},"loc":{"start":{"line":20,"column":34},"end":{"line":26,"column":13}},"line":20},"5":{"name":"(anonymous_5)","decl":{"start":{"line":28,"column":27},"end":{"line":28,"column":28}},"loc":{"start":{"line":28,"column":50},"end":{"line":42,"column":9}},"line":28},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":22},"end":{"line":32,"column":23}},"loc":{"start":{"line":32,"column":34},"end":{"line":34,"column":13}},"line":32},"7":{"name":"(anonymous_7)","decl":{"start":{"line":35,"column":23},"end":{"line":35,"column":24}},"loc":{"start":{"line":35,"column":34},"end":{"line":41,"column":13}},"line":35},"8":{"name":"(anonymous_8)","decl":{"start":{"line":43,"column":25},"end":{"line":43,"column":26}},"loc":{"start":{"line":43,"column":48},"end":{"line":56,"column":9}},"line":43},"9":{"name":"(anonymous_9)","decl":{"start":{"line":46,"column":22},"end":{"line":46,"column":23}},"loc":{"start":{"line":46,"column":34},"end":{"line":48,"column":13}},"line":46},"10":{"name":"(anonymous_10)","decl":{"start":{"line":49,"column":23},"end":{"line":49,"column":24}},"loc":{"start":{"line":49,"column":34},"end":{"line":55,"column":13}},"line":49},"11":{"name":"(anonymous_11)","decl":{"start":{"line":57,"column":28},"end":{"line":57,"column":29}},"loc":{"start":{"line":57,"column":51},"end":{"line":71,"column":9}},"line":57},"12":{"name":"(anonymous_12)","decl":{"start":{"line":61,"column":22},"end":{"line":61,"column":23}},"loc":{"start":{"line":61,"column":34},"end":{"line":63,"column":13}},"line":61},"13":{"name":"(anonymous_13)","decl":{"start":{"line":64,"column":23},"end":{"line":64,"column":24}},"loc":{"start":{"line":64,"column":34},"end":{"line":70,"column":13}},"line":64},"14":{"name":"(anonymous_14)","decl":{"start":{"line":72,"column":29},"end":{"line":72,"column":30}},"loc":{"start":{"line":72,"column":52},"end":{"line":86,"column":9}},"line":72},"15":{"name":"(anonymous_15)","decl":{"start":{"line":76,"column":22},"end":{"line":76,"column":23}},"loc":{"start":{"line":76,"column":34},"end":{"line":78,"column":13}},"line":76},"16":{"name":"(anonymous_16)","decl":{"start":{"line":79,"column":23},"end":{"line":79,"column":24}},"loc":{"start":{"line":79,"column":34},"end":{"line":85,"column":13}},"line":79}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":33},"end":{"line":14,"column":114}},"type":"cond-expr","locations":[{"start":{"line":14,"column":56},"end":{"line":14,"column":102}},{"start":{"line":14,"column":105},"end":{"line":14,"column":114}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":1,"33":1,"34":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\UserControllerRest.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\UserControllerRest.ts"],"names":[],"mappings":"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","sourcesContent":["import { type Request, type Response, type Router } from 'express'\r\n\r\nimport type User from '../../../inners/models/entities/User'\r\nimport type Result from '../../../inners/models/value_objects/Result'\r\nimport type UserManagement from '../../../inners/use_cases/managements/UserManagement'\r\n\r\nexport default class UserControllerRest {\r\n  router: Router\r\n  userManagement: UserManagement\r\n\r\n  constructor (router: Router, userManagement: UserManagement) {\r\n    this.router = router\r\n    this.userManagement = userManagement\r\n  }\r\n\r\n  registerRoutes = (): void => {\r\n    this.router.get('', this.readAll)\r\n    this.router.get('/:id', this.readOneById)\r\n    this.router.post('', this.createOne)\r\n    this.router.patch('/:id', this.patchOneById)\r\n    this.router.delete('/:id', this.deleteOneById)\r\n  }\r\n\r\n  readAll = (request: Request, response: Response): void => {\r\n    const { search } = request.query\r\n    const parsedSearch: any | undefined = search !== undefined ? JSON.parse(decodeURIComponent(String(search))) : undefined\r\n    this.userManagement\r\n      .readAll(parsedSearch)\r\n      .then((result: Result<User[]>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  readOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.userManagement\r\n      .readOneById(id)\r\n      .then((result: Result<User>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  createOne = (request: Request, response: Response): void => {\r\n    this.userManagement\r\n      .createOne(request.body)\r\n      .then((result: Result<User>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  patchOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.userManagement\r\n      .patchOneById(id, request.body)\r\n      .then((result: Result<User>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  deleteOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.userManagement\r\n      .deleteOneById(id)\r\n      .then((result: Result<User>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8e7fc5a3ebcf710b3306d3a41122f79b99cea1ee"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoRepository.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoRepository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":22},"end":{"line":15,"column":72}},"16":{"start":{"line":16,"column":19},"end":{"line":16,"column":38}},"17":{"start":{"line":19,"column":8},"end":{"line":30,"column":11}},"18":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"19":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"20":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"21":{"start":{"line":22,"column":20},"end":{"line":22,"column":75}},"22":{"start":{"line":25,"column":32},"end":{"line":25,"column":72}},"23":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"24":{"start":{"line":27,"column":16},"end":{"line":27,"column":57}},"25":{"start":{"line":29,"column":12},"end":{"line":29,"column":31}},"26":{"start":{"line":31,"column":8},"end":{"line":37,"column":11}},"27":{"start":{"line":31,"column":35},"end":{"line":37,"column":10}},"28":{"start":{"line":32,"column":31},"end":{"line":32,"column":110}},"29":{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},"30":{"start":{"line":34,"column":16},"end":{"line":34,"column":56}},"31":{"start":{"line":36,"column":12},"end":{"line":36,"column":30}},"32":{"start":{"line":38,"column":8},"end":{"line":40,"column":11}},"33":{"start":{"line":38,"column":36},"end":{"line":40,"column":10}},"34":{"start":{"line":39,"column":12},"end":{"line":39,"column":61}},"35":{"start":{"line":41,"column":8},"end":{"line":47,"column":11}},"36":{"start":{"line":41,"column":43},"end":{"line":47,"column":10}},"37":{"start":{"line":42,"column":33},"end":{"line":42,"column":153}},"38":{"start":{"line":43,"column":12},"end":{"line":45,"column":13}},"39":{"start":{"line":44,"column":16},"end":{"line":44,"column":58}},"40":{"start":{"line":46,"column":12},"end":{"line":46,"column":32}},"41":{"start":{"line":48,"column":8},"end":{"line":54,"column":11}},"42":{"start":{"line":48,"column":37},"end":{"line":54,"column":10}},"43":{"start":{"line":49,"column":33},"end":{"line":49,"column":121}},"44":{"start":{"line":50,"column":12},"end":{"line":52,"column":13}},"45":{"start":{"line":51,"column":16},"end":{"line":51,"column":58}},"46":{"start":{"line":53,"column":12},"end":{"line":53,"column":32}},"47":{"start":{"line":55,"column":8},"end":{"line":55,"column":41}},"48":{"start":{"line":58,"column":0},"end":{"line":58,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":30},"end":{"line":56,"column":5}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":23},"end":{"line":19,"column":24}},"loc":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":67},"end":{"line":19,"column":68}},"loc":{"start":{"line":19,"column":80},"end":{"line":30,"column":9}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":27},"end":{"line":31,"column":28}},"loc":{"start":{"line":31,"column":35},"end":{"line":37,"column":10}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":31,"column":67},"end":{"line":31,"column":68}},"loc":{"start":{"line":31,"column":80},"end":{"line":37,"column":9}},"line":31},"13":{"name":"(anonymous_13)","decl":{"start":{"line":38,"column":25},"end":{"line":38,"column":26}},"loc":{"start":{"line":38,"column":36},"end":{"line":40,"column":10}},"line":38},"14":{"name":"(anonymous_14)","decl":{"start":{"line":38,"column":68},"end":{"line":38,"column":69}},"loc":{"start":{"line":38,"column":81},"end":{"line":40,"column":9}},"line":38},"15":{"name":"(anonymous_15)","decl":{"start":{"line":41,"column":28},"end":{"line":41,"column":29}},"loc":{"start":{"line":41,"column":43},"end":{"line":47,"column":10}},"line":41},"16":{"name":"(anonymous_16)","decl":{"start":{"line":41,"column":75},"end":{"line":41,"column":76}},"loc":{"start":{"line":41,"column":88},"end":{"line":47,"column":9}},"line":41},"17":{"name":"(anonymous_17)","decl":{"start":{"line":48,"column":29},"end":{"line":48,"column":30}},"loc":{"start":{"line":48,"column":37},"end":{"line":54,"column":10}},"line":48},"18":{"name":"(anonymous_18)","decl":{"start":{"line":48,"column":69},"end":{"line":48,"column":70}},"loc":{"start":{"line":48,"column":82},"end":{"line":54,"column":9}},"line":48}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},{"start":{"line":20,"column":12},"end":{"line":24,"column":13}}],"line":20},"9":{"loc":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"type":"if","locations":[{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},{"start":{"line":21,"column":16},"end":{"line":23,"column":17}}],"line":21},"10":{"loc":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},{"start":{"line":26,"column":12},"end":{"line":28,"column":13}}],"line":26},"11":{"loc":{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},"type":"if","locations":[{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},{"start":{"line":33,"column":12},"end":{"line":35,"column":13}}],"line":33},"12":{"loc":{"start":{"line":43,"column":12},"end":{"line":45,"column":13}},"type":"if","locations":[{"start":{"line":43,"column":12},"end":{"line":45,"column":13}},{"start":{"line":43,"column":12},"end":{"line":45,"column":13}}],"line":43},"13":{"loc":{"start":{"line":50,"column":12},"end":{"line":52,"column":13}},"type":"if","locations":[{"start":{"line":50,"column":12},"end":{"line":52,"column":13}},{"start":{"line":50,"column":12},"end":{"line":52,"column":13}}],"line":50}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoRepository.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoRepository.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAEA,yEAAgD;AAChD,uCAAgC;AAEhC,MAAqB,eAAe;IAGlC,YAAa,YAA0B;QAIvC,YAAO,GAAG,CAAO,MAAY,EAAoB,EAAE;YACjD,IAAI,MAAM,KAAK,SAAS,EAAE;gBACxB,IAAI,MAAM,CAAC,GAAG,KAAK,IAAI,EAAE;oBACvB,MAAM,CAAC,GAAG,GAAG,IAAI,gBAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;iBAC5C;aACF;YACD,MAAM,WAAW,GAAmB,MAAM,qBAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;YAClE,IAAI,WAAW,KAAK,IAAI,EAAE;gBACxB,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAA;aACzC;YACD,OAAO,WAAW,CAAA;QACpB,CAAC,CAAA,CAAA;QAED,gBAAW,GAAG,CAAO,EAAU,EAAkB,EAAE;YACjD,MAAM,UAAU,GAAiB,MAAM,qBAAW,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,IAAI,gBAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,CAAA;YAC3F,IAAI,UAAU,KAAK,IAAI,EAAE;gBACvB,MAAM,IAAI,KAAK,CAAC,sBAAsB,CAAC,CAAA;aACxC;YACD,OAAO,UAAU,CAAA;QACnB,CAAC,CAAA,CAAA;QAED,cAAS,GAAG,CAAO,KAAY,EAAkB,EAAE;YACjD,OAAO,MAAM,qBAAW,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;QACxC,CAAC,CAAA,CAAA;QAED,iBAAY,GAAG,CAAO,EAAU,EAAE,KAAY,EAAkB,EAAE;YAChE,MAAM,YAAY,GAAiB,MAAM,qBAAW,CAAC,gBAAgB,CAAC,EAAE,GAAG,EAAE,IAAI,gBAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAA;YACtI,IAAI,YAAY,KAAK,IAAI,EAAE;gBACzB,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAA;aAC1C;YACD,OAAO,YAAY,CAAA;QACrB,CAAC,CAAA,CAAA;QAED,kBAAa,GAAG,CAAO,EAAU,EAAkB,EAAE;YACnD,MAAM,YAAY,GAAiB,MAAM,qBAAW,CAAC,gBAAgB,CAAC,EAAE,GAAG,EAAE,IAAI,gBAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,CAAA;YACtG,IAAI,YAAY,KAAK,IAAI,EAAE;gBACzB,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAA;aAC1C;YACD,OAAO,YAAY,CAAA;QACrB,CAAC,CAAA,CAAA;QA1CC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAA;IAClC,CAAC;CA0CF;AA/CD,kCA+CC","sourcesContent":["import type Video from '../../inners/models/entities/Video'\r\nimport type OneDatastore from '../datastores/OneDatastore'\r\nimport VideoSchema from '../schemas/VideoSchema'\r\nimport { Types } from 'mongoose'\r\n\r\nexport default class VideoRepository {\r\n  oneDatastore: OneDatastore\r\n\r\n  constructor (datastoreOne: OneDatastore) {\r\n    this.oneDatastore = datastoreOne\r\n  }\r\n\r\n  readAll = async (search?: any): Promise<Video[]> => {\r\n    if (search !== undefined) {\r\n      if (search._id !== null) {\r\n        search._id = new Types.ObjectId(search._id)\r\n      }\r\n    }\r\n    const foundVideos: Video[] | null = await VideoSchema.find(search)\r\n    if (foundVideos === null) {\r\n      throw new Error('Found videos is null.')\r\n    }\r\n    return foundVideos\r\n  }\r\n\r\n  readOneById = async (id: string): Promise<Video> => {\r\n    const foundVideo: Video | null = await VideoSchema.findOne({ _id: new Types.ObjectId(id) })\r\n    if (foundVideo === null) {\r\n      throw new Error('Found video is null.')\r\n    }\r\n    return foundVideo\r\n  }\r\n\r\n  createOne = async (video: Video): Promise<Video> => {\r\n    return await VideoSchema.create(video)\r\n  }\r\n\r\n  patchOneById = async (id: string, video: Video): Promise<Video> => {\r\n    const patchedVideo: Video | null = await VideoSchema.findOneAndUpdate({ _id: new Types.ObjectId(id) }, { $set: video }, { new: true })\r\n    if (patchedVideo === null) {\r\n      throw new Error('Patched video is null.')\r\n    }\r\n    return patchedVideo\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<Video> => {\r\n    const deletedVideo: Video | null = await VideoSchema.findOneAndDelete({ _id: new Types.ObjectId(id) })\r\n    if (deletedVideo === null) {\r\n      throw new Error('Deleted video is null.')\r\n    }\r\n    return deletedVideo\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"14826c7c3dd230a9b3e84fc3b47aa5e4502905c0"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoSchema.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoSchema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":4,"column":20},"end":{"line":13,"column":2}},"3":{"start":{"line":14,"column":0},"end":{"line":14,"column":63}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoSchema.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoSchema.ts"],"names":[],"mappings":";;AAAA,uCAAwC;AAGxC,MAAM,WAAW,GAAG,IAAI,iBAAM,CAAQ;IACpC,YAAY,EAAE;QACZ,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,MAAM;KAC1B;IACD,UAAU,EAAE;QACV,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,MAAM;KAC1B;CACF,EACD;IACE,UAAU,EAAE,KAAK;CAClB,CAAC,CAAA;AAEF,kBAAe,IAAA,gBAAK,EAAQ,QAAQ,EAAE,WAAW,CAAC,CAAA","sourcesContent":["import { model, Schema } from 'mongoose'\r\nimport type Video from '../../inners/models/entities/Video'\r\n\r\nconst videoSchema = new Schema<Video>({\r\n  thumbnailUrl: {\r\n    type: Schema.Types.String\r\n  },\r\n  contentUrl: {\r\n    type: Schema.Types.String\r\n  }\r\n},\r\n{\r\n  versionKey: false\r\n})\r\n\r\nexport default model<Video>('videos', videoSchema)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"57f2894a3eb59d859927a493a8ca5fa19415fa83"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoManagement.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoManagement.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":78}},"16":{"start":{"line":18,"column":8},"end":{"line":21,"column":11}},"17":{"start":{"line":18,"column":35},"end":{"line":21,"column":10}},"18":{"start":{"line":19,"column":32},"end":{"line":19,"column":74}},"19":{"start":{"line":20,"column":12},"end":{"line":20,"column":85}},"20":{"start":{"line":22,"column":8},"end":{"line":25,"column":11}},"21":{"start":{"line":22,"column":35},"end":{"line":25,"column":10}},"22":{"start":{"line":23,"column":31},"end":{"line":23,"column":73}},"23":{"start":{"line":24,"column":12},"end":{"line":24,"column":90}},"24":{"start":{"line":26,"column":8},"end":{"line":29,"column":11}},"25":{"start":{"line":26,"column":35},"end":{"line":29,"column":10}},"26":{"start":{"line":27,"column":33},"end":{"line":27,"column":75}},"27":{"start":{"line":28,"column":12},"end":{"line":28,"column":88}},"28":{"start":{"line":30,"column":8},"end":{"line":33,"column":11}},"29":{"start":{"line":30,"column":42},"end":{"line":33,"column":10}},"30":{"start":{"line":31,"column":33},"end":{"line":31,"column":82}},"31":{"start":{"line":32,"column":12},"end":{"line":32,"column":93}},"32":{"start":{"line":34,"column":8},"end":{"line":37,"column":11}},"33":{"start":{"line":34,"column":37},"end":{"line":37,"column":10}},"34":{"start":{"line":35,"column":33},"end":{"line":35,"column":77}},"35":{"start":{"line":36,"column":12},"end":{"line":36,"column":94}},"36":{"start":{"line":38,"column":8},"end":{"line":38,"column":47}},"37":{"start":{"line":41,"column":0},"end":{"line":41,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":33},"end":{"line":39,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":35},"end":{"line":21,"column":10}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":18,"column":67},"end":{"line":18,"column":68}},"loc":{"start":{"line":18,"column":80},"end":{"line":21,"column":9}},"line":18},"11":{"name":"(anonymous_11)","decl":{"start":{"line":22,"column":27},"end":{"line":22,"column":28}},"loc":{"start":{"line":22,"column":35},"end":{"line":25,"column":10}},"line":22},"12":{"name":"(anonymous_12)","decl":{"start":{"line":22,"column":67},"end":{"line":22,"column":68}},"loc":{"start":{"line":22,"column":80},"end":{"line":25,"column":9}},"line":22},"13":{"name":"(anonymous_13)","decl":{"start":{"line":26,"column":25},"end":{"line":26,"column":26}},"loc":{"start":{"line":26,"column":35},"end":{"line":29,"column":10}},"line":26},"14":{"name":"(anonymous_14)","decl":{"start":{"line":26,"column":67},"end":{"line":26,"column":68}},"loc":{"start":{"line":26,"column":80},"end":{"line":29,"column":9}},"line":26},"15":{"name":"(anonymous_15)","decl":{"start":{"line":30,"column":28},"end":{"line":30,"column":29}},"loc":{"start":{"line":30,"column":42},"end":{"line":33,"column":10}},"line":30},"16":{"name":"(anonymous_16)","decl":{"start":{"line":30,"column":74},"end":{"line":30,"column":75}},"loc":{"start":{"line":30,"column":87},"end":{"line":33,"column":9}},"line":30},"17":{"name":"(anonymous_17)","decl":{"start":{"line":34,"column":29},"end":{"line":34,"column":30}},"loc":{"start":{"line":34,"column":37},"end":{"line":37,"column":10}},"line":34},"18":{"name":"(anonymous_18)","decl":{"start":{"line":34,"column":69},"end":{"line":34,"column":70}},"loc":{"start":{"line":34,"column":82},"end":{"line":37,"column":9}},"line":34}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":1,"37":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoManagement.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoManagement.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,+EAAsD;AAGtD,MAAqB,eAAe;IAGlC,YAAa,eAAgC;QAI7C,YAAO,GAAG,CAAO,MAAY,EAA4B,EAAE;YACzD,MAAM,WAAW,GAAY,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,CAAA;YACvE,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,yBAAyB,EACzB,WAAW,CACZ,CAAA;QACH,CAAC,CAAA,CAAA;QAED,gBAAW,GAAG,CAAO,EAAU,EAA0B,EAAE;YACzD,MAAM,UAAU,GAAU,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;YACpE,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,+BAA+B,EAC/B,UAAU,CACX,CAAA;QACH,CAAC,CAAA,CAAA;QAED,cAAS,GAAG,CAAO,IAAS,EAA0B,EAAE;YACtD,MAAM,YAAY,GAAU,MAAM,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;YACtE,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,2BAA2B,EAC3B,YAAY,CACb,CAAA;QACH,CAAC,CAAA,CAAA;QAED,iBAAY,GAAG,CAAO,EAAU,EAAE,IAAS,EAA2B,EAAE;YACtE,MAAM,YAAY,GAAU,MAAM,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,CAAA;YAC7E,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,gCAAgC,EAChC,YAAY,CACb,CAAA;QACH,CAAC,CAAA,CAAA;QAED,kBAAa,GAAG,CAAO,EAAU,EAA2B,EAAE;YAC5D,MAAM,YAAY,GAAU,MAAM,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,EAAE,CAAC,CAAA;YACxE,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,iCAAiC,EACjC,YAAY,CACb,CAAA;QACH,CAAC,CAAA,CAAA;QA9CC,IAAI,CAAC,eAAe,GAAG,eAAe,CAAA;IACxC,CAAC;CA8CF;AAnDD,kCAmDC","sourcesContent":["import type VideoRepository from '../../../outers/repositories/VideoRepository'\r\nimport Result from '../../models/value_objects/Result'\r\nimport type Video from '../../models/entities/Video'\r\n\r\nexport default class VideoManagement {\r\n  videoRepository: VideoRepository\r\n\r\n  constructor (videoRepository: VideoRepository) {\r\n    this.videoRepository = videoRepository\r\n  }\r\n\r\n  readAll = async (search?: any): Promise<Result<Video[]>> => {\r\n    const foundVideos: Video[] = await this.videoRepository.readAll(search)\r\n    return new Result<Video[]>(\r\n      200,\r\n      'Video read all succeed.',\r\n      foundVideos\r\n    )\r\n  }\r\n\r\n  readOneById = async (id: string): Promise<Result<Video>> => {\r\n    const foundVideo: Video = await this.videoRepository.readOneById(id)\r\n    return new Result<Video >(\r\n      200,\r\n      'Video read one by id succeed.',\r\n      foundVideo\r\n    )\r\n  }\r\n\r\n  createOne = async (item: any): Promise<Result<Video>> => {\r\n    const createdVideo: Video = await this.videoRepository.createOne(item)\r\n    return new Result<Video>(\r\n      201,\r\n      'Video create one succeed.',\r\n      createdVideo\r\n    )\r\n  }\r\n\r\n  patchOneById = async (id: string, item: any): Promise<Result<Video >> => {\r\n    const patchedVideo: Video = await this.videoRepository.patchOneById(id, item)\r\n    return new Result<Video >(\r\n      200,\r\n      'Video patch one by id succeed.',\r\n      patchedVideo\r\n    )\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<Result<Video >> => {\r\n    const deletedVideo: Video = await this.videoRepository.deleteOneById(id)\r\n    return new Result<Video>(\r\n      200,\r\n      'Video delete one by id succeed.',\r\n      deletedVideo\r\n    )\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"57d6070ffc33c9f28f205dddb744fd44c8915e3b"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoControllerRest.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoControllerRest.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":11,"column":10}},"2":{"start":{"line":6,"column":12},"end":{"line":6,"column":46}},"3":{"start":{"line":7,"column":12},"end":{"line":7,"column":54}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":49}},"5":{"start":{"line":9,"column":12},"end":{"line":9,"column":57}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":59}},"7":{"start":{"line":12,"column":8},"end":{"line":27,"column":10}},"8":{"start":{"line":13,"column":31},"end":{"line":13,"column":44}},"9":{"start":{"line":14,"column":33},"end":{"line":14,"column":114}},"10":{"start":{"line":15,"column":12},"end":{"line":26,"column":15}},"11":{"start":{"line":18,"column":16},"end":{"line":18,"column":60}},"12":{"start":{"line":21,"column":16},"end":{"line":25,"column":19}},"13":{"start":{"line":28,"column":8},"end":{"line":42,"column":10}},"14":{"start":{"line":29,"column":27},"end":{"line":29,"column":41}},"15":{"start":{"line":30,"column":12},"end":{"line":41,"column":15}},"16":{"start":{"line":33,"column":16},"end":{"line":33,"column":60}},"17":{"start":{"line":36,"column":16},"end":{"line":40,"column":19}},"18":{"start":{"line":43,"column":8},"end":{"line":56,"column":10}},"19":{"start":{"line":44,"column":12},"end":{"line":55,"column":15}},"20":{"start":{"line":47,"column":16},"end":{"line":47,"column":60}},"21":{"start":{"line":50,"column":16},"end":{"line":54,"column":19}},"22":{"start":{"line":57,"column":8},"end":{"line":71,"column":10}},"23":{"start":{"line":58,"column":27},"end":{"line":58,"column":41}},"24":{"start":{"line":59,"column":12},"end":{"line":70,"column":15}},"25":{"start":{"line":62,"column":16},"end":{"line":62,"column":60}},"26":{"start":{"line":65,"column":16},"end":{"line":69,"column":19}},"27":{"start":{"line":72,"column":8},"end":{"line":86,"column":10}},"28":{"start":{"line":73,"column":27},"end":{"line":73,"column":41}},"29":{"start":{"line":74,"column":12},"end":{"line":85,"column":15}},"30":{"start":{"line":77,"column":16},"end":{"line":77,"column":60}},"31":{"start":{"line":80,"column":16},"end":{"line":84,"column":19}},"32":{"start":{"line":87,"column":8},"end":{"line":87,"column":29}},"33":{"start":{"line":88,"column":8},"end":{"line":88,"column":47}},"34":{"start":{"line":91,"column":0},"end":{"line":91,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":41},"end":{"line":89,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":30},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":36},"end":{"line":11,"column":9}},"line":5},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":23},"end":{"line":12,"column":24}},"loc":{"start":{"line":12,"column":46},"end":{"line":27,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":22},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":34},"end":{"line":19,"column":13}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":23},"end":{"line":20,"column":24}},"loc":{"start":{"line":20,"column":34},"end":{"line":26,"column":13}},"line":20},"5":{"name":"(anonymous_5)","decl":{"start":{"line":28,"column":27},"end":{"line":28,"column":28}},"loc":{"start":{"line":28,"column":50},"end":{"line":42,"column":9}},"line":28},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":22},"end":{"line":32,"column":23}},"loc":{"start":{"line":32,"column":34},"end":{"line":34,"column":13}},"line":32},"7":{"name":"(anonymous_7)","decl":{"start":{"line":35,"column":23},"end":{"line":35,"column":24}},"loc":{"start":{"line":35,"column":34},"end":{"line":41,"column":13}},"line":35},"8":{"name":"(anonymous_8)","decl":{"start":{"line":43,"column":25},"end":{"line":43,"column":26}},"loc":{"start":{"line":43,"column":48},"end":{"line":56,"column":9}},"line":43},"9":{"name":"(anonymous_9)","decl":{"start":{"line":46,"column":22},"end":{"line":46,"column":23}},"loc":{"start":{"line":46,"column":34},"end":{"line":48,"column":13}},"line":46},"10":{"name":"(anonymous_10)","decl":{"start":{"line":49,"column":23},"end":{"line":49,"column":24}},"loc":{"start":{"line":49,"column":34},"end":{"line":55,"column":13}},"line":49},"11":{"name":"(anonymous_11)","decl":{"start":{"line":57,"column":28},"end":{"line":57,"column":29}},"loc":{"start":{"line":57,"column":51},"end":{"line":71,"column":9}},"line":57},"12":{"name":"(anonymous_12)","decl":{"start":{"line":61,"column":22},"end":{"line":61,"column":23}},"loc":{"start":{"line":61,"column":34},"end":{"line":63,"column":13}},"line":61},"13":{"name":"(anonymous_13)","decl":{"start":{"line":64,"column":23},"end":{"line":64,"column":24}},"loc":{"start":{"line":64,"column":34},"end":{"line":70,"column":13}},"line":64},"14":{"name":"(anonymous_14)","decl":{"start":{"line":72,"column":29},"end":{"line":72,"column":30}},"loc":{"start":{"line":72,"column":52},"end":{"line":86,"column":9}},"line":72},"15":{"name":"(anonymous_15)","decl":{"start":{"line":76,"column":22},"end":{"line":76,"column":23}},"loc":{"start":{"line":76,"column":34},"end":{"line":78,"column":13}},"line":76},"16":{"name":"(anonymous_16)","decl":{"start":{"line":79,"column":23},"end":{"line":79,"column":24}},"loc":{"start":{"line":79,"column":34},"end":{"line":85,"column":13}},"line":79}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":33},"end":{"line":14,"column":114}},"type":"cond-expr","locations":[{"start":{"line":14,"column":56},"end":{"line":14,"column":102}},{"start":{"line":14,"column":105},"end":{"line":14,"column":114}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":1,"33":1,"34":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoControllerRest.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoControllerRest.ts"],"names":[],"mappings":"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","sourcesContent":["import { type Request, type Response, type Router } from 'express'\r\n\r\nimport type Video from '../../../inners/models/entities/Video'\r\nimport type Result from '../../../inners/models/value_objects/Result'\r\nimport type VideoManagement from '../../../inners/use_cases/managements/VideoManagement'\r\n\r\nexport default class VideoControllerRest {\r\n  router: Router\r\n  videoManagement: VideoManagement\r\n\r\n  constructor (router: Router, videoManagement: VideoManagement) {\r\n    this.router = router\r\n    this.videoManagement = videoManagement\r\n  }\r\n\r\n  registerRoutes = (): void => {\r\n    this.router.get('', this.readAll)\r\n    this.router.get('/:id', this.readOneById)\r\n    this.router.post('', this.createOne)\r\n    this.router.patch('/:id', this.patchOneById)\r\n    this.router.delete('/:id', this.deleteOneById)\r\n  }\r\n\r\n  readAll = (request: Request, response: Response): void => {\r\n    const { search } = request.query\r\n    const parsedSearch: any | undefined = search !== undefined ? JSON.parse(decodeURIComponent(String(search))) : undefined\r\n    this.videoManagement\r\n      .readAll(parsedSearch)\r\n      .then((result: Result<Video[]>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  readOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.videoManagement\r\n      .readOneById(id)\r\n      .then((result: Result<Video>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  createOne = (request: Request, response: Response): void => {\r\n    this.videoManagement\r\n      .createOne(request.body)\r\n      .then((result: Result<Video>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  patchOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.videoManagement\r\n      .patchOneById(id, request.body)\r\n      .then((result: Result<Video>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  deleteOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.videoManagement\r\n      .deleteOneById(id)\r\n      .then((result: Result<Video>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1a0d645bd61629573f707f1befeff99a38f58795"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\CommentRepository.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\CommentRepository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":24},"end":{"line":15,"column":76}},"16":{"start":{"line":16,"column":19},"end":{"line":16,"column":38}},"17":{"start":{"line":19,"column":8},"end":{"line":30,"column":11}},"18":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"19":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"20":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"21":{"start":{"line":22,"column":20},"end":{"line":22,"column":75}},"22":{"start":{"line":25,"column":33},"end":{"line":25,"column":75}},"23":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"24":{"start":{"line":27,"column":16},"end":{"line":27,"column":59}},"25":{"start":{"line":29,"column":12},"end":{"line":29,"column":32}},"26":{"start":{"line":31,"column":8},"end":{"line":68,"column":11}},"27":{"start":{"line":31,"column":45},"end":{"line":68,"column":10}},"28":{"start":{"line":32,"column":29},"end":{"line":54,"column":13}},"29":{"start":{"line":55,"column":12},"end":{"line":62,"column":13}},"30":{"start":{"line":56,"column":16},"end":{"line":58,"column":17}},"31":{"start":{"line":57,"column":20},"end":{"line":57,"column":75}},"32":{"start":{"line":59,"column":16},"end":{"line":61,"column":19}},"33":{"start":{"line":63,"column":33},"end":{"line":63,"column":82}},"34":{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},"35":{"start":{"line":65,"column":16},"end":{"line":65,"column":59}},"36":{"start":{"line":67,"column":12},"end":{"line":67,"column":32}},"37":{"start":{"line":69,"column":8},"end":{"line":97,"column":11}},"38":{"start":{"line":69,"column":45},"end":{"line":97,"column":10}},"39":{"start":{"line":70,"column":42},"end":{"line":92,"column":14}},"40":{"start":{"line":93,"column":12},"end":{"line":95,"column":13}},"41":{"start":{"line":94,"column":16},"end":{"line":94,"column":71}},"42":{"start":{"line":96,"column":12},"end":{"line":96,"column":41}},"43":{"start":{"line":98,"column":8},"end":{"line":139,"column":11}},"44":{"start":{"line":98,"column":55},"end":{"line":139,"column":10}},"45":{"start":{"line":99,"column":42},"end":{"line":134,"column":14}},"46":{"start":{"line":135,"column":12},"end":{"line":137,"column":13}},"47":{"start":{"line":136,"column":16},"end":{"line":136,"column":71}},"48":{"start":{"line":138,"column":12},"end":{"line":138,"column":41}},"49":{"start":{"line":140,"column":8},"end":{"line":146,"column":11}},"50":{"start":{"line":140,"column":35},"end":{"line":146,"column":10}},"51":{"start":{"line":141,"column":33},"end":{"line":141,"column":114}},"52":{"start":{"line":142,"column":12},"end":{"line":144,"column":13}},"53":{"start":{"line":143,"column":16},"end":{"line":143,"column":58}},"54":{"start":{"line":145,"column":12},"end":{"line":145,"column":32}},"55":{"start":{"line":147,"column":8},"end":{"line":188,"column":11}},"56":{"start":{"line":147,"column":45},"end":{"line":188,"column":10}},"57":{"start":{"line":149,"column":34},"end":{"line":179,"column":14}},"58":{"start":{"line":180,"column":12},"end":{"line":182,"column":13}},"59":{"start":{"line":181,"column":16},"end":{"line":181,"column":59}},"60":{"start":{"line":183,"column":33},"end":{"line":183,"column":94}},"61":{"start":{"line":184,"column":12},"end":{"line":186,"column":13}},"62":{"start":{"line":185,"column":16},"end":{"line":185,"column":58}},"63":{"start":{"line":187,"column":12},"end":{"line":187,"column":32}},"64":{"start":{"line":189,"column":8},"end":{"line":191,"column":11}},"65":{"start":{"line":189,"column":38},"end":{"line":191,"column":10}},"66":{"start":{"line":190,"column":12},"end":{"line":190,"column":65}},"67":{"start":{"line":192,"column":8},"end":{"line":198,"column":11}},"68":{"start":{"line":192,"column":45},"end":{"line":198,"column":10}},"69":{"start":{"line":193,"column":35},"end":{"line":193,"column":159}},"70":{"start":{"line":194,"column":12},"end":{"line":196,"column":13}},"71":{"start":{"line":195,"column":16},"end":{"line":195,"column":60}},"72":{"start":{"line":197,"column":12},"end":{"line":197,"column":34}},"73":{"start":{"line":199,"column":8},"end":{"line":205,"column":11}},"74":{"start":{"line":199,"column":37},"end":{"line":205,"column":10}},"75":{"start":{"line":200,"column":35},"end":{"line":200,"column":125}},"76":{"start":{"line":201,"column":12},"end":{"line":203,"column":13}},"77":{"start":{"line":202,"column":16},"end":{"line":202,"column":60}},"78":{"start":{"line":204,"column":12},"end":{"line":204,"column":34}},"79":{"start":{"line":206,"column":8},"end":{"line":206,"column":41}},"80":{"start":{"line":209,"column":0},"end":{"line":209,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":30},"end":{"line":207,"column":5}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":23},"end":{"line":19,"column":24}},"loc":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":67},"end":{"line":19,"column":68}},"loc":{"start":{"line":19,"column":80},"end":{"line":30,"column":9}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":33},"end":{"line":31,"column":34}},"loc":{"start":{"line":31,"column":45},"end":{"line":68,"column":10}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":31,"column":77},"end":{"line":31,"column":78}},"loc":{"start":{"line":31,"column":90},"end":{"line":68,"column":9}},"line":31},"13":{"name":"(anonymous_13)","decl":{"start":{"line":69,"column":32},"end":{"line":69,"column":33}},"loc":{"start":{"line":69,"column":45},"end":{"line":97,"column":10}},"line":69},"14":{"name":"(anonymous_14)","decl":{"start":{"line":69,"column":77},"end":{"line":69,"column":78}},"loc":{"start":{"line":69,"column":90},"end":{"line":97,"column":9}},"line":69},"15":{"name":"(anonymous_15)","decl":{"start":{"line":98,"column":42},"end":{"line":98,"column":43}},"loc":{"start":{"line":98,"column":55},"end":{"line":139,"column":10}},"line":98},"16":{"name":"(anonymous_16)","decl":{"start":{"line":98,"column":87},"end":{"line":98,"column":88}},"loc":{"start":{"line":98,"column":100},"end":{"line":139,"column":9}},"line":98},"17":{"name":"(anonymous_17)","decl":{"start":{"line":140,"column":27},"end":{"line":140,"column":28}},"loc":{"start":{"line":140,"column":35},"end":{"line":146,"column":10}},"line":140},"18":{"name":"(anonymous_18)","decl":{"start":{"line":140,"column":67},"end":{"line":140,"column":68}},"loc":{"start":{"line":140,"column":80},"end":{"line":146,"column":9}},"line":140},"19":{"name":"(anonymous_19)","decl":{"start":{"line":147,"column":37},"end":{"line":147,"column":38}},"loc":{"start":{"line":147,"column":45},"end":{"line":188,"column":10}},"line":147},"20":{"name":"(anonymous_20)","decl":{"start":{"line":147,"column":77},"end":{"line":147,"column":78}},"loc":{"start":{"line":147,"column":90},"end":{"line":188,"column":9}},"line":147},"21":{"name":"(anonymous_21)","decl":{"start":{"line":189,"column":25},"end":{"line":189,"column":26}},"loc":{"start":{"line":189,"column":38},"end":{"line":191,"column":10}},"line":189},"22":{"name":"(anonymous_22)","decl":{"start":{"line":189,"column":70},"end":{"line":189,"column":71}},"loc":{"start":{"line":189,"column":83},"end":{"line":191,"column":9}},"line":189},"23":{"name":"(anonymous_23)","decl":{"start":{"line":192,"column":28},"end":{"line":192,"column":29}},"loc":{"start":{"line":192,"column":45},"end":{"line":198,"column":10}},"line":192},"24":{"name":"(anonymous_24)","decl":{"start":{"line":192,"column":77},"end":{"line":192,"column":78}},"loc":{"start":{"line":192,"column":90},"end":{"line":198,"column":9}},"line":192},"25":{"name":"(anonymous_25)","decl":{"start":{"line":199,"column":29},"end":{"line":199,"column":30}},"loc":{"start":{"line":199,"column":37},"end":{"line":205,"column":10}},"line":199},"26":{"name":"(anonymous_26)","decl":{"start":{"line":199,"column":69},"end":{"line":199,"column":70}},"loc":{"start":{"line":199,"column":82},"end":{"line":205,"column":9}},"line":199}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},{"start":{"line":20,"column":12},"end":{"line":24,"column":13}}],"line":20},"9":{"loc":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"type":"if","locations":[{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},{"start":{"line":21,"column":16},"end":{"line":23,"column":17}}],"line":21},"10":{"loc":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},{"start":{"line":26,"column":12},"end":{"line":28,"column":13}}],"line":26},"11":{"loc":{"start":{"line":55,"column":12},"end":{"line":62,"column":13}},"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":62,"column":13}},{"start":{"line":55,"column":12},"end":{"line":62,"column":13}}],"line":55},"12":{"loc":{"start":{"line":56,"column":16},"end":{"line":58,"column":17}},"type":"if","locations":[{"start":{"line":56,"column":16},"end":{"line":58,"column":17}},{"start":{"line":56,"column":16},"end":{"line":58,"column":17}}],"line":56},"13":{"loc":{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},"type":"if","locations":[{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},{"start":{"line":64,"column":12},"end":{"line":66,"column":13}}],"line":64},"14":{"loc":{"start":{"line":93,"column":12},"end":{"line":95,"column":13}},"type":"if","locations":[{"start":{"line":93,"column":12},"end":{"line":95,"column":13}},{"start":{"line":93,"column":12},"end":{"line":95,"column":13}}],"line":93},"15":{"loc":{"start":{"line":135,"column":12},"end":{"line":137,"column":13}},"type":"if","locations":[{"start":{"line":135,"column":12},"end":{"line":137,"column":13}},{"start":{"line":135,"column":12},"end":{"line":137,"column":13}}],"line":135},"16":{"loc":{"start":{"line":142,"column":12},"end":{"line":144,"column":13}},"type":"if","locations":[{"start":{"line":142,"column":12},"end":{"line":144,"column":13}},{"start":{"line":142,"column":12},"end":{"line":144,"column":13}}],"line":142},"17":{"loc":{"start":{"line":180,"column":12},"end":{"line":182,"column":13}},"type":"if","locations":[{"start":{"line":180,"column":12},"end":{"line":182,"column":13}},{"start":{"line":180,"column":12},"end":{"line":182,"column":13}}],"line":180},"18":{"loc":{"start":{"line":183,"column":33},"end":{"line":183,"column":94}},"type":"cond-expr","locations":[{"start":{"line":183,"column":85},"end":{"line":183,"column":87}},{"start":{"line":183,"column":90},"end":{"line":183,"column":94}}],"line":183},"19":{"loc":{"start":{"line":183,"column":33},"end":{"line":183,"column":82}},"type":"binary-expr","locations":[{"start":{"line":183,"column":33},"end":{"line":183,"column":65}},{"start":{"line":183,"column":69},"end":{"line":183,"column":82}}],"line":183},"20":{"loc":{"start":{"line":184,"column":12},"end":{"line":186,"column":13}},"type":"if","locations":[{"start":{"line":184,"column":12},"end":{"line":186,"column":13}},{"start":{"line":184,"column":12},"end":{"line":186,"column":13}}],"line":184},"21":{"loc":{"start":{"line":194,"column":12},"end":{"line":196,"column":13}},"type":"if","locations":[{"start":{"line":194,"column":12},"end":{"line":196,"column":13}},{"start":{"line":194,"column":12},"end":{"line":196,"column":13}}],"line":194},"22":{"loc":{"start":{"line":201,"column":12},"end":{"line":203,"column":13}},"type":"if","locations":[{"start":{"line":201,"column":12},"end":{"line":203,"column":13}},{"start":{"line":201,"column":12},"end":{"line":203,"column":13}}],"line":201}},"s":{"0":1,"1":14,"2":11,"3":14,"4":14,"5":14,"6":0,"7":0,"8":0,"9":0,"10":28,"11":14,"12":1,"13":1,"14":1,"15":1,"16":1,"17":2,"18":2,"19":2,"20":1,"21":1,"22":2,"23":2,"24":0,"25":2,"26":2,"27":2,"28":2,"29":2,"30":1,"31":1,"32":1,"33":2,"34":2,"35":0,"36":2,"37":2,"38":1,"39":1,"40":1,"41":0,"42":1,"43":2,"44":1,"45":1,"46":1,"47":0,"48":1,"49":2,"50":1,"51":1,"52":1,"53":0,"54":1,"55":2,"56":2,"57":2,"58":2,"59":0,"60":2,"61":2,"62":0,"63":2,"64":2,"65":3,"66":3,"67":2,"68":1,"69":1,"70":1,"71":0,"72":1,"73":2,"74":1,"75":1,"76":1,"77":0,"78":1,"79":2,"80":1},"f":{"0":14,"1":14,"2":11,"3":14,"4":14,"5":0,"6":28,"7":1,"8":2,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":2,"20":2,"21":3,"22":3,"23":1,"24":1,"25":1,"26":1},"b":{"0":[1,1,1],"1":[3,11],"2":[14,14],"3":[14,14],"4":[14,14],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[1,1],"9":[1,0],"10":[0,2],"11":[1,1],"12":[1,0],"13":[0,2],"14":[0,1],"15":[0,1],"16":[0,1],"17":[0,2],"18":[2,0],"19":[2,2],"20":[0,2],"21":[0,1],"22":[0,1]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\CommentRepository.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\CommentRepository.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAEA,6EAAoD;AAEpD,uCAAgC;AAEhC,MAAqB,iBAAiB;IAGpC,YAAa,YAA0B;QAIvC,YAAO,GAAG,CAAO,MAAY,EAAsB,EAAE;YACnD,IAAI,MAAM,KAAK,SAAS,EAAE;gBACxB,IAAI,MAAM,CAAC,GAAG,KAAK,IAAI,EAAE;oBACvB,MAAM,CAAC,GAAG,GAAG,IAAI,gBAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;iBAC5C;aACF;YACD,MAAM,YAAY,GAAqB,MAAM,uBAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;YACvE,IAAI,YAAY,KAAK,IAAI,EAAE;gBACzB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAA;aAC3C;YACD,OAAO,YAAY,CAAA;QACrB,CAAC,CAAA,CAAA;QAED,sBAAiB,GAAG,CAAO,MAAY,EAA+B,EAAE;YACtE,MAAM,QAAQ,GAAU;gBACtB;oBACE,OAAO,EAAE;wBACP,IAAI,EAAE,OAAO;wBACb,UAAU,EAAE,QAAQ;wBACpB,YAAY,EAAE,KAAK;wBACnB,EAAE,EAAE,MAAM;qBACX;iBACF;gBACD;oBACE,OAAO,EAAE;wBACP,IAAI,EAAE,OAAO;qBACd;iBACF;gBACD;oBACE,QAAQ,EAAE;wBACR,GAAG,EAAE,CAAC;wBACN,IAAI,EAAE,CAAC;wBACP,OAAO,EAAE,CAAC;wBACV,SAAS,EAAE,CAAC;qBACb;iBACF;aACF,CAAA;YACD,IAAI,MAAM,KAAK,SAAS,EAAE;gBACxB,IAAI,MAAM,CAAC,GAAG,KAAK,IAAI,EAAE;oBACvB,MAAM,CAAC,GAAG,GAAG,IAAI,gBAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;iBAC5C;gBACD,QAAQ,CAAC,IAAI,CAAC;oBACZ,MAAM,EAAE,MAAM;iBACf,CAAC,CAAA;aACH;YACD,MAAM,YAAY,GAA8B,MAAM,uBAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAA;YACvF,IAAI,YAAY,KAAK,IAAI,EAAE;gBACzB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAA;aAC3C;YACD,OAAO,YAAY,CAAA;QACrB,CAAC,CAAA,CAAA;QAED,qBAAgB,GAAG,CAAO,OAAe,EAAsB,EAAE;YAC/D,MAAM,qBAAqB,GAAqB,MAAM,uBAAa,CAAC,SAAS,CAAC;gBAC5E;oBACE,OAAO,EAAE;wBACP,IAAI,EAAE,oBAAoB;wBAC1B,UAAU,EAAE,KAAK;wBACjB,YAAY,EAAE,WAAW;wBACzB,EAAE,EAAE,kBAAkB;qBACvB;iBACF;gBACD;oBACE,MAAM,EAAE;wBACN,0BAA0B,EAAE,IAAI,gBAAK,CAAC,QAAQ,CAAC,OAAO,CAAC;qBACxD;iBACF;gBACD;oBACE,QAAQ,EAAE;wBACR,GAAG,EAAE,CAAC;wBACN,MAAM,EAAE,CAAC;wBACT,OAAO,EAAE,CAAC;wBACV,SAAS,EAAE,CAAC;qBACb;iBACF;aACF,CAAC,CAAA;YACF,IAAI,qBAAqB,KAAK,IAAI,EAAE;gBAClC,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAA;aACvD;YACD,OAAO,qBAAqB,CAAA;QAC9B,CAAC,CAAA,CAAA;QAED,+BAA0B,GAAG,CAAO,OAAe,EAA+B,EAAE;YAClF,MAAM,qBAAqB,GAA8B,MAAM,uBAAa,CAAC,SAAS,CAAC;gBACrF;oBACE,OAAO,EAAE;wBACP,IAAI,EAAE,oBAAoB;wBAC1B,UAAU,EAAE,KAAK;wBACjB,YAAY,EAAE,WAAW;wBACzB,EAAE,EAAE,kBAAkB;qBACvB;iBACF;gBACD;oBACE,MAAM,EAAE;wBACN,0BAA0B,EAAE,IAAI,gBAAK,CAAC,QAAQ,CAAC,OAAO,CAAC;qBACxD;iBACF;gBACD;oBACE,OAAO,EAAE;wBACP,IAAI,EAAE,OAAO;wBACb,UAAU,EAAE,QAAQ;wBACpB,YAAY,EAAE,KAAK;wBACnB,EAAE,EAAE,MAAM;qBACX;iBACF;gBACD;oBACE,OAAO,EAAE;wBACP,IAAI,EAAE,OAAO;qBACd;iBACF;gBACD;oBACE,QAAQ,EAAE;wBACR,GAAG,EAAE,CAAC;wBACN,IAAI,EAAE,CAAC;wBACP,OAAO,EAAE,CAAC;wBACV,SAAS,EAAE,CAAC;qBACb;iBACF;aACF,CAAC,CAAA;YACF,IAAI,qBAAqB,KAAK,IAAI,EAAE;gBAClC,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAA;aACvD;YACD,OAAO,qBAAqB,CAAA;QAC9B,CAAC,CAAA,CAAA;QAED,gBAAW,GAAG,CAAO,EAAU,EAAoB,EAAE;YACnD,MAAM,YAAY,GAAmB,MAAM,uBAAa,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,IAAI,gBAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,CAAA;YACjG,IAAI,YAAY,KAAK,IAAI,EAAE;gBACzB,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAA;aAC1C;YACD,OAAO,YAAY,CAAA;QACrB,CAAC,CAAA,CAAA;QAED,0BAAqB,GAAG,CAAO,EAAU,EAA6B,EAAE;;YACtE,MAAM,aAAa,GAA8B,MAAM,uBAAa,CAAC,SAAS,CAAC;gBAC7E;oBACE,MAAM,EAAE;wBACN,GAAG,EAAE,IAAI,gBAAK,CAAC,QAAQ,CAAC,EAAE,CAAC;qBAC5B;iBACF;gBACD;oBACE,OAAO,EAAE;wBACP,IAAI,EAAE,OAAO;wBACb,UAAU,EAAE,QAAQ;wBACpB,YAAY,EAAE,KAAK;wBACnB,EAAE,EAAE,MAAM;qBACX;iBACF;gBACD;oBACE,OAAO,EAAE;wBACP,IAAI,EAAE,OAAO;qBACd;iBACF;gBACD;oBACE,QAAQ,EAAE;wBACR,GAAG,EAAE,CAAC;wBACN,IAAI,EAAE,CAAC;wBACP,OAAO,EAAE,CAAC;wBACV,SAAS,EAAE,CAAC;qBACb;iBACF;gBACD;oBACE,MAAM,EAAE,CAAC;iBACV;aACF,CAAC,CAAA;YACF,IAAI,aAAa,KAAK,IAAI,EAAE;gBAC1B,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAA;aAC3C;YACD,MAAM,YAAY,GAA4B,MAAA,aAAa,CAAC,CAAC,CAAC,mCAAI,IAAI,CAAA;YACtE,IAAI,YAAY,KAAK,IAAI,EAAE;gBACzB,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAA;aAC1C;YACD,OAAO,YAAY,CAAA;QACrB,CAAC,CAAA,CAAA;QAED,cAAS,GAAG,CAAO,OAAgB,EAAoB,EAAE;YACvD,OAAO,MAAM,uBAAa,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;QAC5C,CAAC,CAAA,CAAA;QAED,iBAAY,GAAG,CAAO,EAAU,EAAE,OAAgB,EAAoB,EAAE;YACtE,MAAM,cAAc,GAAmB,MAAM,uBAAa,CAAC,gBAAgB,CAAC,EAAE,GAAG,EAAE,IAAI,gBAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAA;YAC9I,IAAI,cAAc,KAAK,IAAI,EAAE;gBAC3B,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAA;aAC5C;YACD,OAAO,cAAc,CAAA;QACvB,CAAC,CAAA,CAAA;QAED,kBAAa,GAAG,CAAO,EAAU,EAAoB,EAAE;YACrD,MAAM,cAAc,GAAmB,MAAM,uBAAa,CAAC,gBAAgB,CAAC,EAAE,GAAG,EAAE,IAAI,gBAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,CAAA;YAC5G,IAAI,cAAc,KAAK,IAAI,EAAE;gBAC3B,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAA;aAC5C;YACD,OAAO,cAAc,CAAA;QACvB,CAAC,CAAA,CAAA;QApMC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAA;IAClC,CAAC;CAoMF;AAzMD,oCAyMC","sourcesContent":["import type Comment from '../../inners/models/entities/Comment'\r\nimport type OneDatastore from '../datastores/OneDatastore'\r\nimport CommentSchema from '../schemas/CommentSchema'\r\nimport type CommentAggregate from '../../inners/models/aggregates/CommentAggregate'\r\nimport { Types } from 'mongoose'\r\n\r\nexport default class CommentRepository {\r\n  oneDatastore: OneDatastore\r\n\r\n  constructor (datastoreOne: OneDatastore) {\r\n    this.oneDatastore = datastoreOne\r\n  }\r\n\r\n  readAll = async (search?: any): Promise<Comment[]> => {\r\n    if (search !== undefined) {\r\n      if (search._id !== null) {\r\n        search._id = new Types.ObjectId(search._id)\r\n      }\r\n    }\r\n    const foundComment: Comment[] | null = await CommentSchema.find(search)\r\n    if (foundComment === null) {\r\n      throw new Error('Found comments is null.')\r\n    }\r\n    return foundComment\r\n  }\r\n\r\n  readAllAggregated = async (search?: any): Promise<CommentAggregate[]> => {\r\n    const pipeline: any[] = [\r\n      {\r\n        $lookup: {\r\n          from: 'users',\r\n          localField: 'userId',\r\n          foreignField: '_id',\r\n          as: 'user'\r\n        }\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: '$user'\r\n        }\r\n      },\r\n      {\r\n        $project: {\r\n          _id: 1,\r\n          user: 1,\r\n          content: 1,\r\n          timestamp: 1\r\n        }\r\n      }\r\n    ]\r\n    if (search !== undefined) {\r\n      if (search._id !== null) {\r\n        search._id = new Types.ObjectId(search._id)\r\n      }\r\n      pipeline.push({\r\n        $match: search\r\n      })\r\n    }\r\n    const foundComment: CommentAggregate[] | null = await CommentSchema.aggregate(pipeline)\r\n    if (foundComment === null) {\r\n      throw new Error('Found comments is null.')\r\n    }\r\n    return foundComment\r\n  }\r\n\r\n  readAllByVideoId = async (videoId: string): Promise<Comment[]> => {\r\n    const foundCommentByVideoId: Comment[] | null = await CommentSchema.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: 'video_comment_maps',\r\n          localField: '_id',\r\n          foreignField: 'commentId',\r\n          as: 'videoCommentMaps'\r\n        }\r\n      },\r\n      {\r\n        $match: {\r\n          'videoCommentMaps.videoId': new Types.ObjectId(videoId)\r\n        }\r\n      },\r\n      {\r\n        $project: {\r\n          _id: 1,\r\n          userId: 1,\r\n          content: 1,\r\n          timestamp: 1\r\n        }\r\n      }\r\n    ])\r\n    if (foundCommentByVideoId === null) {\r\n      throw new Error('Found comments by video id is null.')\r\n    }\r\n    return foundCommentByVideoId\r\n  }\r\n\r\n  readAllByVideoIdAggregated = async (videoId: string): Promise<CommentAggregate[]> => {\r\n    const foundCommentByVideoId: CommentAggregate[] | null = await CommentSchema.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: 'video_comment_maps',\r\n          localField: '_id',\r\n          foreignField: 'commentId',\r\n          as: 'videoCommentMaps'\r\n        }\r\n      },\r\n      {\r\n        $match: {\r\n          'videoCommentMaps.videoId': new Types.ObjectId(videoId)\r\n        }\r\n      },\r\n      {\r\n        $lookup: {\r\n          from: 'users',\r\n          localField: 'userId',\r\n          foreignField: '_id',\r\n          as: 'user'\r\n        }\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: '$user'\r\n        }\r\n      },\r\n      {\r\n        $project: {\r\n          _id: 1,\r\n          user: 1,\r\n          content: 1,\r\n          timestamp: 1\r\n        }\r\n      }\r\n    ])\r\n    if (foundCommentByVideoId === null) {\r\n      throw new Error('Found comments by video id is null.')\r\n    }\r\n    return foundCommentByVideoId\r\n  }\r\n\r\n  readOneById = async (id: string): Promise<Comment> => {\r\n    const foundComment: Comment | null = await CommentSchema.findOne({ _id: new Types.ObjectId(id) })\r\n    if (foundComment === null) {\r\n      throw new Error('Found comment is null.')\r\n    }\r\n    return foundComment\r\n  }\r\n\r\n  readOneByIdAggregated = async (id: string): Promise<CommentAggregate> => {\r\n    const foundComments: CommentAggregate[] | null = await CommentSchema.aggregate([\r\n      {\r\n        $match: {\r\n          _id: new Types.ObjectId(id)\r\n        }\r\n      },\r\n      {\r\n        $lookup: {\r\n          from: 'users',\r\n          localField: 'userId',\r\n          foreignField: '_id',\r\n          as: 'user'\r\n        }\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: '$user'\r\n        }\r\n      },\r\n      {\r\n        $project: {\r\n          _id: 1,\r\n          user: 1,\r\n          content: 1,\r\n          timestamp: 1\r\n        }\r\n      },\r\n      {\r\n        $limit: 1\r\n      }\r\n    ])\r\n    if (foundComments === null) {\r\n      throw new Error('Found comments is null.')\r\n    }\r\n    const foundComment: CommentAggregate | null = foundComments[0] ?? null\r\n    if (foundComment === null) {\r\n      throw new Error('Found comment is null.')\r\n    }\r\n    return foundComment\r\n  }\r\n\r\n  createOne = async (comment: Comment): Promise<Comment> => {\r\n    return await CommentSchema.create(comment)\r\n  }\r\n\r\n  patchOneById = async (id: string, comment: Comment): Promise<Comment> => {\r\n    const patchedComment: Comment | null = await CommentSchema.findOneAndUpdate({ _id: new Types.ObjectId(id) }, { $set: comment }, { new: true })\r\n    if (patchedComment === null) {\r\n      throw new Error('Patched comment is null.')\r\n    }\r\n    return patchedComment\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<Comment> => {\r\n    const deletedComment: Comment | null = await CommentSchema.findOneAndDelete({ _id: new Types.ObjectId(id) })\r\n    if (deletedComment === null) {\r\n      throw new Error('Deleted comment is null.')\r\n    }\r\n    return deletedComment\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"366fafd1268555b6f5fb2ce6c1a96a4f237f64a1"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\CommentSchema.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\CommentSchema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":4,"column":22},"end":{"line":16,"column":2}},"3":{"start":{"line":17,"column":0},"end":{"line":17,"column":67}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\CommentSchema.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\CommentSchema.ts"],"names":[],"mappings":";;AAAA,uCAAwC;AAGxC,MAAM,aAAa,GAAG,IAAI,iBAAM,CAAU;IACxC,MAAM,EAAE;QACN,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ;KAC5B;IACD,OAAO,EAAE;QACP,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,MAAM;KAC1B;IACD,SAAS,EAAE;QACT,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,IAAI;KACxB;CACF,EACD;IACE,UAAU,EAAE,KAAK;CAClB,CAAC,CAAA;AAEF,kBAAe,IAAA,gBAAK,EAAU,UAAU,EAAE,aAAa,CAAC,CAAA","sourcesContent":["import { model, Schema } from 'mongoose'\r\nimport type Comment from '../../inners/models/entities/Comment'\r\n\r\nconst commentSchema = new Schema<Comment>({\r\n  userId: {\r\n    type: Schema.Types.ObjectId\r\n  },\r\n  content: {\r\n    type: Schema.Types.String\r\n  },\r\n  timestamp: {\r\n    type: Schema.Types.Date\r\n  }\r\n},\r\n{\r\n  versionKey: false\r\n})\r\n\r\nexport default model<Comment>('comments', commentSchema)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f636fb4f4f330ade45f81c7b6c6adafbe8d2a45c"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\CommentManagement.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\CommentManagement.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":78}},"16":{"start":{"line":16,"column":18},"end":{"line":16,"column":75}},"17":{"start":{"line":19,"column":8},"end":{"line":28,"column":11}},"18":{"start":{"line":19,"column":49},"end":{"line":28,"column":10}},"19":{"start":{"line":21,"column":12},"end":{"line":26,"column":13}},"20":{"start":{"line":22,"column":16},"end":{"line":22,"column":87}},"21":{"start":{"line":25,"column":16},"end":{"line":25,"column":77}},"22":{"start":{"line":27,"column":12},"end":{"line":27,"column":89}},"23":{"start":{"line":29,"column":8},"end":{"line":38,"column":11}},"24":{"start":{"line":29,"column":59},"end":{"line":38,"column":10}},"25":{"start":{"line":31,"column":12},"end":{"line":36,"column":13}},"26":{"start":{"line":32,"column":16},"end":{"line":32,"column":97}},"27":{"start":{"line":35,"column":16},"end":{"line":35,"column":87}},"28":{"start":{"line":37,"column":12},"end":{"line":37,"column":101}},"29":{"start":{"line":39,"column":8},"end":{"line":48,"column":11}},"30":{"start":{"line":39,"column":49},"end":{"line":48,"column":10}},"31":{"start":{"line":41,"column":12},"end":{"line":46,"column":13}},"32":{"start":{"line":42,"column":16},"end":{"line":42,"column":86}},"33":{"start":{"line":45,"column":16},"end":{"line":45,"column":76}},"34":{"start":{"line":47,"column":12},"end":{"line":47,"column":94}},"35":{"start":{"line":49,"column":8},"end":{"line":52,"column":11}},"36":{"start":{"line":49,"column":35},"end":{"line":52,"column":10}},"37":{"start":{"line":50,"column":35},"end":{"line":50,"column":79}},"38":{"start":{"line":51,"column":12},"end":{"line":51,"column":92}},"39":{"start":{"line":53,"column":8},"end":{"line":56,"column":11}},"40":{"start":{"line":53,"column":42},"end":{"line":56,"column":10}},"41":{"start":{"line":54,"column":35},"end":{"line":54,"column":86}},"42":{"start":{"line":55,"column":12},"end":{"line":55,"column":97}},"43":{"start":{"line":57,"column":8},"end":{"line":60,"column":11}},"44":{"start":{"line":57,"column":37},"end":{"line":60,"column":10}},"45":{"start":{"line":58,"column":35},"end":{"line":58,"column":81}},"46":{"start":{"line":59,"column":12},"end":{"line":59,"column":98}},"47":{"start":{"line":61,"column":8},"end":{"line":79,"column":11}},"48":{"start":{"line":61,"column":55},"end":{"line":79,"column":10}},"49":{"start":{"line":62,"column":12},"end":{"line":64,"column":13}},"50":{"start":{"line":63,"column":16},"end":{"line":63,"column":58}},"51":{"start":{"line":65,"column":30},"end":{"line":65,"column":97}},"52":{"start":{"line":66,"column":36},"end":{"line":66,"column":107}},"53":{"start":{"line":67,"column":35},"end":{"line":67,"column":90}},"54":{"start":{"line":69,"column":12},"end":{"line":77,"column":13}},"55":{"start":{"line":70,"column":16},"end":{"line":72,"column":17}},"56":{"start":{"line":71,"column":20},"end":{"line":71,"column":72}},"57":{"start":{"line":73,"column":16},"end":{"line":73,"column":106}},"58":{"start":{"line":76,"column":16},"end":{"line":76,"column":50}},"59":{"start":{"line":78,"column":12},"end":{"line":78,"column":90}},"60":{"start":{"line":80,"column":8},"end":{"line":80,"column":51}},"61":{"start":{"line":81,"column":8},"end":{"line":81,"column":45}},"62":{"start":{"line":84,"column":0},"end":{"line":84,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":51},"end":{"line":82,"column":5}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":23},"end":{"line":19,"column":24}},"loc":{"start":{"line":19,"column":49},"end":{"line":28,"column":10}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":81},"end":{"line":19,"column":82}},"loc":{"start":{"line":19,"column":94},"end":{"line":28,"column":9}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":29,"column":32},"end":{"line":29,"column":33}},"loc":{"start":{"line":29,"column":59},"end":{"line":38,"column":10}},"line":29},"12":{"name":"(anonymous_12)","decl":{"start":{"line":29,"column":91},"end":{"line":29,"column":92}},"loc":{"start":{"line":29,"column":104},"end":{"line":38,"column":9}},"line":29},"13":{"name":"(anonymous_13)","decl":{"start":{"line":39,"column":27},"end":{"line":39,"column":28}},"loc":{"start":{"line":39,"column":49},"end":{"line":48,"column":10}},"line":39},"14":{"name":"(anonymous_14)","decl":{"start":{"line":39,"column":81},"end":{"line":39,"column":82}},"loc":{"start":{"line":39,"column":94},"end":{"line":48,"column":9}},"line":39},"15":{"name":"(anonymous_15)","decl":{"start":{"line":49,"column":25},"end":{"line":49,"column":26}},"loc":{"start":{"line":49,"column":35},"end":{"line":52,"column":10}},"line":49},"16":{"name":"(anonymous_16)","decl":{"start":{"line":49,"column":67},"end":{"line":49,"column":68}},"loc":{"start":{"line":49,"column":80},"end":{"line":52,"column":9}},"line":49},"17":{"name":"(anonymous_17)","decl":{"start":{"line":53,"column":28},"end":{"line":53,"column":29}},"loc":{"start":{"line":53,"column":42},"end":{"line":56,"column":10}},"line":53},"18":{"name":"(anonymous_18)","decl":{"start":{"line":53,"column":74},"end":{"line":53,"column":75}},"loc":{"start":{"line":53,"column":87},"end":{"line":56,"column":9}},"line":53},"19":{"name":"(anonymous_19)","decl":{"start":{"line":57,"column":29},"end":{"line":57,"column":30}},"loc":{"start":{"line":57,"column":37},"end":{"line":60,"column":10}},"line":57},"20":{"name":"(anonymous_20)","decl":{"start":{"line":57,"column":69},"end":{"line":57,"column":70}},"loc":{"start":{"line":57,"column":82},"end":{"line":60,"column":9}},"line":57},"21":{"name":"(anonymous_21)","decl":{"start":{"line":61,"column":22},"end":{"line":61,"column":23}},"loc":{"start":{"line":61,"column":55},"end":{"line":79,"column":10}},"line":61},"22":{"name":"(anonymous_22)","decl":{"start":{"line":61,"column":87},"end":{"line":61,"column":88}},"loc":{"start":{"line":61,"column":100},"end":{"line":79,"column":9}},"line":61}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":21,"column":12},"end":{"line":26,"column":13}},"type":"if","locations":[{"start":{"line":21,"column":12},"end":{"line":26,"column":13}},{"start":{"line":21,"column":12},"end":{"line":26,"column":13}}],"line":21},"9":{"loc":{"start":{"line":31,"column":12},"end":{"line":36,"column":13}},"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":36,"column":13}},{"start":{"line":31,"column":12},"end":{"line":36,"column":13}}],"line":31},"10":{"loc":{"start":{"line":41,"column":12},"end":{"line":46,"column":13}},"type":"if","locations":[{"start":{"line":41,"column":12},"end":{"line":46,"column":13}},{"start":{"line":41,"column":12},"end":{"line":46,"column":13}}],"line":41},"11":{"loc":{"start":{"line":62,"column":12},"end":{"line":64,"column":13}},"type":"if","locations":[{"start":{"line":62,"column":12},"end":{"line":64,"column":13}},{"start":{"line":62,"column":12},"end":{"line":64,"column":13}}],"line":62},"12":{"loc":{"start":{"line":69,"column":12},"end":{"line":77,"column":13}},"type":"if","locations":[{"start":{"line":69,"column":12},"end":{"line":77,"column":13}},{"start":{"line":69,"column":12},"end":{"line":77,"column":13}}],"line":69},"13":{"loc":{"start":{"line":70,"column":16},"end":{"line":72,"column":17}},"type":"if","locations":[{"start":{"line":70,"column":16},"end":{"line":72,"column":17}},{"start":{"line":70,"column":16},"end":{"line":72,"column":17}}],"line":70}},"s":{"0":1,"1":16,"2":0,"3":13,"4":16,"5":16,"6":0,"7":0,"8":0,"9":0,"10":29,"11":13,"12":1,"13":2,"14":1,"15":1,"16":1,"17":2,"18":4,"19":4,"20":2,"21":2,"22":4,"23":2,"24":2,"25":2,"26":1,"27":1,"28":2,"29":2,"30":2,"31":2,"32":1,"33":1,"34":2,"35":2,"36":1,"37":1,"38":1,"39":2,"40":1,"41":1,"42":1,"43":2,"44":1,"45":1,"46":1,"47":2,"48":2,"49":2,"50":0,"51":2,"52":2,"53":2,"54":2,"55":1,"56":0,"57":1,"58":1,"59":2,"60":2,"61":2,"62":1},"f":{"0":13,"1":16,"2":0,"3":13,"4":16,"5":0,"6":29,"7":2,"8":2,"9":4,"10":4,"11":2,"12":2,"13":2,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":2,"22":2},"b":{"0":[1,1,1],"1":[16,0],"2":[13,13],"3":[13,16],"4":[13,13],"5":[1,1,1],"6":[2,0],"7":[2,2],"8":[2,2],"9":[1,1],"10":[1,1],"11":[0,2],"12":[1,1],"13":[0,1]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\CommentManagement.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\CommentManagement.ts"],"names":[],"mappings":"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","sourcesContent":["import type CommentRepository from '../../../outers/repositories/CommentRepository'\r\nimport Result from '../../models/value_objects/Result'\r\nimport Comment from '../../models/entities/Comment'\r\nimport type CommentAggregate from '../../models/aggregates/CommentAggregate'\r\nimport type SubmitCommentRequest from '../../models/value_objects/requests/comments/SubmitCommentRequest'\r\nimport type UserRepository from '../../../outers/repositories/UserRepository'\r\nimport type User from '../../models/entities/User'\r\n\r\nexport default class CommentManagement {\r\n  commentRepository: CommentRepository\r\n  userRepository: UserRepository\r\n\r\n  constructor (commentRepository: CommentRepository, userRepository: UserRepository) {\r\n    this.commentRepository = commentRepository\r\n    this.userRepository = userRepository\r\n  }\r\n\r\n  readAll = async (isAggregated?: boolean, search?: any): Promise<Result<Comment[] | CommentAggregate[]>> => {\r\n    let foundComments: Comment[] | CommentAggregate[]\r\n    if (isAggregated === true) {\r\n      foundComments = await this.commentRepository.readAllAggregated(search)\r\n    } else {\r\n      foundComments = await this.commentRepository.readAll(search)\r\n    }\r\n    return new Result<Comment[] | CommentAggregate[]>(\r\n      200,\r\n      'Comment read all succeed.',\r\n      foundComments\r\n    )\r\n  }\r\n\r\n  readAllByVideoId = async (videoId: string, isAggregated?: boolean): Promise<Result<Comment[] | CommentAggregate[]>> => {\r\n    let foundComments: Comment[] | CommentAggregate[]\r\n    if (isAggregated === true) {\r\n      foundComments = await this.commentRepository.readAllByVideoIdAggregated(videoId)\r\n    } else {\r\n      foundComments = await this.commentRepository.readAllByVideoId(videoId)\r\n    }\r\n    return new Result<Comment[] | CommentAggregate[]>(\r\n      200,\r\n      'Comment read all by video id succeed.',\r\n      foundComments\r\n    )\r\n  }\r\n\r\n  readOneById = async (id: string, isAggregated?: boolean): Promise<Result<Comment | CommentAggregate>> => {\r\n    let foundComment: Comment | CommentAggregate\r\n    if (isAggregated === true) {\r\n      foundComment = await this.commentRepository.readOneByIdAggregated(id)\r\n    } else {\r\n      foundComment = await this.commentRepository.readOneById(id)\r\n    }\r\n    return new Result<Comment | CommentAggregate >(\r\n      200,\r\n      'Comment read one by id succeed.',\r\n      foundComment\r\n    )\r\n  }\r\n\r\n  createOne = async (item: any): Promise<Result<Comment>> => {\r\n    const createdComment: Comment = await this.commentRepository.createOne(item)\r\n    return new Result<Comment>(\r\n      201,\r\n      'Comment create one succeed.',\r\n      createdComment\r\n    )\r\n  }\r\n\r\n  patchOneById = async (id: string, item: any): Promise<Result<Comment>> => {\r\n    const patchedComment: Comment = await this.commentRepository.patchOneById(id, item)\r\n    return new Result<Comment >(\r\n      200,\r\n      'Comment patch one by id succeed.',\r\n      patchedComment\r\n    )\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<Result<Comment>> => {\r\n    const deletedComment: Comment = await this.commentRepository.deleteOneById(id)\r\n    return new Result<Comment>(\r\n      200,\r\n      'Comment delete one by id succeed.',\r\n      deletedComment\r\n    )\r\n  }\r\n\r\n  submit = async (submitComment: SubmitCommentRequest, isAggregated?: boolean): Promise<Result<Comment | CommentAggregate>> => {\r\n    if (submitComment.username === undefined) {\r\n      throw new Error('Username is undefined.')\r\n    }\r\n    const foundUser: User = await this.userRepository.readOneByUsername(submitComment.username)\r\n    const toCreateComment: Comment = new Comment(\r\n      foundUser._id,\r\n      submitComment.content,\r\n      new Date()\r\n    )\r\n    const createdComment: Comment = await this.commentRepository.createOne(toCreateComment)\r\n    let submittedComment: Comment | CommentAggregate\r\n    if (isAggregated === true) {\r\n      if (createdComment._id === undefined) {\r\n        throw new Error('Created comment id is undefined.')\r\n      }\r\n      submittedComment = await this.commentRepository.readOneByIdAggregated(createdComment._id)\r\n    } else {\r\n      submittedComment = createdComment\r\n    }\r\n    return new Result<Comment | CommentAggregate>(\r\n      201,\r\n      'Comment submit succeed.',\r\n      submittedComment\r\n    )\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"996b6f2e8a43bf9a0f8b00ebf2c732284c71256c"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\Comment.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\Comment.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":35}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":49},"end":{"line":9,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":5,"2":5,"3":5,"4":5,"5":1},"f":{"0":5},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\Comment.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\Comment.ts"],"names":[],"mappings":";;AAAA,MAAqB,OAAO;IAM1B,YACE,MAA0B,EAC1B,OAA2B,EAC3B,SAA2B,EAC3B,GAAwB;QAExB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAA;QACd,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;QACpB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;QACtB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAA;IAC5B,CAAC;CACF;AAjBD,0BAiBC","sourcesContent":["export default class Comment {\r\n  _id: string | undefined\r\n  userId: string | undefined\r\n  content: string | undefined\r\n  timestamp: Date | undefined\r\n\r\n  constructor (\r\n    userId: string | undefined,\r\n    content: string | undefined,\r\n    timestamp: Date | undefined,\r\n    _id?: string | undefined\r\n  ) {\r\n    this._id = _id\r\n    this.userId = userId\r\n    this.content = content\r\n    this.timestamp = timestamp\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"eb53c6a6017c801f55eba29251dcf5850ba0c288"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\CommentControllerRest.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\CommentControllerRest.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":31},"end":{"line":6,"column":134}},"4":{"start":{"line":9,"column":8},"end":{"line":17,"column":10}},"5":{"start":{"line":10,"column":12},"end":{"line":10,"column":46}},"6":{"start":{"line":11,"column":12},"end":{"line":11,"column":71}},"7":{"start":{"line":12,"column":12},"end":{"line":12,"column":54}},"8":{"start":{"line":13,"column":12},"end":{"line":13,"column":49}},"9":{"start":{"line":14,"column":12},"end":{"line":14,"column":58}},"10":{"start":{"line":15,"column":12},"end":{"line":15,"column":57}},"11":{"start":{"line":16,"column":12},"end":{"line":16,"column":59}},"12":{"start":{"line":18,"column":8},"end":{"line":34,"column":10}},"13":{"start":{"line":19,"column":45},"end":{"line":19,"column":58}},"14":{"start":{"line":20,"column":39},"end":{"line":20,"column":60}},"15":{"start":{"line":21,"column":33},"end":{"line":21,"column":114}},"16":{"start":{"line":22,"column":12},"end":{"line":33,"column":15}},"17":{"start":{"line":25,"column":16},"end":{"line":25,"column":60}},"18":{"start":{"line":28,"column":16},"end":{"line":32,"column":19}},"19":{"start":{"line":35,"column":8},"end":{"line":51,"column":10}},"20":{"start":{"line":36,"column":32},"end":{"line":36,"column":46}},"21":{"start":{"line":37,"column":37},"end":{"line":37,"column":50}},"22":{"start":{"line":38,"column":39},"end":{"line":38,"column":60}},"23":{"start":{"line":39,"column":12},"end":{"line":50,"column":15}},"24":{"start":{"line":42,"column":16},"end":{"line":42,"column":60}},"25":{"start":{"line":45,"column":16},"end":{"line":49,"column":19}},"26":{"start":{"line":52,"column":8},"end":{"line":67,"column":10}},"27":{"start":{"line":53,"column":27},"end":{"line":53,"column":41}},"28":{"start":{"line":54,"column":37},"end":{"line":54,"column":50}},"29":{"start":{"line":55,"column":12},"end":{"line":66,"column":15}},"30":{"start":{"line":58,"column":16},"end":{"line":58,"column":60}},"31":{"start":{"line":61,"column":16},"end":{"line":65,"column":19}},"32":{"start":{"line":68,"column":8},"end":{"line":81,"column":10}},"33":{"start":{"line":69,"column":12},"end":{"line":80,"column":15}},"34":{"start":{"line":72,"column":16},"end":{"line":72,"column":60}},"35":{"start":{"line":75,"column":16},"end":{"line":79,"column":19}},"36":{"start":{"line":82,"column":8},"end":{"line":98,"column":10}},"37":{"start":{"line":83,"column":37},"end":{"line":83,"column":50}},"38":{"start":{"line":84,"column":51},"end":{"line":84,"column":63}},"39":{"start":{"line":85,"column":34},"end":{"line":85,"column":96}},"40":{"start":{"line":86,"column":12},"end":{"line":97,"column":15}},"41":{"start":{"line":89,"column":16},"end":{"line":89,"column":60}},"42":{"start":{"line":92,"column":16},"end":{"line":96,"column":19}},"43":{"start":{"line":99,"column":8},"end":{"line":113,"column":10}},"44":{"start":{"line":100,"column":27},"end":{"line":100,"column":41}},"45":{"start":{"line":101,"column":12},"end":{"line":112,"column":15}},"46":{"start":{"line":104,"column":16},"end":{"line":104,"column":60}},"47":{"start":{"line":107,"column":16},"end":{"line":111,"column":19}},"48":{"start":{"line":114,"column":8},"end":{"line":128,"column":10}},"49":{"start":{"line":115,"column":27},"end":{"line":115,"column":41}},"50":{"start":{"line":116,"column":12},"end":{"line":127,"column":15}},"51":{"start":{"line":119,"column":16},"end":{"line":119,"column":60}},"52":{"start":{"line":122,"column":16},"end":{"line":126,"column":19}},"53":{"start":{"line":129,"column":8},"end":{"line":129,"column":29}},"54":{"start":{"line":130,"column":8},"end":{"line":130,"column":51}},"55":{"start":{"line":133,"column":0},"end":{"line":133,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":43},"end":{"line":131,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":30},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":36},"end":{"line":17,"column":9}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":46},"end":{"line":34,"column":9}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":22},"end":{"line":24,"column":23}},"loc":{"start":{"line":24,"column":34},"end":{"line":26,"column":13}},"line":24},"5":{"name":"(anonymous_5)","decl":{"start":{"line":27,"column":23},"end":{"line":27,"column":24}},"loc":{"start":{"line":27,"column":34},"end":{"line":33,"column":13}},"line":27},"6":{"name":"(anonymous_6)","decl":{"start":{"line":35,"column":32},"end":{"line":35,"column":33}},"loc":{"start":{"line":35,"column":55},"end":{"line":51,"column":9}},"line":35},"7":{"name":"(anonymous_7)","decl":{"start":{"line":41,"column":22},"end":{"line":41,"column":23}},"loc":{"start":{"line":41,"column":34},"end":{"line":43,"column":13}},"line":41},"8":{"name":"(anonymous_8)","decl":{"start":{"line":44,"column":23},"end":{"line":44,"column":24}},"loc":{"start":{"line":44,"column":34},"end":{"line":50,"column":13}},"line":44},"9":{"name":"(anonymous_9)","decl":{"start":{"line":52,"column":27},"end":{"line":52,"column":28}},"loc":{"start":{"line":52,"column":50},"end":{"line":67,"column":9}},"line":52},"10":{"name":"(anonymous_10)","decl":{"start":{"line":57,"column":22},"end":{"line":57,"column":23}},"loc":{"start":{"line":57,"column":34},"end":{"line":59,"column":13}},"line":57},"11":{"name":"(anonymous_11)","decl":{"start":{"line":60,"column":23},"end":{"line":60,"column":24}},"loc":{"start":{"line":60,"column":34},"end":{"line":66,"column":13}},"line":60},"12":{"name":"(anonymous_12)","decl":{"start":{"line":68,"column":25},"end":{"line":68,"column":26}},"loc":{"start":{"line":68,"column":48},"end":{"line":81,"column":9}},"line":68},"13":{"name":"(anonymous_13)","decl":{"start":{"line":71,"column":22},"end":{"line":71,"column":23}},"loc":{"start":{"line":71,"column":34},"end":{"line":73,"column":13}},"line":71},"14":{"name":"(anonymous_14)","decl":{"start":{"line":74,"column":23},"end":{"line":74,"column":24}},"loc":{"start":{"line":74,"column":34},"end":{"line":80,"column":13}},"line":74},"15":{"name":"(anonymous_15)","decl":{"start":{"line":82,"column":22},"end":{"line":82,"column":23}},"loc":{"start":{"line":82,"column":45},"end":{"line":98,"column":9}},"line":82},"16":{"name":"(anonymous_16)","decl":{"start":{"line":88,"column":22},"end":{"line":88,"column":23}},"loc":{"start":{"line":88,"column":34},"end":{"line":90,"column":13}},"line":88},"17":{"name":"(anonymous_17)","decl":{"start":{"line":91,"column":23},"end":{"line":91,"column":24}},"loc":{"start":{"line":91,"column":34},"end":{"line":97,"column":13}},"line":91},"18":{"name":"(anonymous_18)","decl":{"start":{"line":99,"column":28},"end":{"line":99,"column":29}},"loc":{"start":{"line":99,"column":51},"end":{"line":113,"column":9}},"line":99},"19":{"name":"(anonymous_19)","decl":{"start":{"line":103,"column":22},"end":{"line":103,"column":23}},"loc":{"start":{"line":103,"column":34},"end":{"line":105,"column":13}},"line":103},"20":{"name":"(anonymous_20)","decl":{"start":{"line":106,"column":23},"end":{"line":106,"column":24}},"loc":{"start":{"line":106,"column":34},"end":{"line":112,"column":13}},"line":106},"21":{"name":"(anonymous_21)","decl":{"start":{"line":114,"column":29},"end":{"line":114,"column":30}},"loc":{"start":{"line":114,"column":52},"end":{"line":128,"column":9}},"line":114},"22":{"name":"(anonymous_22)","decl":{"start":{"line":118,"column":22},"end":{"line":118,"column":23}},"loc":{"start":{"line":118,"column":34},"end":{"line":120,"column":13}},"line":118},"23":{"name":"(anonymous_23)","decl":{"start":{"line":121,"column":23},"end":{"line":121,"column":24}},"loc":{"start":{"line":121,"column":34},"end":{"line":127,"column":13}},"line":121}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":21,"column":33},"end":{"line":21,"column":114}},"type":"cond-expr","locations":[{"start":{"line":21,"column":56},"end":{"line":21,"column":102}},{"start":{"line":21,"column":105},"end":{"line":21,"column":114}}],"line":21}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":4,"14":4,"15":4,"16":4,"17":4,"18":0,"19":1,"20":2,"21":2,"22":2,"23":2,"24":2,"25":0,"26":1,"27":2,"28":2,"29":2,"30":2,"31":0,"32":1,"33":1,"34":1,"35":0,"36":1,"37":2,"38":2,"39":2,"40":2,"41":2,"42":0,"43":1,"44":1,"45":1,"46":1,"47":0,"48":1,"49":1,"50":1,"51":1,"52":0,"53":1,"54":1,"55":1},"f":{"0":1,"1":1,"2":1,"3":4,"4":4,"5":0,"6":2,"7":2,"8":0,"9":2,"10":2,"11":0,"12":1,"13":1,"14":0,"15":2,"16":2,"17":0,"18":1,"19":1,"20":0,"21":1,"22":1,"23":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[2,2]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\CommentControllerRest.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\CommentControllerRest.ts"],"names":[],"mappings":"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","sourcesContent":["import { type Request, type Response, type Router } from 'express'\r\n\r\nimport type Comment from '../../../inners/models/entities/Comment'\r\nimport type Result from '../../../inners/models/value_objects/Result'\r\nimport type CommentManagement from '../../../inners/use_cases/managements/CommentManagement'\r\nimport type CommentAggregate from '../../../inners/models/aggregates/CommentAggregate'\r\nimport SubmitCommentRequest from '../../../inners/models/value_objects/requests/comments/SubmitCommentRequest'\r\n\r\nexport default class CommentControllerRest {\r\n  router: Router\r\n  commentManagement: CommentManagement\r\n\r\n  constructor (router: Router, commentManagement: CommentManagement) {\r\n    this.router = router\r\n    this.commentManagement = commentManagement\r\n  }\r\n\r\n  registerRoutes = (): void => {\r\n    this.router.get('', this.readAll)\r\n    this.router.get('/videos/:videoId', this.readAllByVideoId)\r\n    this.router.get('/:id', this.readOneById)\r\n    this.router.post('', this.createOne)\r\n    this.router.post('/submissions', this.submit)\r\n    this.router.patch('/:id', this.patchOneById)\r\n    this.router.delete('/:id', this.deleteOneById)\r\n  }\r\n\r\n  readAll = (request: Request, response: Response): void => {\r\n    const { isAggregated, search } = request.query\r\n    const parsedIsAggregated: boolean = Boolean(isAggregated)\r\n    const parsedSearch: any | undefined = search !== undefined ? JSON.parse(decodeURIComponent(String(search))) : undefined\r\n    this.commentManagement\r\n      .readAll(parsedIsAggregated, parsedSearch)\r\n      .then((result: Result<Comment[] | CommentAggregate[]>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  readAllByVideoId = (request: Request, response: Response): void => {\r\n    const { videoId } = request.params\r\n    const { isAggregated } = request.query\r\n    const parsedIsAggregated: boolean = Boolean(isAggregated)\r\n    this.commentManagement\r\n      .readAllByVideoId(videoId, parsedIsAggregated)\r\n      .then((result: Result<Comment[] | CommentAggregate[]>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  readOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    const { isAggregated } = request.query\r\n    this.commentManagement\r\n      .readOneById(id, Boolean(isAggregated))\r\n      .then((result: Result<Comment | CommentAggregate>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  createOne = (request: Request, response: Response): void => {\r\n    this.commentManagement\r\n      .createOne(request.body)\r\n      .then((result: Result<Comment>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  submit = (request: Request, response: Response): void => {\r\n    const { isAggregated } = request.query\r\n    const { videoId, username, content } = request.body\r\n    const submitComment: SubmitCommentRequest = new SubmitCommentRequest(videoId, username, content)\r\n    this.commentManagement\r\n      .submit(submitComment, Boolean(isAggregated))\r\n      .then((result: Result<Comment | CommentAggregate>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  patchOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.commentManagement\r\n      .patchOneById(id, request.body)\r\n      .then((result: Result<Comment>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  deleteOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.commentManagement\r\n      .deleteOneById(id)\r\n      .then((result: Result<Comment>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a91d4ea526dc654034acb86486d70d2a9900c029"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\value_objects\\requests\\comments\\SubmitCommentRequest.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\value_objects\\requests\\comments\\SubmitCommentRequest.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":31}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":33}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":44},"end":{"line":8,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":4,"2":4,"3":4,"4":1},"f":{"0":4},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\value_objects\\requests\\comments\\SubmitCommentRequest.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\value_objects\\requests\\comments\\SubmitCommentRequest.ts"],"names":[],"mappings":";;AAAA,MAAqB,oBAAoB;IAKvC,YACE,OAA2B,EAC3B,QAA4B,EAC5B,OAA2B;QAE3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;QACtB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;QACxB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;IACxB,CAAC;CACF;AAdD,uCAcC","sourcesContent":["export default class SubmitCommentRequest {\r\n  videoId: string | undefined\r\n  username: string | undefined\r\n  content: string | undefined\r\n\r\n  constructor (\r\n    videoId: string | undefined,\r\n    username: string | undefined,\r\n    content: string | undefined\r\n  ) {\r\n    this.videoId = videoId\r\n    this.username = username\r\n    this.content = content\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"12c5d4094372a2ea8be009e65aa3e27db5d34dce"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoCommentMapRepository.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoCommentMapRepository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":32},"end":{"line":15,"column":92}},"16":{"start":{"line":16,"column":19},"end":{"line":16,"column":38}},"17":{"start":{"line":19,"column":8},"end":{"line":30,"column":11}},"18":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"19":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"20":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"21":{"start":{"line":22,"column":20},"end":{"line":22,"column":75}},"22":{"start":{"line":25,"column":42},"end":{"line":25,"column":92}},"23":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"24":{"start":{"line":27,"column":16},"end":{"line":27,"column":67}},"25":{"start":{"line":29,"column":12},"end":{"line":29,"column":41}},"26":{"start":{"line":31,"column":8},"end":{"line":80,"column":11}},"27":{"start":{"line":31,"column":45},"end":{"line":80,"column":10}},"28":{"start":{"line":32,"column":29},"end":{"line":66,"column":13}},"29":{"start":{"line":67,"column":12},"end":{"line":74,"column":13}},"30":{"start":{"line":68,"column":16},"end":{"line":70,"column":17}},"31":{"start":{"line":69,"column":20},"end":{"line":69,"column":75}},"32":{"start":{"line":71,"column":16},"end":{"line":73,"column":19}},"33":{"start":{"line":75,"column":42},"end":{"line":75,"column":99}},"34":{"start":{"line":76,"column":12},"end":{"line":78,"column":13}},"35":{"start":{"line":77,"column":16},"end":{"line":77,"column":67}},"36":{"start":{"line":79,"column":12},"end":{"line":79,"column":41}},"37":{"start":{"line":81,"column":8},"end":{"line":87,"column":11}},"38":{"start":{"line":81,"column":35},"end":{"line":87,"column":10}},"39":{"start":{"line":82,"column":41},"end":{"line":82,"column":130}},"40":{"start":{"line":83,"column":12},"end":{"line":85,"column":13}},"41":{"start":{"line":84,"column":16},"end":{"line":84,"column":66}},"42":{"start":{"line":86,"column":12},"end":{"line":86,"column":40}},"43":{"start":{"line":88,"column":8},"end":{"line":140,"column":11}},"44":{"start":{"line":88,"column":45},"end":{"line":140,"column":10}},"45":{"start":{"line":89,"column":42},"end":{"line":131,"column":14}},"46":{"start":{"line":132,"column":12},"end":{"line":134,"column":13}},"47":{"start":{"line":133,"column":16},"end":{"line":133,"column":67}},"48":{"start":{"line":135,"column":41},"end":{"line":135,"column":65}},"49":{"start":{"line":136,"column":12},"end":{"line":138,"column":13}},"50":{"start":{"line":137,"column":16},"end":{"line":137,"column":66}},"51":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"52":{"start":{"line":141,"column":8},"end":{"line":143,"column":11}},"53":{"start":{"line":141,"column":46},"end":{"line":143,"column":10}},"54":{"start":{"line":142,"column":12},"end":{"line":142,"column":81}},"55":{"start":{"line":144,"column":8},"end":{"line":150,"column":11}},"56":{"start":{"line":144,"column":53},"end":{"line":150,"column":10}},"57":{"start":{"line":145,"column":43},"end":{"line":145,"column":183}},"58":{"start":{"line":146,"column":12},"end":{"line":148,"column":13}},"59":{"start":{"line":147,"column":16},"end":{"line":147,"column":68}},"60":{"start":{"line":149,"column":12},"end":{"line":149,"column":42}},"61":{"start":{"line":151,"column":8},"end":{"line":157,"column":11}},"62":{"start":{"line":151,"column":37},"end":{"line":157,"column":10}},"63":{"start":{"line":152,"column":43},"end":{"line":152,"column":141}},"64":{"start":{"line":153,"column":12},"end":{"line":155,"column":13}},"65":{"start":{"line":154,"column":16},"end":{"line":154,"column":68}},"66":{"start":{"line":156,"column":12},"end":{"line":156,"column":42}},"67":{"start":{"line":158,"column":8},"end":{"line":158,"column":41}},"68":{"start":{"line":161,"column":0},"end":{"line":161,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":30},"end":{"line":159,"column":5}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":23},"end":{"line":19,"column":24}},"loc":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":67},"end":{"line":19,"column":68}},"loc":{"start":{"line":19,"column":80},"end":{"line":30,"column":9}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":33},"end":{"line":31,"column":34}},"loc":{"start":{"line":31,"column":45},"end":{"line":80,"column":10}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":31,"column":77},"end":{"line":31,"column":78}},"loc":{"start":{"line":31,"column":90},"end":{"line":80,"column":9}},"line":31},"13":{"name":"(anonymous_13)","decl":{"start":{"line":81,"column":27},"end":{"line":81,"column":28}},"loc":{"start":{"line":81,"column":35},"end":{"line":87,"column":10}},"line":81},"14":{"name":"(anonymous_14)","decl":{"start":{"line":81,"column":67},"end":{"line":81,"column":68}},"loc":{"start":{"line":81,"column":80},"end":{"line":87,"column":9}},"line":81},"15":{"name":"(anonymous_15)","decl":{"start":{"line":88,"column":37},"end":{"line":88,"column":38}},"loc":{"start":{"line":88,"column":45},"end":{"line":140,"column":10}},"line":88},"16":{"name":"(anonymous_16)","decl":{"start":{"line":88,"column":77},"end":{"line":88,"column":78}},"loc":{"start":{"line":88,"column":90},"end":{"line":140,"column":9}},"line":88},"17":{"name":"(anonymous_17)","decl":{"start":{"line":141,"column":25},"end":{"line":141,"column":26}},"loc":{"start":{"line":141,"column":46},"end":{"line":143,"column":10}},"line":141},"18":{"name":"(anonymous_18)","decl":{"start":{"line":141,"column":78},"end":{"line":141,"column":79}},"loc":{"start":{"line":141,"column":91},"end":{"line":143,"column":9}},"line":141},"19":{"name":"(anonymous_19)","decl":{"start":{"line":144,"column":28},"end":{"line":144,"column":29}},"loc":{"start":{"line":144,"column":53},"end":{"line":150,"column":10}},"line":144},"20":{"name":"(anonymous_20)","decl":{"start":{"line":144,"column":85},"end":{"line":144,"column":86}},"loc":{"start":{"line":144,"column":98},"end":{"line":150,"column":9}},"line":144},"21":{"name":"(anonymous_21)","decl":{"start":{"line":151,"column":29},"end":{"line":151,"column":30}},"loc":{"start":{"line":151,"column":37},"end":{"line":157,"column":10}},"line":151},"22":{"name":"(anonymous_22)","decl":{"start":{"line":151,"column":69},"end":{"line":151,"column":70}},"loc":{"start":{"line":151,"column":82},"end":{"line":157,"column":9}},"line":151}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},{"start":{"line":20,"column":12},"end":{"line":24,"column":13}}],"line":20},"9":{"loc":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"type":"if","locations":[{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},{"start":{"line":21,"column":16},"end":{"line":23,"column":17}}],"line":21},"10":{"loc":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},{"start":{"line":26,"column":12},"end":{"line":28,"column":13}}],"line":26},"11":{"loc":{"start":{"line":67,"column":12},"end":{"line":74,"column":13}},"type":"if","locations":[{"start":{"line":67,"column":12},"end":{"line":74,"column":13}},{"start":{"line":67,"column":12},"end":{"line":74,"column":13}}],"line":67},"12":{"loc":{"start":{"line":68,"column":16},"end":{"line":70,"column":17}},"type":"if","locations":[{"start":{"line":68,"column":16},"end":{"line":70,"column":17}},{"start":{"line":68,"column":16},"end":{"line":70,"column":17}}],"line":68},"13":{"loc":{"start":{"line":76,"column":12},"end":{"line":78,"column":13}},"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":78,"column":13}},{"start":{"line":76,"column":12},"end":{"line":78,"column":13}}],"line":76},"14":{"loc":{"start":{"line":83,"column":12},"end":{"line":85,"column":13}},"type":"if","locations":[{"start":{"line":83,"column":12},"end":{"line":85,"column":13}},{"start":{"line":83,"column":12},"end":{"line":85,"column":13}}],"line":83},"15":{"loc":{"start":{"line":132,"column":12},"end":{"line":134,"column":13}},"type":"if","locations":[{"start":{"line":132,"column":12},"end":{"line":134,"column":13}},{"start":{"line":132,"column":12},"end":{"line":134,"column":13}}],"line":132},"16":{"loc":{"start":{"line":136,"column":12},"end":{"line":138,"column":13}},"type":"if","locations":[{"start":{"line":136,"column":12},"end":{"line":138,"column":13}},{"start":{"line":136,"column":12},"end":{"line":138,"column":13}}],"line":136},"17":{"loc":{"start":{"line":146,"column":12},"end":{"line":148,"column":13}},"type":"if","locations":[{"start":{"line":146,"column":12},"end":{"line":148,"column":13}},{"start":{"line":146,"column":12},"end":{"line":148,"column":13}}],"line":146},"18":{"loc":{"start":{"line":153,"column":12},"end":{"line":155,"column":13}},"type":"if","locations":[{"start":{"line":153,"column":12},"end":{"line":155,"column":13}},{"start":{"line":153,"column":12},"end":{"line":155,"column":13}}],"line":153}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoCommentMapRepository.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoCommentMapRepository.ts"],"names":[],"mappings":"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","sourcesContent":["import type VideoCommentMap from '../../inners/models/entities/VideoCommentMap'\r\nimport type OneDatastore from '../datastores/OneDatastore'\r\nimport VideoCommentMapSchema from '../schemas/VideoCommentMapSchema'\r\nimport type VideoCommentMapAggregate from '../../inners/models/aggregates/VideoCommentMapAggregate'\r\nimport { Types } from 'mongoose'\r\n\r\nexport default class VideoCommentMapRepository {\r\n  oneDatastore: OneDatastore\r\n\r\n  constructor (datastoreOne: OneDatastore) {\r\n    this.oneDatastore = datastoreOne\r\n  }\r\n\r\n  readAll = async (search?: any): Promise<VideoCommentMap[]> => {\r\n    if (search !== undefined) {\r\n      if (search._id !== null) {\r\n        search._id = new Types.ObjectId(search._id)\r\n      }\r\n    }\r\n    const foundVideoCommentMaps: VideoCommentMap[] | null = await VideoCommentMapSchema.find(search)\r\n    if (foundVideoCommentMaps === null) {\r\n      throw new Error('Found videoCommentMaps is null.')\r\n    }\r\n    return foundVideoCommentMaps\r\n  }\r\n\r\n  readAllAggregated = async (search?: any): Promise<VideoCommentMapAggregate[]> => {\r\n    const pipeline: any[] = [\r\n      {\r\n        $lookup: {\r\n          from: 'videos',\r\n          localField: 'videoId',\r\n          foreignField: '_id',\r\n          as: 'video'\r\n        }\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: '$video'\r\n        }\r\n      },\r\n      {\r\n        $lookup: {\r\n          from: 'comments',\r\n          localField: 'commentId',\r\n          foreignField: '_id',\r\n          as: 'comment'\r\n        }\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: '$comment'\r\n        }\r\n      },\r\n      {\r\n        $project: {\r\n          _id: 1,\r\n          video: 1,\r\n          comment: 1\r\n        }\r\n      }\r\n    ]\r\n    if (search !== undefined) {\r\n      if (search._id !== null) {\r\n        search._id = new Types.ObjectId(search._id)\r\n      }\r\n      pipeline.push({\r\n        $match: search\r\n      })\r\n    }\r\n    const foundVideoCommentMaps: VideoCommentMapAggregate[] | null = await VideoCommentMapSchema.aggregate(pipeline)\r\n    if (foundVideoCommentMaps === null) {\r\n      throw new Error('Found videoCommentMaps is null.')\r\n    }\r\n    return foundVideoCommentMaps\r\n  }\r\n\r\n  readOneById = async (id: string): Promise<VideoCommentMap> => {\r\n    const foundVideoCommentMap: VideoCommentMap | null = await VideoCommentMapSchema.findOne({ _id: new Types.ObjectId(id) })\r\n    if (foundVideoCommentMap === null) {\r\n      throw new Error('Found videoCommentMap is null.')\r\n    }\r\n    return foundVideoCommentMap\r\n  }\r\n\r\n  readOneByIdAggregated = async (id: string): Promise<VideoCommentMapAggregate> => {\r\n    const foundVideoCommentMaps: VideoCommentMapAggregate[] | null = await VideoCommentMapSchema.aggregate([\r\n      {\r\n        $match: {\r\n          _id: new Types.ObjectId(id)\r\n        }\r\n      },\r\n      {\r\n        $lookup: {\r\n          from: 'videos',\r\n          localField: 'videoId',\r\n          foreignField: '_id',\r\n          as: 'video'\r\n        }\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: '$video'\r\n        }\r\n      },\r\n      {\r\n        $lookup: {\r\n          from: 'comments',\r\n          localField: 'commentId',\r\n          foreignField: '_id',\r\n          as: 'comment'\r\n        }\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: '$comment'\r\n        }\r\n      },\r\n      {\r\n        $project: {\r\n          _id: 1,\r\n          video: 1,\r\n          comment: 1\r\n        }\r\n      },\r\n      {\r\n        $limit: 1\r\n      }\r\n    ])\r\n    if (foundVideoCommentMaps === null) {\r\n      throw new Error('Found videoCommentMaps is null.')\r\n    }\r\n    const foundVideoCommentMap: VideoCommentMapAggregate | null = foundVideoCommentMaps[0]\r\n    if (foundVideoCommentMap === null) {\r\n      throw new Error('Found videoCommentMap is null.')\r\n    }\r\n    return foundVideoCommentMap\r\n  }\r\n\r\n  createOne = async (videoCommentMap: VideoCommentMap): Promise<VideoCommentMap> => {\r\n    return await VideoCommentMapSchema.create(videoCommentMap)\r\n  }\r\n\r\n  patchOneById = async (id: string, videoCommentMap: VideoCommentMap): Promise<VideoCommentMap> => {\r\n    const patchedVideoCommentMap: VideoCommentMap | null = await VideoCommentMapSchema.findOneAndUpdate({ _id: new Types.ObjectId(id) }, { $set: videoCommentMap }, { new: true })\r\n    if (patchedVideoCommentMap === null) {\r\n      throw new Error('Patched videoCommentMap is null.')\r\n    }\r\n    return patchedVideoCommentMap\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<VideoCommentMap> => {\r\n    const deletedVideoCommentMap: VideoCommentMap | null = await VideoCommentMapSchema.findOneAndDelete({ _id: new Types.ObjectId(id) })\r\n    if (deletedVideoCommentMap === null) {\r\n      throw new Error('Deleted videoCommentMap is null.')\r\n    }\r\n    return deletedVideoCommentMap\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f09441b8cbc43f9b67a84580c34f2926e3b73dfc"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoCommentMapSchema.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoCommentMapSchema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":4,"column":30},"end":{"line":13,"column":2}},"3":{"start":{"line":14,"column":0},"end":{"line":14,"column":85}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoCommentMapSchema.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoCommentMapSchema.ts"],"names":[],"mappings":";;AAAA,uCAAwC;AAGxC,MAAM,qBAAqB,GAAG,IAAI,iBAAM,CAAkB;IACxD,OAAO,EAAE;QACP,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ;KAC5B;IACD,SAAS,EAAE;QACT,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ;KAC5B;CACF,EACD;IACE,UAAU,EAAE,KAAK;CAClB,CAAC,CAAA;AAEF,kBAAe,IAAA,gBAAK,EAAkB,oBAAoB,EAAE,qBAAqB,CAAC,CAAA","sourcesContent":["import { model, Schema } from 'mongoose'\r\nimport type VideoCommentMap from '../../inners/models/entities/VideoCommentMap'\r\n\r\nconst videoCommentMapSchema = new Schema<VideoCommentMap>({\r\n  videoId: {\r\n    type: Schema.Types.ObjectId\r\n  },\r\n  commentId: {\r\n    type: Schema.Types.ObjectId\r\n  }\r\n},\r\n{\r\n  versionKey: false\r\n})\r\n\r\nexport default model<VideoCommentMap>('video_comment_maps', videoCommentMapSchema)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c2402fdc98889882b083899087e08fc2a83a03e5"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoCommentMapManagement.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoCommentMapManagement.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":78}},"16":{"start":{"line":18,"column":8},"end":{"line":27,"column":11}},"17":{"start":{"line":18,"column":49},"end":{"line":27,"column":10}},"18":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"19":{"start":{"line":21,"column":16},"end":{"line":21,"column":103}},"20":{"start":{"line":24,"column":16},"end":{"line":24,"column":93}},"21":{"start":{"line":26,"column":12},"end":{"line":26,"column":105}},"22":{"start":{"line":28,"column":8},"end":{"line":37,"column":11}},"23":{"start":{"line":28,"column":49},"end":{"line":37,"column":10}},"24":{"start":{"line":30,"column":12},"end":{"line":35,"column":13}},"25":{"start":{"line":31,"column":16},"end":{"line":31,"column":102}},"26":{"start":{"line":34,"column":16},"end":{"line":34,"column":92}},"27":{"start":{"line":36,"column":12},"end":{"line":36,"column":110}},"28":{"start":{"line":38,"column":8},"end":{"line":41,"column":11}},"29":{"start":{"line":38,"column":35},"end":{"line":41,"column":10}},"30":{"start":{"line":39,"column":43},"end":{"line":39,"column":95}},"31":{"start":{"line":40,"column":12},"end":{"line":40,"column":108}},"32":{"start":{"line":42,"column":8},"end":{"line":45,"column":11}},"33":{"start":{"line":42,"column":42},"end":{"line":45,"column":10}},"34":{"start":{"line":43,"column":43},"end":{"line":43,"column":102}},"35":{"start":{"line":44,"column":12},"end":{"line":44,"column":113}},"36":{"start":{"line":46,"column":8},"end":{"line":49,"column":11}},"37":{"start":{"line":46,"column":37},"end":{"line":49,"column":10}},"38":{"start":{"line":47,"column":43},"end":{"line":47,"column":97}},"39":{"start":{"line":48,"column":12},"end":{"line":48,"column":114}},"40":{"start":{"line":50,"column":8},"end":{"line":50,"column":67}},"41":{"start":{"line":53,"column":0},"end":{"line":53,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":43},"end":{"line":51,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":49},"end":{"line":27,"column":10}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":18,"column":81},"end":{"line":18,"column":82}},"loc":{"start":{"line":18,"column":94},"end":{"line":27,"column":9}},"line":18},"11":{"name":"(anonymous_11)","decl":{"start":{"line":28,"column":27},"end":{"line":28,"column":28}},"loc":{"start":{"line":28,"column":49},"end":{"line":37,"column":10}},"line":28},"12":{"name":"(anonymous_12)","decl":{"start":{"line":28,"column":81},"end":{"line":28,"column":82}},"loc":{"start":{"line":28,"column":94},"end":{"line":37,"column":9}},"line":28},"13":{"name":"(anonymous_13)","decl":{"start":{"line":38,"column":25},"end":{"line":38,"column":26}},"loc":{"start":{"line":38,"column":35},"end":{"line":41,"column":10}},"line":38},"14":{"name":"(anonymous_14)","decl":{"start":{"line":38,"column":67},"end":{"line":38,"column":68}},"loc":{"start":{"line":38,"column":80},"end":{"line":41,"column":9}},"line":38},"15":{"name":"(anonymous_15)","decl":{"start":{"line":42,"column":28},"end":{"line":42,"column":29}},"loc":{"start":{"line":42,"column":42},"end":{"line":45,"column":10}},"line":42},"16":{"name":"(anonymous_16)","decl":{"start":{"line":42,"column":74},"end":{"line":42,"column":75}},"loc":{"start":{"line":42,"column":87},"end":{"line":45,"column":9}},"line":42},"17":{"name":"(anonymous_17)","decl":{"start":{"line":46,"column":29},"end":{"line":46,"column":30}},"loc":{"start":{"line":46,"column":37},"end":{"line":49,"column":10}},"line":46},"18":{"name":"(anonymous_18)","decl":{"start":{"line":46,"column":69},"end":{"line":46,"column":70}},"loc":{"start":{"line":46,"column":82},"end":{"line":49,"column":9}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},{"start":{"line":20,"column":12},"end":{"line":25,"column":13}}],"line":20},"9":{"loc":{"start":{"line":30,"column":12},"end":{"line":35,"column":13}},"type":"if","locations":[{"start":{"line":30,"column":12},"end":{"line":35,"column":13}},{"start":{"line":30,"column":12},"end":{"line":35,"column":13}}],"line":30}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":1,"41":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoCommentMapManagement.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoCommentMapManagement.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,+EAAsD;AAItD,MAAqB,yBAAyB;IAG5C,YAAa,yBAAoD;QAIjE,YAAO,GAAG,CAAO,YAAsB,EAAE,MAAY,EAAmE,EAAE;YACxH,IAAI,qBAAqE,CAAA;YACzE,IAAI,YAAY,KAAK,IAAI,EAAE;gBACzB,qBAAqB,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAA;aACvF;iBAAM;gBACL,qBAAqB,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAA;aAC7E;YAED,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,mCAAmC,EACnC,qBAAqB,CACtB,CAAA;QACH,CAAC,CAAA,CAAA;QAED,gBAAW,GAAG,CAAO,EAAU,EAAE,YAAsB,EAA+D,EAAE;YACtH,IAAI,oBAAgE,CAAA;YACpE,IAAI,YAAY,KAAK,IAAI,EAAE;gBACzB,oBAAoB,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAA;aACtF;iBAAM;gBACL,oBAAoB,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;aAC5E;YACD,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,yCAAyC,EACzC,oBAAoB,CACrB,CAAA;QACH,CAAC,CAAA,CAAA;QAED,cAAS,GAAG,CAAO,IAAS,EAAoC,EAAE;YAChE,MAAM,sBAAsB,GAAoB,MAAM,IAAI,CAAC,yBAAyB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;YACpG,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,qCAAqC,EACrC,sBAAsB,CACvB,CAAA;QACH,CAAC,CAAA,CAAA;QAED,iBAAY,GAAG,CAAO,EAAU,EAAE,IAAS,EAAoC,EAAE;YAC/E,MAAM,sBAAsB,GAAoB,MAAM,IAAI,CAAC,yBAAyB,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,CAAA;YAC3G,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,0CAA0C,EAC1C,sBAAsB,CACvB,CAAA;QACH,CAAC,CAAA,CAAA;QAED,kBAAa,GAAG,CAAO,EAAU,EAAqC,EAAE;YACtE,MAAM,sBAAsB,GAAoB,MAAM,IAAI,CAAC,yBAAyB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAA;YACtG,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,2CAA2C,EAC3C,sBAAsB,CACvB,CAAA;QACH,CAAC,CAAA,CAAA;QAzDC,IAAI,CAAC,yBAAyB,GAAG,yBAAyB,CAAA;IAC5D,CAAC;CAyDF;AA9DD,4CA8DC","sourcesContent":["import type VideoCommentMapRepository from '../../../outers/repositories/VideoCommentMapRepository'\r\nimport Result from '../../models/value_objects/Result'\r\nimport type VideoCommentMap from '../../models/entities/VideoCommentMap'\r\nimport type VideoCommentMapAggregate from '../../models/aggregates/VideoCommentMapAggregate'\r\n\r\nexport default class VideoCommentMapManagement {\r\n  videoCommentMapRepository: VideoCommentMapRepository\r\n\r\n  constructor (videoCommentMapRepository: VideoCommentMapRepository) {\r\n    this.videoCommentMapRepository = videoCommentMapRepository\r\n  }\r\n\r\n  readAll = async (isAggregated?: boolean, search?: any): Promise<Result<VideoCommentMap[] | VideoCommentMapAggregate[]>> => {\r\n    let foundVideoCommentMaps: VideoCommentMap[] | VideoCommentMapAggregate[]\r\n    if (isAggregated === true) {\r\n      foundVideoCommentMaps = await this.videoCommentMapRepository.readAllAggregated(search)\r\n    } else {\r\n      foundVideoCommentMaps = await this.videoCommentMapRepository.readAll(search)\r\n    }\r\n\r\n    return new Result<VideoCommentMap[] | VideoCommentMapAggregate[]>(\r\n      200,\r\n      'VideoCommentMap read all succeed.',\r\n      foundVideoCommentMaps\r\n    )\r\n  }\r\n\r\n  readOneById = async (id: string, isAggregated?: boolean): Promise<Result<VideoCommentMap | VideoCommentMapAggregate>> => {\r\n    let foundVideoCommentMap: VideoCommentMap | VideoCommentMapAggregate\r\n    if (isAggregated === true) {\r\n      foundVideoCommentMap = await this.videoCommentMapRepository.readOneByIdAggregated(id)\r\n    } else {\r\n      foundVideoCommentMap = await this.videoCommentMapRepository.readOneById(id)\r\n    }\r\n    return new Result<VideoCommentMap | VideoCommentMapAggregate>(\r\n      200,\r\n      'VideoCommentMap read one by id succeed.',\r\n      foundVideoCommentMap\r\n    )\r\n  }\r\n\r\n  createOne = async (item: any): Promise<Result<VideoCommentMap>> => {\r\n    const createdVideoCommentMap: VideoCommentMap = await this.videoCommentMapRepository.createOne(item)\r\n    return new Result<VideoCommentMap>(\r\n      201,\r\n      'VideoCommentMap create one succeed.',\r\n      createdVideoCommentMap\r\n    )\r\n  }\r\n\r\n  patchOneById = async (id: string, item: any): Promise<Result<VideoCommentMap>> => {\r\n    const patchedVideoCommentMap: VideoCommentMap = await this.videoCommentMapRepository.patchOneById(id, item)\r\n    return new Result<VideoCommentMap >(\r\n      200,\r\n      'VideoCommentMap patch one by id succeed.',\r\n      patchedVideoCommentMap\r\n    )\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<Result<VideoCommentMap >> => {\r\n    const deletedVideoCommentMap: VideoCommentMap = await this.videoCommentMapRepository.deleteOneById(id)\r\n    return new Result<VideoCommentMap>(\r\n      200,\r\n      'VideoCommentMap delete one by id succeed.',\r\n      deletedVideoCommentMap\r\n    )\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"45a350ebd98168a4d542559362402fa39596cb6e"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoCommentControllerRest.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoCommentControllerRest.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":11,"column":10}},"2":{"start":{"line":6,"column":12},"end":{"line":6,"column":46}},"3":{"start":{"line":7,"column":12},"end":{"line":7,"column":54}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":49}},"5":{"start":{"line":9,"column":12},"end":{"line":9,"column":57}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":59}},"7":{"start":{"line":12,"column":8},"end":{"line":28,"column":10}},"8":{"start":{"line":13,"column":45},"end":{"line":13,"column":58}},"9":{"start":{"line":14,"column":39},"end":{"line":14,"column":60}},"10":{"start":{"line":15,"column":33},"end":{"line":15,"column":114}},"11":{"start":{"line":16,"column":12},"end":{"line":27,"column":15}},"12":{"start":{"line":19,"column":16},"end":{"line":19,"column":60}},"13":{"start":{"line":22,"column":16},"end":{"line":26,"column":19}},"14":{"start":{"line":29,"column":8},"end":{"line":45,"column":10}},"15":{"start":{"line":30,"column":27},"end":{"line":30,"column":41}},"16":{"start":{"line":31,"column":37},"end":{"line":31,"column":50}},"17":{"start":{"line":32,"column":39},"end":{"line":32,"column":60}},"18":{"start":{"line":33,"column":12},"end":{"line":44,"column":15}},"19":{"start":{"line":36,"column":16},"end":{"line":36,"column":60}},"20":{"start":{"line":39,"column":16},"end":{"line":43,"column":19}},"21":{"start":{"line":46,"column":8},"end":{"line":59,"column":10}},"22":{"start":{"line":47,"column":12},"end":{"line":58,"column":15}},"23":{"start":{"line":50,"column":16},"end":{"line":50,"column":60}},"24":{"start":{"line":53,"column":16},"end":{"line":57,"column":19}},"25":{"start":{"line":60,"column":8},"end":{"line":74,"column":10}},"26":{"start":{"line":61,"column":27},"end":{"line":61,"column":41}},"27":{"start":{"line":62,"column":12},"end":{"line":73,"column":15}},"28":{"start":{"line":65,"column":16},"end":{"line":65,"column":60}},"29":{"start":{"line":68,"column":16},"end":{"line":72,"column":19}},"30":{"start":{"line":75,"column":8},"end":{"line":89,"column":10}},"31":{"start":{"line":76,"column":27},"end":{"line":76,"column":41}},"32":{"start":{"line":77,"column":12},"end":{"line":88,"column":15}},"33":{"start":{"line":80,"column":16},"end":{"line":80,"column":60}},"34":{"start":{"line":83,"column":16},"end":{"line":87,"column":19}},"35":{"start":{"line":90,"column":8},"end":{"line":90,"column":29}},"36":{"start":{"line":91,"column":8},"end":{"line":91,"column":67}},"37":{"start":{"line":94,"column":0},"end":{"line":94,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":51},"end":{"line":92,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":30},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":36},"end":{"line":11,"column":9}},"line":5},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":23},"end":{"line":12,"column":24}},"loc":{"start":{"line":12,"column":46},"end":{"line":28,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":22},"end":{"line":18,"column":23}},"loc":{"start":{"line":18,"column":34},"end":{"line":20,"column":13}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":23},"end":{"line":21,"column":24}},"loc":{"start":{"line":21,"column":34},"end":{"line":27,"column":13}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":29,"column":27},"end":{"line":29,"column":28}},"loc":{"start":{"line":29,"column":50},"end":{"line":45,"column":9}},"line":29},"6":{"name":"(anonymous_6)","decl":{"start":{"line":35,"column":22},"end":{"line":35,"column":23}},"loc":{"start":{"line":35,"column":34},"end":{"line":37,"column":13}},"line":35},"7":{"name":"(anonymous_7)","decl":{"start":{"line":38,"column":23},"end":{"line":38,"column":24}},"loc":{"start":{"line":38,"column":34},"end":{"line":44,"column":13}},"line":38},"8":{"name":"(anonymous_8)","decl":{"start":{"line":46,"column":25},"end":{"line":46,"column":26}},"loc":{"start":{"line":46,"column":48},"end":{"line":59,"column":9}},"line":46},"9":{"name":"(anonymous_9)","decl":{"start":{"line":49,"column":22},"end":{"line":49,"column":23}},"loc":{"start":{"line":49,"column":34},"end":{"line":51,"column":13}},"line":49},"10":{"name":"(anonymous_10)","decl":{"start":{"line":52,"column":23},"end":{"line":52,"column":24}},"loc":{"start":{"line":52,"column":34},"end":{"line":58,"column":13}},"line":52},"11":{"name":"(anonymous_11)","decl":{"start":{"line":60,"column":28},"end":{"line":60,"column":29}},"loc":{"start":{"line":60,"column":51},"end":{"line":74,"column":9}},"line":60},"12":{"name":"(anonymous_12)","decl":{"start":{"line":64,"column":22},"end":{"line":64,"column":23}},"loc":{"start":{"line":64,"column":34},"end":{"line":66,"column":13}},"line":64},"13":{"name":"(anonymous_13)","decl":{"start":{"line":67,"column":23},"end":{"line":67,"column":24}},"loc":{"start":{"line":67,"column":34},"end":{"line":73,"column":13}},"line":67},"14":{"name":"(anonymous_14)","decl":{"start":{"line":75,"column":29},"end":{"line":75,"column":30}},"loc":{"start":{"line":75,"column":52},"end":{"line":89,"column":9}},"line":75},"15":{"name":"(anonymous_15)","decl":{"start":{"line":79,"column":22},"end":{"line":79,"column":23}},"loc":{"start":{"line":79,"column":34},"end":{"line":81,"column":13}},"line":79},"16":{"name":"(anonymous_16)","decl":{"start":{"line":82,"column":23},"end":{"line":82,"column":24}},"loc":{"start":{"line":82,"column":34},"end":{"line":88,"column":13}},"line":82}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":33},"end":{"line":15,"column":114}},"type":"cond-expr","locations":[{"start":{"line":15,"column":56},"end":{"line":15,"column":102}},{"start":{"line":15,"column":105},"end":{"line":15,"column":114}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":1,"36":1,"37":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoCommentControllerRest.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoCommentControllerRest.ts"],"names":[],"mappings":"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","sourcesContent":["import { type Request, type Response, type Router } from 'express'\r\n\r\nimport type VideoCommentMap from '../../../inners/models/entities/VideoCommentMap'\r\nimport type Result from '../../../inners/models/value_objects/Result'\r\nimport type VideoCommentMapManagement from '../../../inners/use_cases/managements/VideoCommentMapManagement'\r\nimport type VideoCommentMapAggregate from '../../../inners/models/aggregates/VideoCommentMapAggregate'\r\n\r\nexport default class VideoCommentMapController {\r\n  router: Router\r\n  videoCommentMapManagement: VideoCommentMapManagement\r\n\r\n  constructor (router: Router, videoCommentMapManagement: VideoCommentMapManagement) {\r\n    this.router = router\r\n    this.videoCommentMapManagement = videoCommentMapManagement\r\n  }\r\n\r\n  registerRoutes = (): void => {\r\n    this.router.get('', this.readAll)\r\n    this.router.get('/:id', this.readOneById)\r\n    this.router.post('', this.createOne)\r\n    this.router.patch('/:id', this.patchOneById)\r\n    this.router.delete('/:id', this.deleteOneById)\r\n  }\r\n\r\n  readAll = (request: Request, response: Response): void => {\r\n    const { isAggregated, search } = request.query\r\n    const parsedIsAggregated: boolean = Boolean(isAggregated)\r\n    const parsedSearch: any | undefined = search !== undefined ? JSON.parse(decodeURIComponent(String(search))) : undefined\r\n    this.videoCommentMapManagement\r\n      .readAll(parsedIsAggregated, parsedSearch)\r\n      .then((result: Result<VideoCommentMap[] | VideoCommentMapAggregate[]>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  readOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    const { isAggregated } = request.query\r\n    const parsedIsAggregated: boolean = Boolean(isAggregated)\r\n    this.videoCommentMapManagement\r\n      .readOneById(id, parsedIsAggregated)\r\n      .then((result: Result<VideoCommentMap | VideoCommentMapAggregate>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  createOne = (request: Request, response: Response): void => {\r\n    this.videoCommentMapManagement\r\n      .createOne(request.body)\r\n      .then((result: Result<VideoCommentMap>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  patchOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.videoCommentMapManagement\r\n      .patchOneById(id, request.body)\r\n      .then((result: Result<VideoCommentMap>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  deleteOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.videoCommentMapManagement\r\n      .deleteOneById(id)\r\n      .then((result: Result<VideoCommentMap>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0fa733dee29ce6d4428e501733b23135a8b767c4"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoProductMapControllerRest.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoProductMapControllerRest.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":11,"column":10}},"2":{"start":{"line":6,"column":12},"end":{"line":6,"column":46}},"3":{"start":{"line":7,"column":12},"end":{"line":7,"column":54}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":49}},"5":{"start":{"line":9,"column":12},"end":{"line":9,"column":57}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":59}},"7":{"start":{"line":12,"column":8},"end":{"line":28,"column":10}},"8":{"start":{"line":13,"column":45},"end":{"line":13,"column":58}},"9":{"start":{"line":14,"column":39},"end":{"line":14,"column":60}},"10":{"start":{"line":15,"column":33},"end":{"line":15,"column":114}},"11":{"start":{"line":16,"column":12},"end":{"line":27,"column":15}},"12":{"start":{"line":19,"column":16},"end":{"line":19,"column":60}},"13":{"start":{"line":22,"column":16},"end":{"line":26,"column":19}},"14":{"start":{"line":29,"column":8},"end":{"line":45,"column":10}},"15":{"start":{"line":30,"column":27},"end":{"line":30,"column":41}},"16":{"start":{"line":31,"column":37},"end":{"line":31,"column":50}},"17":{"start":{"line":32,"column":39},"end":{"line":32,"column":60}},"18":{"start":{"line":33,"column":12},"end":{"line":44,"column":15}},"19":{"start":{"line":36,"column":16},"end":{"line":36,"column":60}},"20":{"start":{"line":39,"column":16},"end":{"line":43,"column":19}},"21":{"start":{"line":46,"column":8},"end":{"line":60,"column":10}},"22":{"start":{"line":47,"column":27},"end":{"line":47,"column":41}},"23":{"start":{"line":48,"column":12},"end":{"line":59,"column":15}},"24":{"start":{"line":51,"column":16},"end":{"line":51,"column":60}},"25":{"start":{"line":54,"column":16},"end":{"line":58,"column":19}},"26":{"start":{"line":61,"column":8},"end":{"line":74,"column":10}},"27":{"start":{"line":62,"column":12},"end":{"line":73,"column":15}},"28":{"start":{"line":65,"column":16},"end":{"line":65,"column":60}},"29":{"start":{"line":68,"column":16},"end":{"line":72,"column":19}},"30":{"start":{"line":75,"column":8},"end":{"line":89,"column":10}},"31":{"start":{"line":76,"column":27},"end":{"line":76,"column":41}},"32":{"start":{"line":77,"column":12},"end":{"line":88,"column":15}},"33":{"start":{"line":80,"column":16},"end":{"line":80,"column":60}},"34":{"start":{"line":83,"column":16},"end":{"line":87,"column":19}},"35":{"start":{"line":90,"column":8},"end":{"line":104,"column":10}},"36":{"start":{"line":91,"column":27},"end":{"line":91,"column":41}},"37":{"start":{"line":92,"column":12},"end":{"line":103,"column":15}},"38":{"start":{"line":95,"column":16},"end":{"line":95,"column":60}},"39":{"start":{"line":98,"column":16},"end":{"line":102,"column":19}},"40":{"start":{"line":105,"column":8},"end":{"line":105,"column":29}},"41":{"start":{"line":106,"column":8},"end":{"line":106,"column":67}},"42":{"start":{"line":109,"column":0},"end":{"line":109,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":51},"end":{"line":107,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":30},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":36},"end":{"line":11,"column":9}},"line":5},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":23},"end":{"line":12,"column":24}},"loc":{"start":{"line":12,"column":46},"end":{"line":28,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":22},"end":{"line":18,"column":23}},"loc":{"start":{"line":18,"column":34},"end":{"line":20,"column":13}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":23},"end":{"line":21,"column":24}},"loc":{"start":{"line":21,"column":34},"end":{"line":27,"column":13}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":29,"column":27},"end":{"line":29,"column":28}},"loc":{"start":{"line":29,"column":50},"end":{"line":45,"column":9}},"line":29},"6":{"name":"(anonymous_6)","decl":{"start":{"line":35,"column":22},"end":{"line":35,"column":23}},"loc":{"start":{"line":35,"column":34},"end":{"line":37,"column":13}},"line":35},"7":{"name":"(anonymous_7)","decl":{"start":{"line":38,"column":23},"end":{"line":38,"column":24}},"loc":{"start":{"line":38,"column":34},"end":{"line":44,"column":13}},"line":38},"8":{"name":"(anonymous_8)","decl":{"start":{"line":46,"column":37},"end":{"line":46,"column":38}},"loc":{"start":{"line":46,"column":60},"end":{"line":60,"column":9}},"line":46},"9":{"name":"(anonymous_9)","decl":{"start":{"line":50,"column":22},"end":{"line":50,"column":23}},"loc":{"start":{"line":50,"column":34},"end":{"line":52,"column":13}},"line":50},"10":{"name":"(anonymous_10)","decl":{"start":{"line":53,"column":23},"end":{"line":53,"column":24}},"loc":{"start":{"line":53,"column":34},"end":{"line":59,"column":13}},"line":53},"11":{"name":"(anonymous_11)","decl":{"start":{"line":61,"column":25},"end":{"line":61,"column":26}},"loc":{"start":{"line":61,"column":48},"end":{"line":74,"column":9}},"line":61},"12":{"name":"(anonymous_12)","decl":{"start":{"line":64,"column":22},"end":{"line":64,"column":23}},"loc":{"start":{"line":64,"column":34},"end":{"line":66,"column":13}},"line":64},"13":{"name":"(anonymous_13)","decl":{"start":{"line":67,"column":23},"end":{"line":67,"column":24}},"loc":{"start":{"line":67,"column":34},"end":{"line":73,"column":13}},"line":67},"14":{"name":"(anonymous_14)","decl":{"start":{"line":75,"column":28},"end":{"line":75,"column":29}},"loc":{"start":{"line":75,"column":51},"end":{"line":89,"column":9}},"line":75},"15":{"name":"(anonymous_15)","decl":{"start":{"line":79,"column":22},"end":{"line":79,"column":23}},"loc":{"start":{"line":79,"column":34},"end":{"line":81,"column":13}},"line":79},"16":{"name":"(anonymous_16)","decl":{"start":{"line":82,"column":23},"end":{"line":82,"column":24}},"loc":{"start":{"line":82,"column":34},"end":{"line":88,"column":13}},"line":82},"17":{"name":"(anonymous_17)","decl":{"start":{"line":90,"column":29},"end":{"line":90,"column":30}},"loc":{"start":{"line":90,"column":52},"end":{"line":104,"column":9}},"line":90},"18":{"name":"(anonymous_18)","decl":{"start":{"line":94,"column":22},"end":{"line":94,"column":23}},"loc":{"start":{"line":94,"column":34},"end":{"line":96,"column":13}},"line":94},"19":{"name":"(anonymous_19)","decl":{"start":{"line":97,"column":23},"end":{"line":97,"column":24}},"loc":{"start":{"line":97,"column":34},"end":{"line":103,"column":13}},"line":97}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":33},"end":{"line":15,"column":114}},"type":"cond-expr","locations":[{"start":{"line":15,"column":56},"end":{"line":15,"column":102}},{"start":{"line":15,"column":105},"end":{"line":15,"column":114}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":1,"41":1,"42":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoProductMapControllerRest.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\VideoProductMapControllerRest.ts"],"names":[],"mappings":";;AAOA,MAAqB,6BAA6B;IAIhD,YAAa,MAAc,EAAE,yBAAoD;QAKjF,mBAAc,GAAG,GAAS,EAAE;YAC1B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;YACjC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAA;YACzC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;YACpC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAA;YAC5C,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,CAAA;QAChD,CAAC,CAAA;QAED,YAAO,GAAG,CAAC,OAAgB,EAAE,QAAkB,EAAQ,EAAE;YACvD,MAAM,EAAE,YAAY,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC,KAAK,CAAA;YAC9C,MAAM,kBAAkB,GAAY,OAAO,CAAC,YAAY,CAAC,CAAA;YACzD,MAAM,YAAY,GAAoB,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAA;YACvH,IAAI,CAAC,yBAAyB;iBAC3B,OAAO,CAAC,kBAAkB,EAAE,YAAY,CAAC;iBACzC,IAAI,CAAC,CAAC,MAA8D,EAAE,EAAE;gBACvE,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;YAC7C,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAY,EAAE,EAAE;gBACtB,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACxB,MAAM,EAAE,GAAG;oBACX,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,IAAI,EAAE,IAAI;iBACX,CAAC,CAAA;YACJ,CAAC,CAAC,CAAA;QACN,CAAC,CAAA;QAED,gBAAW,GAAG,CAAC,OAAgB,EAAE,QAAkB,EAAQ,EAAE;YAC3D,MAAM,EAAE,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,CAAA;YAC7B,MAAM,EAAE,YAAY,EAAE,GAAG,OAAO,CAAC,KAAK,CAAA;YACtC,MAAM,kBAAkB,GAAY,OAAO,CAAC,YAAY,CAAC,CAAA;YACzD,IAAI,CAAC,yBAAyB;iBAC3B,WAAW,CAAC,EAAE,EAAE,kBAAkB,CAAC;iBACnC,IAAI,CAAC,CAAC,MAA0D,EAAE,EAAE;gBACnE,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;YAC7C,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAY,EAAE,EAAE;gBACtB,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACxB,MAAM,EAAE,GAAG;oBACX,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,IAAI,EAAE,IAAI;iBACX,CAAC,CAAA;YACJ,CAAC,CAAC,CAAA;QACN,CAAC,CAAA;QAED,0BAAqB,GAAG,CAAC,OAAgB,EAAE,QAAkB,EAAQ,EAAE;YACrE,MAAM,EAAE,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,CAAA;YAC7B,IAAI,CAAC,yBAAyB;iBAC3B,qBAAqB,CAAC,EAAE,CAAC;iBACzB,IAAI,CAAC,CAAC,MAAwC,EAAE,EAAE;gBACjD,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;YAC7C,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAY,EAAE,EAAE;gBACtB,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACxB,MAAM,EAAE,GAAG;oBACX,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,IAAI,EAAE,IAAI;iBACX,CAAC,CAAA;YACJ,CAAC,CAAC,CAAA;QACN,CAAC,CAAA;QAED,cAAS,GAAG,CAAC,OAAgB,EAAE,QAAkB,EAAQ,EAAE;YACzD,IAAI,CAAC,yBAAyB;iBAC3B,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC;iBACvB,IAAI,CAAC,CAAC,MAA+B,EAAE,EAAE;gBACxC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;YAC7C,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAY,EAAE,EAAE;gBACtB,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACxB,MAAM,EAAE,GAAG;oBACX,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,IAAI,EAAE,IAAI;iBACX,CAAC,CAAA;YACJ,CAAC,CAAC,CAAA;QACN,CAAC,CAAA;QAED,iBAAY,GAAG,CAAC,OAAgB,EAAE,QAAkB,EAAQ,EAAE;YAC5D,MAAM,EAAE,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,CAAA;YAC7B,IAAI,CAAC,yBAAyB;iBAC3B,YAAY,CAAC,EAAE,EAAE,OAAO,CAAC,IAAI,CAAC;iBAC9B,IAAI,CAAC,CAAC,MAA+B,EAAE,EAAE;gBACxC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;YAC7C,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAY,EAAE,EAAE;gBACtB,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACxB,MAAM,EAAE,GAAG;oBACX,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,IAAI,EAAE,IAAI;iBACX,CAAC,CAAA;YACJ,CAAC,CAAC,CAAA;QACN,CAAC,CAAA;QAED,kBAAa,GAAG,CAAC,OAAgB,EAAE,QAAkB,EAAQ,EAAE;YAC7D,MAAM,EAAE,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,CAAA;YAC7B,IAAI,CAAC,yBAAyB;iBAC3B,aAAa,CAAC,EAAE,CAAC;iBACjB,IAAI,CAAC,CAAC,MAA+B,EAAE,EAAE;gBACxC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;YAC7C,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAY,EAAE,EAAE;gBACtB,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACxB,MAAM,EAAE,GAAG;oBACX,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,IAAI,EAAE,IAAI;iBACX,CAAC,CAAA;YACJ,CAAC,CAAC,CAAA;QACN,CAAC,CAAA;QA7GC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;QACpB,IAAI,CAAC,yBAAyB,GAAG,yBAAyB,CAAA;IAC5D,CAAC;CA4GF;AAnHD,gDAmHC","sourcesContent":["import { type Request, type Response, type Router } from 'express'\r\n\r\nimport type VideoProductMap from '../../../inners/models/entities/VideoProductMap'\r\nimport type Result from '../../../inners/models/value_objects/Result'\r\nimport type VideoProductMapManagement from '../../../inners/use_cases/managements/VideoProductMapManagement'\r\nimport type VideoProductMapAggregate from '../../../inners/models/aggregates/VideoProductMapAggregate'\r\n\r\nexport default class VideoProductMapControllerRest {\r\n  router: Router\r\n  videoProductMapManagement: VideoProductMapManagement\r\n\r\n  constructor (router: Router, videoProductMapManagement: VideoProductMapManagement) {\r\n    this.router = router\r\n    this.videoProductMapManagement = videoProductMapManagement\r\n  }\r\n\r\n  registerRoutes = (): void => {\r\n    this.router.get('', this.readAll)\r\n    this.router.get('/:id', this.readOneById)\r\n    this.router.post('', this.createOne)\r\n    this.router.patch('/:id', this.patchOneById)\r\n    this.router.delete('/:id', this.deleteOneById)\r\n  }\r\n\r\n  readAll = (request: Request, response: Response): void => {\r\n    const { isAggregated, search } = request.query\r\n    const parsedIsAggregated: boolean = Boolean(isAggregated)\r\n    const parsedSearch: any | undefined = search !== undefined ? JSON.parse(decodeURIComponent(String(search))) : undefined\r\n    this.videoProductMapManagement\r\n      .readAll(parsedIsAggregated, parsedSearch)\r\n      .then((result: Result<VideoProductMap[] | VideoProductMapAggregate[]>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  readOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    const { isAggregated } = request.query\r\n    const parsedIsAggregated: boolean = Boolean(isAggregated)\r\n    this.videoProductMapManagement\r\n      .readOneById(id, parsedIsAggregated)\r\n      .then((result: Result<VideoProductMap | VideoProductMapAggregate>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  readOneByIdAggregated = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.videoProductMapManagement\r\n      .readOneByIdAggregated(id)\r\n      .then((result: Result<VideoProductMapAggregate>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  createOne = (request: Request, response: Response): void => {\r\n    this.videoProductMapManagement\r\n      .createOne(request.body)\r\n      .then((result: Result<VideoProductMap>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  patchOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.videoProductMapManagement\r\n      .patchOneById(id, request.body)\r\n      .then((result: Result<VideoProductMap>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n\r\n  deleteOneById = (request: Request, response: Response): void => {\r\n    const { id } = request.params\r\n    this.videoProductMapManagement\r\n      .deleteOneById(id)\r\n      .then((result: Result<VideoProductMap>) => {\r\n        response.status(result.status).json(result)\r\n      })\r\n      .catch((error: Error) => {\r\n        response.status(500).json({\r\n          status: 500,\r\n          message: error.message,\r\n          data: null\r\n        })\r\n      })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"65ec967e807c84a2f959113e108130a5ce6ca9c8"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoProductMapManagement.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoProductMapManagement.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":78}},"16":{"start":{"line":18,"column":8},"end":{"line":27,"column":11}},"17":{"start":{"line":18,"column":49},"end":{"line":27,"column":10}},"18":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"19":{"start":{"line":21,"column":16},"end":{"line":21,"column":103}},"20":{"start":{"line":24,"column":16},"end":{"line":24,"column":93}},"21":{"start":{"line":26,"column":12},"end":{"line":26,"column":105}},"22":{"start":{"line":28,"column":8},"end":{"line":37,"column":11}},"23":{"start":{"line":28,"column":49},"end":{"line":37,"column":10}},"24":{"start":{"line":30,"column":12},"end":{"line":35,"column":13}},"25":{"start":{"line":31,"column":16},"end":{"line":31,"column":102}},"26":{"start":{"line":34,"column":16},"end":{"line":34,"column":92}},"27":{"start":{"line":36,"column":12},"end":{"line":36,"column":110}},"28":{"start":{"line":38,"column":8},"end":{"line":41,"column":11}},"29":{"start":{"line":38,"column":45},"end":{"line":41,"column":10}},"30":{"start":{"line":39,"column":41},"end":{"line":39,"column":103}},"31":{"start":{"line":40,"column":12},"end":{"line":40,"column":121}},"32":{"start":{"line":42,"column":8},"end":{"line":45,"column":11}},"33":{"start":{"line":42,"column":35},"end":{"line":45,"column":10}},"34":{"start":{"line":43,"column":43},"end":{"line":43,"column":95}},"35":{"start":{"line":44,"column":12},"end":{"line":44,"column":108}},"36":{"start":{"line":46,"column":8},"end":{"line":49,"column":11}},"37":{"start":{"line":46,"column":42},"end":{"line":49,"column":10}},"38":{"start":{"line":47,"column":43},"end":{"line":47,"column":102}},"39":{"start":{"line":48,"column":12},"end":{"line":48,"column":113}},"40":{"start":{"line":50,"column":8},"end":{"line":53,"column":11}},"41":{"start":{"line":50,"column":37},"end":{"line":53,"column":10}},"42":{"start":{"line":51,"column":43},"end":{"line":51,"column":97}},"43":{"start":{"line":52,"column":12},"end":{"line":52,"column":114}},"44":{"start":{"line":54,"column":8},"end":{"line":54,"column":67}},"45":{"start":{"line":57,"column":0},"end":{"line":57,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":43},"end":{"line":55,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":49},"end":{"line":27,"column":10}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":18,"column":81},"end":{"line":18,"column":82}},"loc":{"start":{"line":18,"column":94},"end":{"line":27,"column":9}},"line":18},"11":{"name":"(anonymous_11)","decl":{"start":{"line":28,"column":27},"end":{"line":28,"column":28}},"loc":{"start":{"line":28,"column":49},"end":{"line":37,"column":10}},"line":28},"12":{"name":"(anonymous_12)","decl":{"start":{"line":28,"column":81},"end":{"line":28,"column":82}},"loc":{"start":{"line":28,"column":94},"end":{"line":37,"column":9}},"line":28},"13":{"name":"(anonymous_13)","decl":{"start":{"line":38,"column":37},"end":{"line":38,"column":38}},"loc":{"start":{"line":38,"column":45},"end":{"line":41,"column":10}},"line":38},"14":{"name":"(anonymous_14)","decl":{"start":{"line":38,"column":77},"end":{"line":38,"column":78}},"loc":{"start":{"line":38,"column":90},"end":{"line":41,"column":9}},"line":38},"15":{"name":"(anonymous_15)","decl":{"start":{"line":42,"column":25},"end":{"line":42,"column":26}},"loc":{"start":{"line":42,"column":35},"end":{"line":45,"column":10}},"line":42},"16":{"name":"(anonymous_16)","decl":{"start":{"line":42,"column":67},"end":{"line":42,"column":68}},"loc":{"start":{"line":42,"column":80},"end":{"line":45,"column":9}},"line":42},"17":{"name":"(anonymous_17)","decl":{"start":{"line":46,"column":28},"end":{"line":46,"column":29}},"loc":{"start":{"line":46,"column":42},"end":{"line":49,"column":10}},"line":46},"18":{"name":"(anonymous_18)","decl":{"start":{"line":46,"column":74},"end":{"line":46,"column":75}},"loc":{"start":{"line":46,"column":87},"end":{"line":49,"column":9}},"line":46},"19":{"name":"(anonymous_19)","decl":{"start":{"line":50,"column":29},"end":{"line":50,"column":30}},"loc":{"start":{"line":50,"column":37},"end":{"line":53,"column":10}},"line":50},"20":{"name":"(anonymous_20)","decl":{"start":{"line":50,"column":69},"end":{"line":50,"column":70}},"loc":{"start":{"line":50,"column":82},"end":{"line":53,"column":9}},"line":50}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},{"start":{"line":20,"column":12},"end":{"line":25,"column":13}}],"line":20},"9":{"loc":{"start":{"line":30,"column":12},"end":{"line":35,"column":13}},"type":"if","locations":[{"start":{"line":30,"column":12},"end":{"line":35,"column":13}},{"start":{"line":30,"column":12},"end":{"line":35,"column":13}}],"line":30}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":1,"45":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoProductMapManagement.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\managements\\VideoProductMapManagement.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,+EAAsD;AAItD,MAAqB,yBAAyB;IAG5C,YAAa,yBAAoD;QAIjE,YAAO,GAAG,CAAO,YAAsB,EAAE,MAAY,EAAmE,EAAE;YACxH,IAAI,qBAAqE,CAAA;YACzE,IAAI,YAAY,KAAK,IAAI,EAAE;gBACzB,qBAAqB,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAA;aACvF;iBAAM;gBACL,qBAAqB,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAA;aAC7E;YACD,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,mCAAmC,EACnC,qBAAqB,CACtB,CAAA;QACH,CAAC,CAAA,CAAA;QAED,gBAAW,GAAG,CAAO,EAAU,EAAE,YAAsB,EAA+D,EAAE;YACtH,IAAI,oBAAgE,CAAA;YACpE,IAAI,YAAY,KAAK,IAAI,EAAE;gBACzB,oBAAoB,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAA;aACtF;iBAAM;gBACL,oBAAoB,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;aAC5E;YACD,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,yCAAyC,EACzC,oBAAoB,CACrB,CAAA;QACH,CAAC,CAAA,CAAA;QAED,0BAAqB,GAAG,CAAO,EAAU,EAA6C,EAAE;YACtF,MAAM,oBAAoB,GAA6B,MAAM,IAAI,CAAC,yBAAyB,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAA;YACrH,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,oDAAoD,EACpD,oBAAoB,CACrB,CAAA;QACH,CAAC,CAAA,CAAA;QAED,cAAS,GAAG,CAAO,IAAS,EAAoC,EAAE;YAChE,MAAM,sBAAsB,GAAoB,MAAM,IAAI,CAAC,yBAAyB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;YACpG,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,qCAAqC,EACrC,sBAAsB,CACvB,CAAA;QACH,CAAC,CAAA,CAAA;QAED,iBAAY,GAAG,CAAO,EAAU,EAAE,IAAS,EAAoC,EAAE;YAC/E,MAAM,sBAAsB,GAAoB,MAAM,IAAI,CAAC,yBAAyB,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,CAAA;YAC3G,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,0CAA0C,EAC1C,sBAAsB,CACvB,CAAA;QACH,CAAC,CAAA,CAAA;QAED,kBAAa,GAAG,CAAO,EAAU,EAAoC,EAAE;YACrE,MAAM,sBAAsB,GAAoB,MAAM,IAAI,CAAC,yBAAyB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAA;YACtG,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,2CAA2C,EAC3C,sBAAsB,CACvB,CAAA;QACH,CAAC,CAAA,CAAA;QAjEC,IAAI,CAAC,yBAAyB,GAAG,yBAAyB,CAAA;IAC5D,CAAC;CAiEF;AAtED,4CAsEC","sourcesContent":["import type VideoProductMapRepository from '../../../outers/repositories/VideoProductMapRepository'\r\nimport Result from '../../models/value_objects/Result'\r\nimport type VideoProductMap from '../../models/entities/VideoProductMap'\r\nimport type VideoProductMapAggregate from '../../models/aggregates/VideoProductMapAggregate'\r\n\r\nexport default class VideoProductMapManagement {\r\n  videoProductMapRepository: VideoProductMapRepository\r\n\r\n  constructor (videoProductMapRepository: VideoProductMapRepository) {\r\n    this.videoProductMapRepository = videoProductMapRepository\r\n  }\r\n\r\n  readAll = async (isAggregated?: boolean, search?: any): Promise<Result<VideoProductMap[] | VideoProductMapAggregate[]>> => {\r\n    let foundVideoProductMaps: VideoProductMap[] | VideoProductMapAggregate[]\r\n    if (isAggregated === true) {\r\n      foundVideoProductMaps = await this.videoProductMapRepository.readAllAggregated(search)\r\n    } else {\r\n      foundVideoProductMaps = await this.videoProductMapRepository.readAll(search)\r\n    }\r\n    return new Result<VideoProductMap[] | VideoProductMapAggregate[]>(\r\n      200,\r\n      'VideoProductMap read all succeed.',\r\n      foundVideoProductMaps\r\n    )\r\n  }\r\n\r\n  readOneById = async (id: string, isAggregated?: boolean): Promise<Result<VideoProductMap | VideoProductMapAggregate>> => {\r\n    let foundVideoProductMap: VideoProductMap | VideoProductMapAggregate\r\n    if (isAggregated === true) {\r\n      foundVideoProductMap = await this.videoProductMapRepository.readOneByIdAggregated(id)\r\n    } else {\r\n      foundVideoProductMap = await this.videoProductMapRepository.readOneById(id)\r\n    }\r\n    return new Result<VideoProductMap | VideoProductMapAggregate>(\r\n      200,\r\n      'VideoProductMap read one by id succeed.',\r\n      foundVideoProductMap\r\n    )\r\n  }\r\n\r\n  readOneByIdAggregated = async (id: string): Promise<Result<VideoProductMapAggregate>> => {\r\n    const foundVideoProductMap: VideoProductMapAggregate = await this.videoProductMapRepository.readOneByIdAggregated(id)\r\n    return new Result<VideoProductMapAggregate>(\r\n      200,\r\n      'VideoProductMap read one by id aggregated succeed.',\r\n      foundVideoProductMap\r\n    )\r\n  }\r\n\r\n  createOne = async (item: any): Promise<Result<VideoProductMap>> => {\r\n    const createdVideoProductMap: VideoProductMap = await this.videoProductMapRepository.createOne(item)\r\n    return new Result<VideoProductMap>(\r\n      201,\r\n      'VideoProductMap create one succeed.',\r\n      createdVideoProductMap\r\n    )\r\n  }\r\n\r\n  patchOneById = async (id: string, item: any): Promise<Result<VideoProductMap>> => {\r\n    const patchedVideoProductMap: VideoProductMap = await this.videoProductMapRepository.patchOneById(id, item)\r\n    return new Result<VideoProductMap>(\r\n      200,\r\n      'VideoProductMap patch one by id succeed.',\r\n      patchedVideoProductMap\r\n    )\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<Result<VideoProductMap>> => {\r\n    const deletedVideoProductMap: VideoProductMap = await this.videoProductMapRepository.deleteOneById(id)\r\n    return new Result<VideoProductMap>(\r\n      200,\r\n      'VideoProductMap delete one by id succeed.',\r\n      deletedVideoProductMap\r\n    )\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dbd3b8811bfe5081a61ce678ab89c60d2bb55220"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoProductMapRepository.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoProductMapRepository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":32},"end":{"line":15,"column":92}},"16":{"start":{"line":16,"column":19},"end":{"line":16,"column":38}},"17":{"start":{"line":19,"column":8},"end":{"line":30,"column":11}},"18":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"19":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"20":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"21":{"start":{"line":22,"column":20},"end":{"line":22,"column":75}},"22":{"start":{"line":25,"column":42},"end":{"line":25,"column":92}},"23":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"24":{"start":{"line":27,"column":16},"end":{"line":27,"column":67}},"25":{"start":{"line":29,"column":12},"end":{"line":29,"column":41}},"26":{"start":{"line":31,"column":8},"end":{"line":80,"column":11}},"27":{"start":{"line":31,"column":45},"end":{"line":80,"column":10}},"28":{"start":{"line":32,"column":29},"end":{"line":66,"column":13}},"29":{"start":{"line":67,"column":12},"end":{"line":74,"column":13}},"30":{"start":{"line":68,"column":16},"end":{"line":70,"column":17}},"31":{"start":{"line":69,"column":20},"end":{"line":69,"column":75}},"32":{"start":{"line":71,"column":16},"end":{"line":73,"column":19}},"33":{"start":{"line":75,"column":42},"end":{"line":75,"column":99}},"34":{"start":{"line":76,"column":12},"end":{"line":78,"column":13}},"35":{"start":{"line":77,"column":16},"end":{"line":77,"column":67}},"36":{"start":{"line":79,"column":12},"end":{"line":79,"column":41}},"37":{"start":{"line":81,"column":8},"end":{"line":87,"column":11}},"38":{"start":{"line":81,"column":35},"end":{"line":87,"column":10}},"39":{"start":{"line":82,"column":41},"end":{"line":82,"column":130}},"40":{"start":{"line":83,"column":12},"end":{"line":85,"column":13}},"41":{"start":{"line":84,"column":16},"end":{"line":84,"column":66}},"42":{"start":{"line":86,"column":12},"end":{"line":86,"column":40}},"43":{"start":{"line":88,"column":8},"end":{"line":137,"column":11}},"44":{"start":{"line":88,"column":45},"end":{"line":137,"column":10}},"45":{"start":{"line":89,"column":42},"end":{"line":128,"column":14}},"46":{"start":{"line":129,"column":12},"end":{"line":131,"column":13}},"47":{"start":{"line":130,"column":16},"end":{"line":130,"column":67}},"48":{"start":{"line":132,"column":41},"end":{"line":132,"column":65}},"49":{"start":{"line":133,"column":12},"end":{"line":135,"column":13}},"50":{"start":{"line":134,"column":16},"end":{"line":134,"column":66}},"51":{"start":{"line":136,"column":12},"end":{"line":136,"column":40}},"52":{"start":{"line":138,"column":8},"end":{"line":140,"column":11}},"53":{"start":{"line":138,"column":46},"end":{"line":140,"column":10}},"54":{"start":{"line":139,"column":12},"end":{"line":139,"column":81}},"55":{"start":{"line":141,"column":8},"end":{"line":147,"column":11}},"56":{"start":{"line":141,"column":53},"end":{"line":147,"column":10}},"57":{"start":{"line":142,"column":43},"end":{"line":142,"column":183}},"58":{"start":{"line":143,"column":12},"end":{"line":145,"column":13}},"59":{"start":{"line":144,"column":16},"end":{"line":144,"column":68}},"60":{"start":{"line":146,"column":12},"end":{"line":146,"column":42}},"61":{"start":{"line":148,"column":8},"end":{"line":154,"column":11}},"62":{"start":{"line":148,"column":37},"end":{"line":154,"column":10}},"63":{"start":{"line":149,"column":43},"end":{"line":149,"column":141}},"64":{"start":{"line":150,"column":12},"end":{"line":152,"column":13}},"65":{"start":{"line":151,"column":16},"end":{"line":151,"column":68}},"66":{"start":{"line":153,"column":12},"end":{"line":153,"column":42}},"67":{"start":{"line":155,"column":8},"end":{"line":155,"column":41}},"68":{"start":{"line":158,"column":0},"end":{"line":158,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":30},"end":{"line":156,"column":5}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":23},"end":{"line":19,"column":24}},"loc":{"start":{"line":19,"column":35},"end":{"line":30,"column":10}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":67},"end":{"line":19,"column":68}},"loc":{"start":{"line":19,"column":80},"end":{"line":30,"column":9}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":33},"end":{"line":31,"column":34}},"loc":{"start":{"line":31,"column":45},"end":{"line":80,"column":10}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":31,"column":77},"end":{"line":31,"column":78}},"loc":{"start":{"line":31,"column":90},"end":{"line":80,"column":9}},"line":31},"13":{"name":"(anonymous_13)","decl":{"start":{"line":81,"column":27},"end":{"line":81,"column":28}},"loc":{"start":{"line":81,"column":35},"end":{"line":87,"column":10}},"line":81},"14":{"name":"(anonymous_14)","decl":{"start":{"line":81,"column":67},"end":{"line":81,"column":68}},"loc":{"start":{"line":81,"column":80},"end":{"line":87,"column":9}},"line":81},"15":{"name":"(anonymous_15)","decl":{"start":{"line":88,"column":37},"end":{"line":88,"column":38}},"loc":{"start":{"line":88,"column":45},"end":{"line":137,"column":10}},"line":88},"16":{"name":"(anonymous_16)","decl":{"start":{"line":88,"column":77},"end":{"line":88,"column":78}},"loc":{"start":{"line":88,"column":90},"end":{"line":137,"column":9}},"line":88},"17":{"name":"(anonymous_17)","decl":{"start":{"line":138,"column":25},"end":{"line":138,"column":26}},"loc":{"start":{"line":138,"column":46},"end":{"line":140,"column":10}},"line":138},"18":{"name":"(anonymous_18)","decl":{"start":{"line":138,"column":78},"end":{"line":138,"column":79}},"loc":{"start":{"line":138,"column":91},"end":{"line":140,"column":9}},"line":138},"19":{"name":"(anonymous_19)","decl":{"start":{"line":141,"column":28},"end":{"line":141,"column":29}},"loc":{"start":{"line":141,"column":53},"end":{"line":147,"column":10}},"line":141},"20":{"name":"(anonymous_20)","decl":{"start":{"line":141,"column":85},"end":{"line":141,"column":86}},"loc":{"start":{"line":141,"column":98},"end":{"line":147,"column":9}},"line":141},"21":{"name":"(anonymous_21)","decl":{"start":{"line":148,"column":29},"end":{"line":148,"column":30}},"loc":{"start":{"line":148,"column":37},"end":{"line":154,"column":10}},"line":148},"22":{"name":"(anonymous_22)","decl":{"start":{"line":148,"column":69},"end":{"line":148,"column":70}},"loc":{"start":{"line":148,"column":82},"end":{"line":154,"column":9}},"line":148}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},{"start":{"line":20,"column":12},"end":{"line":24,"column":13}}],"line":20},"9":{"loc":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"type":"if","locations":[{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},{"start":{"line":21,"column":16},"end":{"line":23,"column":17}}],"line":21},"10":{"loc":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},{"start":{"line":26,"column":12},"end":{"line":28,"column":13}}],"line":26},"11":{"loc":{"start":{"line":67,"column":12},"end":{"line":74,"column":13}},"type":"if","locations":[{"start":{"line":67,"column":12},"end":{"line":74,"column":13}},{"start":{"line":67,"column":12},"end":{"line":74,"column":13}}],"line":67},"12":{"loc":{"start":{"line":68,"column":16},"end":{"line":70,"column":17}},"type":"if","locations":[{"start":{"line":68,"column":16},"end":{"line":70,"column":17}},{"start":{"line":68,"column":16},"end":{"line":70,"column":17}}],"line":68},"13":{"loc":{"start":{"line":76,"column":12},"end":{"line":78,"column":13}},"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":78,"column":13}},{"start":{"line":76,"column":12},"end":{"line":78,"column":13}}],"line":76},"14":{"loc":{"start":{"line":83,"column":12},"end":{"line":85,"column":13}},"type":"if","locations":[{"start":{"line":83,"column":12},"end":{"line":85,"column":13}},{"start":{"line":83,"column":12},"end":{"line":85,"column":13}}],"line":83},"15":{"loc":{"start":{"line":129,"column":12},"end":{"line":131,"column":13}},"type":"if","locations":[{"start":{"line":129,"column":12},"end":{"line":131,"column":13}},{"start":{"line":129,"column":12},"end":{"line":131,"column":13}}],"line":129},"16":{"loc":{"start":{"line":133,"column":12},"end":{"line":135,"column":13}},"type":"if","locations":[{"start":{"line":133,"column":12},"end":{"line":135,"column":13}},{"start":{"line":133,"column":12},"end":{"line":135,"column":13}}],"line":133},"17":{"loc":{"start":{"line":143,"column":12},"end":{"line":145,"column":13}},"type":"if","locations":[{"start":{"line":143,"column":12},"end":{"line":145,"column":13}},{"start":{"line":143,"column":12},"end":{"line":145,"column":13}}],"line":143},"18":{"loc":{"start":{"line":150,"column":12},"end":{"line":152,"column":13}},"type":"if","locations":[{"start":{"line":150,"column":12},"end":{"line":152,"column":13}},{"start":{"line":150,"column":12},"end":{"line":152,"column":13}}],"line":150}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoProductMapRepository.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\repositories\\VideoProductMapRepository.ts"],"names":[],"mappings":"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","sourcesContent":["import type VideoProductMap from '../../inners/models/entities/VideoProductMap'\r\nimport type OneDatastore from '../datastores/OneDatastore'\r\nimport VideoProductMapSchema from '../schemas/VideoProductMapSchema'\r\nimport type VideoProductMapAggregate from '../../inners/models/aggregates/VideoProductMapAggregate'\r\nimport { Types } from 'mongoose'\r\n\r\nexport default class VideoProductMapRepository {\r\n  oneDatastore: OneDatastore\r\n\r\n  constructor (datastoreOne: OneDatastore) {\r\n    this.oneDatastore = datastoreOne\r\n  }\r\n\r\n  readAll = async (search?: any): Promise<VideoProductMap[]> => {\r\n    if (search !== undefined) {\r\n      if (search._id !== null) {\r\n        search._id = new Types.ObjectId(search._id)\r\n      }\r\n    }\r\n    const foundVideoProductMaps: VideoProductMap[] | null = await VideoProductMapSchema.find(search)\r\n    if (foundVideoProductMaps === null) {\r\n      throw new Error('Found videoProductMaps is null.')\r\n    }\r\n    return foundVideoProductMaps\r\n  }\r\n\r\n  readAllAggregated = async (search?: any): Promise<VideoProductMapAggregate[]> => {\r\n    const pipeline: any[] = [\r\n      {\r\n        $lookup: {\r\n          from: 'videos',\r\n          localField: 'videoId',\r\n          foreignField: '_id',\r\n          as: 'video'\r\n        }\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: '$video'\r\n        }\r\n      },\r\n      {\r\n        $lookup: {\r\n          from: 'products',\r\n          localField: 'productId',\r\n          foreignField: '_id',\r\n          as: 'product'\r\n        }\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: '$product'\r\n        }\r\n      },\r\n      {\r\n        $project: {\r\n          _id: 1,\r\n          video: 1,\r\n          product: 1\r\n        }\r\n      }\r\n    ]\r\n    if (search !== undefined) {\r\n      if (search._id !== null) {\r\n        search._id = new Types.ObjectId(search._id)\r\n      }\r\n      pipeline.push({\r\n        $match: search\r\n      })\r\n    }\r\n    const foundVideoProductMaps: VideoProductMapAggregate[] | null = await VideoProductMapSchema.aggregate(pipeline)\r\n    if (foundVideoProductMaps === null) {\r\n      throw new Error('Found videoProductMaps is null.')\r\n    }\r\n    return foundVideoProductMaps\r\n  }\r\n\r\n  readOneById = async (id: string): Promise<VideoProductMap> => {\r\n    const foundVideoProductMap: VideoProductMap | null = await VideoProductMapSchema.findOne({ _id: new Types.ObjectId(id) })\r\n    if (foundVideoProductMap === null) {\r\n      throw new Error('Found videoProductMap is null.')\r\n    }\r\n    return foundVideoProductMap\r\n  }\r\n\r\n  readOneByIdAggregated = async (id: string): Promise<VideoProductMapAggregate> => {\r\n    const foundVideoProductMaps: VideoProductMapAggregate[] | null = await VideoProductMapSchema.aggregate([\r\n      {\r\n        $match: {\r\n          _id: new Types.ObjectId(id)\r\n        }\r\n      },\r\n      {\r\n        $lookup: {\r\n          from: 'videos',\r\n          localField: 'videoId',\r\n          foreignField: '_id',\r\n          as: 'video'\r\n        }\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: '$video'\r\n        }\r\n      },\r\n      {\r\n        $lookup: {\r\n          from: 'products',\r\n          localField: 'productId',\r\n          foreignField: '_id',\r\n          as: 'product'\r\n        }\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: '$product'\r\n        }\r\n      },\r\n      {\r\n        $project: {\r\n          _id: 1,\r\n          video: 1,\r\n          product: 1\r\n        }\r\n      }\r\n    ])\r\n    if (foundVideoProductMaps === null) {\r\n      throw new Error('Found videoProductMaps is null.')\r\n    }\r\n    const foundVideoProductMap: VideoProductMapAggregate = foundVideoProductMaps[0]\r\n    if (foundVideoProductMap === null) {\r\n      throw new Error('Found videoProductMap is null.')\r\n    }\r\n    return foundVideoProductMap\r\n  }\r\n\r\n  createOne = async (videoProductMap: VideoProductMap): Promise<VideoProductMap> => {\r\n    return await VideoProductMapSchema.create(videoProductMap)\r\n  }\r\n\r\n  patchOneById = async (id: string, videoProductMap: VideoProductMap): Promise<VideoProductMap> => {\r\n    const patchedVideoProductMap: VideoProductMap | null = await VideoProductMapSchema.findOneAndUpdate({ _id: new Types.ObjectId(id) }, { $set: videoProductMap }, { new: true })\r\n    if (patchedVideoProductMap === null) {\r\n      throw new Error('Patched videoProductMap is null.')\r\n    }\r\n    return patchedVideoProductMap\r\n  }\r\n\r\n  deleteOneById = async (id: string): Promise<VideoProductMap> => {\r\n    const deletedVideoProductMap: VideoProductMap | null = await VideoProductMapSchema.findOneAndDelete({ _id: new Types.ObjectId(id) })\r\n    if (deletedVideoProductMap === null) {\r\n      throw new Error('Deleted videoProductMap is null.')\r\n    }\r\n    return deletedVideoProductMap\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"26690dec4775db14f174425acd2f819a7fd4287e"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoProductMapSchema.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoProductMapSchema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":4,"column":30},"end":{"line":13,"column":2}},"3":{"start":{"line":14,"column":0},"end":{"line":14,"column":85}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoProductMapSchema.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\schemas\\VideoProductMapSchema.ts"],"names":[],"mappings":";;AAAA,uCAAwC;AAGxC,MAAM,qBAAqB,GAAG,IAAI,iBAAM,CAAkB;IACxD,OAAO,EAAE;QACP,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ;KAC5B;IACD,SAAS,EAAE;QACT,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ;KAC5B;CACF,EACD;IACE,UAAU,EAAE,KAAK;CAClB,CAAC,CAAA;AAEF,kBAAe,IAAA,gBAAK,EAAkB,oBAAoB,EAAE,qBAAqB,CAAC,CAAA","sourcesContent":["import { model, Schema } from 'mongoose'\r\nimport type VideoProductMap from '../../inners/models/entities/VideoProductMap'\r\n\r\nconst videoProductMapSchema = new Schema<VideoProductMap>({\r\n  videoId: {\r\n    type: Schema.Types.ObjectId\r\n  },\r\n  productId: {\r\n    type: Schema.Types.ObjectId\r\n  }\r\n},\r\n{\r\n  versionKey: false\r\n})\r\n\r\nexport default model<VideoProductMap>('video_product_maps', videoProductMapSchema)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c5a554077a341eb14336e55ce5e17878d82c9675"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\web_sockets\\RoomControllerWebSocket.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\web_sockets\\RoomControllerWebSocket.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":85}},"16":{"start":{"line":18,"column":8},"end":{"line":24,"column":10}},"17":{"start":{"line":19,"column":12},"end":{"line":23,"column":15}},"18":{"start":{"line":20,"column":16},"end":{"line":20,"column":61}},"19":{"start":{"line":21,"column":16},"end":{"line":21,"column":63}},"20":{"start":{"line":22,"column":16},"end":{"line":22,"column":71}},"21":{"start":{"line":25,"column":8},"end":{"line":32,"column":11}},"22":{"start":{"line":25,"column":36},"end":{"line":32,"column":10}},"23":{"start":{"line":25,"column":57},"end":{"line":32,"column":10}},"24":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"25":{"start":{"line":27,"column":16},"end":{"line":27,"column":72}},"26":{"start":{"line":29,"column":12},"end":{"line":29,"column":55}},"27":{"start":{"line":30,"column":27},"end":{"line":30,"column":127}},"28":{"start":{"line":31,"column":12},"end":{"line":31,"column":46}},"29":{"start":{"line":33,"column":8},"end":{"line":36,"column":11}},"30":{"start":{"line":33,"column":37},"end":{"line":36,"column":10}},"31":{"start":{"line":33,"column":50},"end":{"line":36,"column":10}},"32":{"start":{"line":34,"column":12},"end":{"line":34,"column":40}},"33":{"start":{"line":35,"column":12},"end":{"line":35,"column":45}},"34":{"start":{"line":37,"column":8},"end":{"line":48,"column":11}},"35":{"start":{"line":37,"column":41},"end":{"line":48,"column":10}},"36":{"start":{"line":37,"column":67},"end":{"line":48,"column":10}},"37":{"start":{"line":38,"column":12},"end":{"line":40,"column":13}},"38":{"start":{"line":39,"column":16},"end":{"line":39,"column":77}},"39":{"start":{"line":41,"column":12},"end":{"line":43,"column":13}},"40":{"start":{"line":42,"column":16},"end":{"line":42,"column":78}},"41":{"start":{"line":44,"column":30},"end":{"line":44,"column":104}},"42":{"start":{"line":45,"column":36},"end":{"line":45,"column":119}},"43":{"start":{"line":46,"column":27},"end":{"line":46,"column":82}},"44":{"start":{"line":47,"column":12},"end":{"line":47,"column":85}},"45":{"start":{"line":49,"column":8},"end":{"line":49,"column":21}},"46":{"start":{"line":50,"column":8},"end":{"line":50,"column":51}},"47":{"start":{"line":51,"column":8},"end":{"line":51,"column":45}},"48":{"start":{"line":54,"column":0},"end":{"line":54,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":55},"end":{"line":52,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":31},"end":{"line":18,"column":32}},"loc":{"start":{"line":18,"column":37},"end":{"line":24,"column":9}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":37},"end":{"line":19,"column":38}},"loc":{"start":{"line":19,"column":49},"end":{"line":23,"column":13}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":25,"column":24},"end":{"line":25,"column":25}},"loc":{"start":{"line":25,"column":36},"end":{"line":32,"column":10}},"line":25},"12":{"name":"(anonymous_12)","decl":{"start":{"line":25,"column":36},"end":{"line":25,"column":37}},"loc":{"start":{"line":25,"column":57},"end":{"line":32,"column":10}},"line":25},"13":{"name":"(anonymous_13)","decl":{"start":{"line":25,"column":89},"end":{"line":25,"column":90}},"loc":{"start":{"line":25,"column":102},"end":{"line":32,"column":9}},"line":25},"14":{"name":"(anonymous_14)","decl":{"start":{"line":33,"column":25},"end":{"line":33,"column":26}},"loc":{"start":{"line":33,"column":37},"end":{"line":36,"column":10}},"line":33},"15":{"name":"(anonymous_15)","decl":{"start":{"line":33,"column":37},"end":{"line":33,"column":38}},"loc":{"start":{"line":33,"column":50},"end":{"line":36,"column":10}},"line":33},"16":{"name":"(anonymous_16)","decl":{"start":{"line":33,"column":82},"end":{"line":33,"column":83}},"loc":{"start":{"line":33,"column":95},"end":{"line":36,"column":9}},"line":33},"17":{"name":"(anonymous_17)","decl":{"start":{"line":37,"column":29},"end":{"line":37,"column":30}},"loc":{"start":{"line":37,"column":41},"end":{"line":48,"column":10}},"line":37},"18":{"name":"(anonymous_18)","decl":{"start":{"line":37,"column":41},"end":{"line":37,"column":42}},"loc":{"start":{"line":37,"column":67},"end":{"line":48,"column":10}},"line":37},"19":{"name":"(anonymous_19)","decl":{"start":{"line":37,"column":99},"end":{"line":37,"column":100}},"loc":{"start":{"line":37,"column":112},"end":{"line":48,"column":9}},"line":37}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},{"start":{"line":26,"column":12},"end":{"line":28,"column":13}}],"line":26},"9":{"loc":{"start":{"line":38,"column":12},"end":{"line":40,"column":13}},"type":"if","locations":[{"start":{"line":38,"column":12},"end":{"line":40,"column":13}},{"start":{"line":38,"column":12},"end":{"line":40,"column":13}}],"line":38},"10":{"loc":{"start":{"line":41,"column":12},"end":{"line":43,"column":13}},"type":"if","locations":[{"start":{"line":41,"column":12},"end":{"line":43,"column":13}},{"start":{"line":41,"column":12},"end":{"line":43,"column":13}}],"line":41}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":1,"47":1,"48":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\web_sockets\\RoomControllerWebSocket.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\web_sockets\\RoomControllerWebSocket.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAKA,sFAA6D;AAI7D,MAAqB,uBAAuB;IAK1C,YACE,EAAmB,EACnB,iBAAoC,EACpC,cAA8B;QAOhC,oBAAe,GAAG,GAAS,EAAE;YAC3B,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,MAAuB,EAAE,EAAE;gBACnD,MAAM,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAA;gBAC5C,MAAM,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAA;gBAC9C,MAAM,CAAC,EAAE,CAAC,eAAe,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAA;YACxD,CAAC,CAAC,CAAA;QACJ,CAAC,CAAA;QAED,aAAQ,GAAG,CAAC,MAAuB,EAAE,EAAE,CAAC,CAAO,eAAgC,EAAiB,EAAE;YAChG,IAAI,eAAe,CAAC,OAAO,KAAK,SAAS,EAAE;gBACzC,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAA;aACxD;YACD,MAAM,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAA;YAC1C,MAAM,MAAM,GAA2C,MAAM,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,eAAe,CAAC,OAAO,EAAE,eAAe,CAAC,YAAY,CAAC,CAAA;YAC3J,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC,CAAA;QACnC,CAAC,CAAA,CAAA;QAED,cAAS,GAAG,CAAC,MAAuB,EAAE,EAAE,CAAC,CAAO,OAAe,EAAiB,EAAE;YAChF,MAAM,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;YAC3B,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,CAAC,CAAA;QAClC,CAAC,CAAA,CAAA;QAED,kBAAa,GAAG,CAAC,MAAuB,EAAE,EAAE,CAAC,CAAO,oBAA0C,EAAiB,EAAE;YAC/G,IAAI,oBAAoB,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC9C,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAA;aAC7D;YACD,IAAI,oBAAoB,CAAC,QAAQ,KAAK,SAAS,EAAE;gBAC/C,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAA;aAC9D;YACD,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAA;YAC5F,MAAM,eAAe,GAAY,IAAI,iBAAO,CAC1C,SAAS,CAAC,IAAI,CAAC,GAAG,EAClB,oBAAoB,CAAC,OAAO,EAC5B,IAAI,IAAI,EAAE,CACX,CAAA;YACD,MAAM,MAAM,GAAoB,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,eAAe,CAAC,CAAA;YACvF,MAAM,CAAC,EAAE,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAA;QAC1E,CAAC,CAAA,CAAA;QA1CC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAA;QACZ,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAA;QAC1C,IAAI,CAAC,cAAc,GAAG,cAAc,CAAA;IACtC,CAAC;CAwCF;AArDD,0CAqDC","sourcesContent":["import type CommentManagement from '../../../inners/use_cases/managements/CommentManagement'\r\nimport type socketIo from 'socket.io'\r\nimport type Result from '../../../inners/models/value_objects/Result'\r\nimport type CommentAggregate from '../../../inners/models/aggregates/CommentAggregate'\r\nimport type SubmitCommentRequest from '../../../inners/models/value_objects/requests/comments/SubmitCommentRequest'\r\nimport Comment from '../../../inners/models/entities/Comment'\r\nimport type JoinRoomRequest from '../../../inners/models/value_objects/requests/rooms/JoinRoomRequest'\r\nimport type UserManagement from '../../../inners/use_cases/managements/UserManagement'\r\n\r\nexport default class RoomControllerWebSocket {\r\n  io: socketIo.Server\r\n  commentManagement: CommentManagement\r\n  userManagement: UserManagement\r\n\r\n  constructor (\r\n    io: socketIo.Server,\r\n    commentManagement: CommentManagement,\r\n    userManagement: UserManagement\r\n  ) {\r\n    this.io = io\r\n    this.commentManagement = commentManagement\r\n    this.userManagement = userManagement\r\n  }\r\n\r\n  registerSockets = (): void => {\r\n    this.io.on('connection', (socket: socketIo.Socket) => {\r\n      socket.on('joinRoom', this.joinRoom(socket))\r\n      socket.on('leaveRoom', this.leaveRoom(socket))\r\n      socket.on('submitComment', this.submitComment(socket))\r\n    })\r\n  }\r\n\r\n  joinRoom = (socket: socketIo.Socket) => async (joinRoomRequest: JoinRoomRequest): Promise<void> => {\r\n    if (joinRoomRequest.videoId === undefined) {\r\n      throw new Error('JoinRoomRequest videoId is undefined')\r\n    }\r\n    await socket.join(joinRoomRequest.videoId)\r\n    const result: Result<Comment[] | CommentAggregate[]> = await this.commentManagement.readAllByVideoId(joinRoomRequest.videoId, joinRoomRequest.isAggregated)\r\n    socket.emit('joinedRoom', result)\r\n  }\r\n\r\n  leaveRoom = (socket: socketIo.Socket) => async (videoId: string): Promise<void> => {\r\n    await socket.leave(videoId)\r\n    socket.emit('leftRoom', videoId)\r\n  }\r\n\r\n  submitComment = (socket: socketIo.Socket) => async (submitCommentRequest: SubmitCommentRequest): Promise<void> => {\r\n    if (submitCommentRequest.videoId === undefined) {\r\n      throw new Error('SubmitCommentRequest videoId is undefined')\r\n    }\r\n    if (submitCommentRequest.username === undefined) {\r\n      throw new Error('SubmitCommentRequest username is undefined')\r\n    }\r\n    const foundUser = await this.userManagement.readOneByUsername(submitCommentRequest.username)\r\n    const toCreateComment: Comment = new Comment(\r\n      foundUser.data._id,\r\n      submitCommentRequest.content,\r\n      new Date()\r\n    )\r\n    const result: Result<Comment> = await this.commentManagement.createOne(toCreateComment)\r\n    socket.to(submitCommentRequest.videoId).emit('submittedComment', result)\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"931e98f785f7a4251d06e006d0e17d1161500550"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\authentications\\LoginAuthentication.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\authentications\\LoginAuthentication.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":78}},"16":{"start":{"line":16,"column":19},"end":{"line":16,"column":38}},"17":{"start":{"line":19,"column":8},"end":{"line":40,"column":11}},"18":{"start":{"line":19,"column":55},"end":{"line":40,"column":10}},"19":{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},"20":{"start":{"line":21,"column":16},"end":{"line":21,"column":69}},"21":{"start":{"line":23,"column":12},"end":{"line":25,"column":13}},"22":{"start":{"line":24,"column":16},"end":{"line":24,"column":69}},"23":{"start":{"line":26,"column":12},"end":{"line":31,"column":13}},"24":{"start":{"line":27,"column":16},"end":{"line":27,"column":78}},"25":{"start":{"line":30,"column":16},"end":{"line":30,"column":119}},"26":{"start":{"line":33,"column":12},"end":{"line":38,"column":13}},"27":{"start":{"line":34,"column":16},"end":{"line":34,"column":140}},"28":{"start":{"line":37,"column":16},"end":{"line":37,"column":144}},"29":{"start":{"line":39,"column":12},"end":{"line":39,"column":125}},"30":{"start":{"line":41,"column":8},"end":{"line":41,"column":45}},"31":{"start":{"line":44,"column":0},"end":{"line":44,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":32},"end":{"line":42,"column":5}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":42},"end":{"line":19,"column":43}},"loc":{"start":{"line":19,"column":55},"end":{"line":40,"column":10}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":87},"end":{"line":19,"column":88}},"loc":{"start":{"line":19,"column":100},"end":{"line":40,"column":9}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},{"start":{"line":20,"column":12},"end":{"line":22,"column":13}}],"line":20},"9":{"loc":{"start":{"line":23,"column":12},"end":{"line":25,"column":13}},"type":"if","locations":[{"start":{"line":23,"column":12},"end":{"line":25,"column":13}},{"start":{"line":23,"column":12},"end":{"line":25,"column":13}}],"line":23}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\authentications\\LoginAuthentication.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\authentications\\LoginAuthentication.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAKA,+EAAsD;AACtD,uCAAgC;AAEhC,MAAqB,mBAAmB;IAGtC,YAAa,cAA8B;QAI3C,+BAA0B,GAAG,CAAO,OAA0C,EAAgC,EAAE;YAC9G,IAAI,OAAO,CAAC,QAAQ,KAAK,SAAS,EAAE;gBAClC,MAAM,IAAI,gBAAK,CAAC,wBAAwB,CAAC,CAAA;aAC1C;YACD,IAAI,OAAO,CAAC,QAAQ,KAAK,SAAS,EAAE;gBAClC,MAAM,IAAI,gBAAK,CAAC,wBAAwB,CAAC,CAAA;aAC1C;YAED,IAAI;gBACF,MAAM,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAA;aAC9D;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,+CAAgD,KAAe,CAAC,OAAO,EAAE,EACzE,IAAI,CACL,CAAA;aACF;YAED,IAAI,8BAAmD,CAAA;YACvD,IAAI;gBACF,8BAA8B,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,4BAA4B,CAAC,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAA;aAC5H;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,IAAI,gBAAM,CACf,GAAG,EACC,wEAAyE,KAAe,CAAC,OAAO,EAAE,EAClG,IAAI,CACT,CAAA;aACF;YAED,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,yCAAyC,EACzC,8BAA8B,CAAC,IAAY,CAC5C,CAAA;QACH,CAAC,CAAA,CAAA;QArCC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAA;IACtC,CAAC;CAqCF;AA1CD,sCA0CC","sourcesContent":["import type UserManagement from '../managements/UserManagement'\r\nimport type LoginByUsernameAndPasswordRequest\r\n  from '../../models/value_objects/requests/authentications/LoginByUsernameAndPasswordRequest'\r\n\r\nimport type User from '../../models/entities/User'\r\nimport Result from '../../models/value_objects/Result'\r\nimport { Error } from 'mongoose'\r\n\r\nexport default class LoginAuthentication {\r\n  userManagement: UserManagement\r\n\r\n  constructor (userManagement: UserManagement) {\r\n    this.userManagement = userManagement\r\n  }\r\n\r\n  loginByUsernameAndPassword = async (request: LoginByUsernameAndPasswordRequest): Promise<Result<User | null>> => {\r\n    if (request.username === undefined) {\r\n      throw new Error('Username is undefined.')\r\n    }\r\n    if (request.password === undefined) {\r\n      throw new Error('Password is undefined.')\r\n    }\r\n\r\n    try {\r\n      await this.userManagement.readOneByUsername(request.username)\r\n    } catch (error) {\r\n      return new Result<null>(\r\n        404,\r\n        `Login by username failed, unknown username: ${(error as Error).message}`,\r\n        null\r\n      )\r\n    }\r\n\r\n    let foundUserByUsernameAndPassword: Result<User | null>\r\n    try {\r\n      foundUserByUsernameAndPassword = await this.userManagement.readOneByUsernameAndPassword(request.username, request.password)\r\n    } catch (error) {\r\n      return new Result<null>(\r\n        404,\r\n            `Login by username and password failed, unknown username or password: ${(error as Error).message}`,\r\n            null\r\n      )\r\n    }\r\n\r\n    return new Result<User>(\r\n      200,\r\n      'Login by username and password succeed.',\r\n      foundUserByUsernameAndPassword.data as User\r\n    )\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f1b04a1dd92a2d68b550eaf40f0f6f7451e3ca65"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\authentications\\RegisterAuthentication.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\authentications\\RegisterAuthentication.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":15},"end":{"line":15,"column":69}},"16":{"start":{"line":16,"column":17},"end":{"line":16,"column":78}},"17":{"start":{"line":17,"column":19},"end":{"line":17,"column":38}},"18":{"start":{"line":20,"column":8},"end":{"line":41,"column":11}},"19":{"start":{"line":20,"column":58},"end":{"line":41,"column":10}},"20":{"start":{"line":21,"column":12},"end":{"line":23,"column":13}},"21":{"start":{"line":22,"column":16},"end":{"line":22,"column":69}},"22":{"start":{"line":24,"column":12},"end":{"line":26,"column":13}},"23":{"start":{"line":25,"column":16},"end":{"line":25,"column":69}},"24":{"start":{"line":28,"column":12},"end":{"line":34,"column":13}},"25":{"start":{"line":29,"column":16},"end":{"line":29,"column":78}},"26":{"start":{"line":30,"column":16},"end":{"line":30,"column":35}},"27":{"start":{"line":33,"column":16},"end":{"line":33,"column":36}},"28":{"start":{"line":35,"column":12},"end":{"line":37,"column":13}},"29":{"start":{"line":36,"column":16},"end":{"line":36,"column":125}},"30":{"start":{"line":38,"column":33},"end":{"line":38,"column":91}},"31":{"start":{"line":39,"column":32},"end":{"line":39,"column":81}},"32":{"start":{"line":40,"column":12},"end":{"line":40,"column":109}},"33":{"start":{"line":42,"column":8},"end":{"line":42,"column":45}},"34":{"start":{"line":45,"column":0},"end":{"line":45,"column":41}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":32},"end":{"line":43,"column":5}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":45},"end":{"line":20,"column":46}},"loc":{"start":{"line":20,"column":58},"end":{"line":41,"column":10}},"line":20},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":90},"end":{"line":20,"column":91}},"loc":{"start":{"line":20,"column":103},"end":{"line":41,"column":9}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":21,"column":12},"end":{"line":23,"column":13}},"type":"if","locations":[{"start":{"line":21,"column":12},"end":{"line":23,"column":13}},{"start":{"line":21,"column":12},"end":{"line":23,"column":13}}],"line":21},"9":{"loc":{"start":{"line":24,"column":12},"end":{"line":26,"column":13}},"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":26,"column":13}},{"start":{"line":24,"column":12},"end":{"line":26,"column":13}}],"line":24},"10":{"loc":{"start":{"line":35,"column":12},"end":{"line":37,"column":13}},"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":37,"column":13}},{"start":{"line":35,"column":12},"end":{"line":37,"column":13}}],"line":35}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":2,"8":1,"9":0,"10":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[2,0],"7":[2,2],"8":[0,0],"9":[0,0],"10":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\authentications\\RegisterAuthentication.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\use_cases\\authentications\\RegisterAuthentication.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAIA,sEAA6C;AAC7C,+EAAsD;AACtD,uCAAgC;AAEhC,MAAqB,sBAAsB;IAGzC,YAAa,cAA8B;QAI3C,kCAA6B,GAAG,CAAO,OAA6C,EAAgC,EAAE;YACpH,IAAI,OAAO,CAAC,QAAQ,KAAK,SAAS,EAAE;gBAClC,MAAM,IAAI,gBAAK,CAAC,wBAAwB,CAAC,CAAA;aAC1C;YACD,IAAI,OAAO,CAAC,QAAQ,KAAK,SAAS,EAAE;gBAClC,MAAM,IAAI,gBAAK,CAAC,wBAAwB,CAAC,CAAA;aAC1C;YAED,IAAI,WAAoB,CAAA;YACxB,IAAI;gBACF,MAAM,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAA;gBAC7D,WAAW,GAAG,IAAI,CAAA;aACnB;YAAC,OAAO,KAAK,EAAE;gBACd,WAAW,GAAG,KAAK,CAAA;aACpB;YAED,IAAI,WAAW,EAAE;gBACf,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,oEAAoE,EACpE,IAAI,CACL,CAAA;aACF;YAED,MAAM,YAAY,GAAS,IAAI,cAAI,CACjC,OAAO,CAAC,QAAQ,EAChB,OAAO,CAAC,QAAQ,EAChB,EAAE,CACH,CAAA;YACD,MAAM,WAAW,GAAiB,MAAM,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,YAAY,CAAC,CAAA;YAEnF,OAAO,IAAI,gBAAM,CACf,GAAG,EACH,4CAA4C,EAC5C,WAAW,CAAC,IAAI,CACjB,CAAA;QACH,CAAC,CAAA,CAAA;QAvCC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAA;IACtC,CAAC;CAuCF;AA5CD,yCA4CC","sourcesContent":["import type UserManagement from '../managements/UserManagement'\r\nimport type RegisterByUsernameAndPasswordRequest\r\n  from '../../models/value_objects/requests/authentications/RegisterByUsernameAndPasswordRequest'\r\n\r\nimport User from '../../models/entities/User'\r\nimport Result from '../../models/value_objects/Result'\r\nimport { Error } from 'mongoose'\r\n\r\nexport default class RegisterAuthentication {\r\n  userManagement: UserManagement\r\n\r\n  constructor (userManagement: UserManagement) {\r\n    this.userManagement = userManagement\r\n  }\r\n\r\n  registerByUsernameAndPassword = async (request: RegisterByUsernameAndPasswordRequest): Promise<Result<User | null>> => {\r\n    if (request.username === undefined) {\r\n      throw new Error('Username is undefined.')\r\n    }\r\n    if (request.password === undefined) {\r\n      throw new Error('Password is undefined.')\r\n    }\r\n\r\n    let isUserFound: boolean\r\n    try {\r\n      await this.userManagement.readOneByUsername(request.username)\r\n      isUserFound = true\r\n    } catch (error) {\r\n      isUserFound = false\r\n    }\r\n\r\n    if (isUserFound) {\r\n      return new Result<null>(\r\n        409,\r\n        'Register by username and password failed, username already exists.',\r\n        null\r\n      )\r\n    }\r\n\r\n    const toCreateUser: User = new User(\r\n      request.username,\r\n      request.password,\r\n      ''\r\n    )\r\n    const createdUser: Result<User> = await this.userManagement.createOne(toCreateUser)\r\n\r\n    return new Result<User>(\r\n      201,\r\n      'Register by username and password succeed.',\r\n      createdUser.data\r\n    )\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2b0ed59046308a841c0f51005504f41f61ceb4bf"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\User.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\User.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":33}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":33}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":37}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":53},"end":{"line":9,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\User.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\User.ts"],"names":[],"mappings":";;AAAA,MAAqB,OAAO;IAM1B,YACE,QAA4B,EAC5B,QAA4B,EAC5B,UAA8B,EAC9B,GAAwB;QAExB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAA;QACd,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;QACxB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;QACxB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAA;IAC9B,CAAC;CACF;AAjBD,0BAiBC","sourcesContent":["export default class Comment {\r\n  _id: string | undefined\r\n  username: string | undefined\r\n  password: string | undefined\r\n  pictureUrl: string | undefined\r\n\r\n  constructor (\r\n    username: string | undefined,\r\n    password: string | undefined,\r\n    pictureUrl: string | undefined,\r\n    _id?: string | undefined\r\n  ) {\r\n    this._id = _id\r\n    this.username = username\r\n    this.password = password\r\n    this.pictureUrl = pictureUrl\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b0b527a67c89f8500a986bfe3c0a96c4479a1b75"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\AuthenticationControllerRest.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\AuthenticationControllerRest.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":88}},"4":{"start":{"line":9,"column":8},"end":{"line":12,"column":10}},"5":{"start":{"line":10,"column":12},"end":{"line":10,"column":52}},"6":{"start":{"line":11,"column":12},"end":{"line":11,"column":58}},"7":{"start":{"line":13,"column":8},"end":{"line":28,"column":10}},"8":{"start":{"line":14,"column":31},"end":{"line":14,"column":44}},"9":{"start":{"line":15,"column":12},"end":{"line":27,"column":13}},"10":{"start":{"line":16,"column":60},"end":{"line":16,"column":72}},"11":{"start":{"line":17,"column":16},"end":{"line":23,"column":19}},"12":{"start":{"line":19,"column":20},"end":{"line":19,"column":64}},"13":{"start":{"line":22,"column":20},"end":{"line":22,"column":133}},"14":{"start":{"line":26,"column":16},"end":{"line":26,"column":128}},"15":{"start":{"line":29,"column":8},"end":{"line":44,"column":10}},"16":{"start":{"line":30,"column":31},"end":{"line":30,"column":44}},"17":{"start":{"line":31,"column":12},"end":{"line":43,"column":13}},"18":{"start":{"line":32,"column":63},"end":{"line":32,"column":75}},"19":{"start":{"line":33,"column":16},"end":{"line":39,"column":19}},"20":{"start":{"line":35,"column":20},"end":{"line":35,"column":64}},"21":{"start":{"line":38,"column":20},"end":{"line":38,"column":136}},"22":{"start":{"line":42,"column":16},"end":{"line":42,"column":131}},"23":{"start":{"line":45,"column":8},"end":{"line":45,"column":29}},"24":{"start":{"line":46,"column":8},"end":{"line":46,"column":55}},"25":{"start":{"line":47,"column":8},"end":{"line":47,"column":61}},"26":{"start":{"line":50,"column":0},"end":{"line":50,"column":47}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":69},"end":{"line":48,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":30},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":36},"end":{"line":12,"column":9}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":21},"end":{"line":13,"column":22}},"loc":{"start":{"line":13,"column":44},"end":{"line":28,"column":9}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":18,"column":26},"end":{"line":18,"column":27}},"loc":{"start":{"line":18,"column":38},"end":{"line":20,"column":17}},"line":18},"5":{"name":"(anonymous_5)","decl":{"start":{"line":21,"column":27},"end":{"line":21,"column":28}},"loc":{"start":{"line":21,"column":38},"end":{"line":23,"column":17}},"line":21},"6":{"name":"(anonymous_6)","decl":{"start":{"line":29,"column":24},"end":{"line":29,"column":25}},"loc":{"start":{"line":29,"column":47},"end":{"line":44,"column":9}},"line":29},"7":{"name":"(anonymous_7)","decl":{"start":{"line":34,"column":26},"end":{"line":34,"column":27}},"loc":{"start":{"line":34,"column":38},"end":{"line":36,"column":17}},"line":34},"8":{"name":"(anonymous_8)","decl":{"start":{"line":37,"column":27},"end":{"line":37,"column":28}},"loc":{"start":{"line":37,"column":38},"end":{"line":39,"column":17}},"line":37}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":15,"column":12},"end":{"line":27,"column":13}},"type":"if","locations":[{"start":{"line":15,"column":12},"end":{"line":27,"column":13}},{"start":{"line":15,"column":12},"end":{"line":27,"column":13}}],"line":15},"4":{"loc":{"start":{"line":31,"column":12},"end":{"line":43,"column":13}},"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":43,"column":13}},{"start":{"line":31,"column":12},"end":{"line":43,"column":13}}],"line":31}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":1,"25":1,"26":1},"f":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\AuthenticationControllerRest.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\controllers\\rests\\AuthenticationControllerRest.ts"],"names":[],"mappings":";;;;;AAGA,yFAAgE;AAQhE,MAAqB,4BAA4B;IAK/C,YACE,MAAc,EACd,mBAAwC,EACxC,sBAA8C;QAOhD,mBAAc,GAAG,GAAS,EAAE;YAC1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;YACvC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;QAC/C,CAAC,CAAA;QAED,UAAK,GAAG,CAAC,OAAgB,EAAE,QAAkB,EAAQ,EAAE;YACrD,MAAM,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC,KAAK,CAAA;YAChC,IAAI,MAAM,KAAK,uBAAuB,EAAE;gBACtC,MAAM,mCAAmC,GAAsC,OAAO,CAAC,IAAI,CAAA;gBAC3F,IAAI,CAAC,mBAAmB,CAAC,0BAA0B,CAAC,mCAAmC,CAAC;qBACrF,IAAI,CAAC,CAAC,MAA2B,EAAE,EAAE;oBACpC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;gBAC7C,CAAC,CAAC;qBACD,KAAK,CAAC,CAAC,KAAY,EAAE,EAAE;oBACtB,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CACvB,IAAI,gBAAM,CACR,GAAG,EACG,mBAAmB,MAAM,YAAY,KAAK,CAAC,OAAO,EAAE,EACpD,IAAI,CACX,CACF,CAAA;gBACH,CAAC,CAAC,CAAA;aACL;iBAAM;gBACL,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CACvB,IAAI,gBAAM,CACR,GAAG,EACO,mBAAmB,MAAgB,0BAA0B,EAC7D,IAAI,CACf,CACF,CAAA;aACF;QACH,CAAC,CAAA;QAED,aAAQ,GAAG,CAAC,OAAgB,EAAE,QAAkB,EAAQ,EAAE;YACxD,MAAM,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC,KAAK,CAAA;YAChC,IAAI,MAAM,KAAK,uBAAuB,EAAE;gBACtC,MAAM,sCAAsC,GAAyC,OAAO,CAAC,IAAI,CAAA;gBACjG,IAAI,CAAC,sBAAsB,CAAC,6BAA6B,CAAC,sCAAsC,CAAC;qBAC9F,IAAI,CAAC,CAAC,MAA2B,EAAE,EAAE;oBACpC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;gBAC7C,CAAC,CAAC;qBACD,KAAK,CAAC,CAAC,KAAY,EAAE,EAAE;oBACtB,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CACvB,IAAI,gBAAM,CACR,GAAG,EACG,sBAAsB,MAAM,YAAY,KAAK,CAAC,OAAO,EAAE,EACvD,IAAI,CACX,CACF,CAAA;gBACH,CAAC,CAAC,CAAA;aACL;iBAAM;gBACL,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CACvB,IAAI,gBAAM,CACR,GAAG,EACG,sBAAsB,MAAgB,0BAA0B,EAChE,IAAI,CACX,CACF,CAAA;aACF;QACH,CAAC,CAAA;QAhEC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;QACpB,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAA;QAC9C,IAAI,CAAC,sBAAsB,GAAG,sBAAsB,CAAA;IACtD,CAAC;CA8DF;AA3ED,+CA2EC","sourcesContent":["import { type Request, type Response, type Router } from 'express'\r\n\r\nimport type User from '../../../inners/models/entities/User'\r\nimport Result from '../../../inners/models/value_objects/Result'\r\nimport type RegisterAuthentication from '../../../inners/use_cases/authentications/RegisterAuthentication'\r\nimport type LoginAuthentication from '../../../inners/use_cases/authentications/LoginAuthentication'\r\nimport type LoginByUsernameAndPasswordRequest\r\n  from '../../../inners/models/value_objects/requests/authentications/LoginByUsernameAndPasswordRequest'\r\nimport type RegisterByUsernameAndPasswordRequest\r\n  from '../../../inners/models/value_objects/requests/authentications/RegisterByUsernameAndPasswordRequest'\r\n\r\nexport default class AuthenticationControllerRest {\r\n  router: Router\r\n  loginAuthentication: LoginAuthentication\r\n  registerAuthentication: RegisterAuthentication\r\n\r\n  constructor (\r\n    router: Router,\r\n    loginAuthentication: LoginAuthentication,\r\n    registerAuthentication: RegisterAuthentication\r\n  ) {\r\n    this.router = router\r\n    this.loginAuthentication = loginAuthentication\r\n    this.registerAuthentication = registerAuthentication\r\n  }\r\n\r\n  registerRoutes = (): void => {\r\n    this.router.post('/logins', this.login)\r\n    this.router.post('/registers', this.register)\r\n  }\r\n\r\n  login = (request: Request, response: Response): void => {\r\n    const { method } = request.query\r\n    if (method === 'username_and_password') {\r\n      const requestToLoginByUsernameAndPassword: LoginByUsernameAndPasswordRequest = request.body\r\n      this.loginAuthentication.loginByUsernameAndPassword(requestToLoginByUsernameAndPassword)\r\n        .then((result: Result<User | null>) => {\r\n          response.status(result.status).json(result)\r\n        })\r\n        .catch((error: Error) => {\r\n          response.status(500).json(\r\n            new Result<null>(\r\n              500,\r\n                    `Login by method ${method} failed: ${error.message}`,\r\n                    null\r\n            )\r\n          )\r\n        })\r\n    } else {\r\n      response.status(400).json(\r\n        new Result<null>(\r\n          400,\r\n                    `Login by method ${method as string} failed, unknown method.`,\r\n                    null\r\n        )\r\n      )\r\n    }\r\n  }\r\n\r\n  register = (request: Request, response: Response): void => {\r\n    const { method } = request.query\r\n    if (method === 'username_and_password') {\r\n      const requestToRegisterByUsernameAndPassword: RegisterByUsernameAndPasswordRequest = request.body\r\n      this.registerAuthentication.registerByUsernameAndPassword(requestToRegisterByUsernameAndPassword)\r\n        .then((result: Result<User | null>) => {\r\n          response.status(result.status).json(result)\r\n        })\r\n        .catch((error: Error) => {\r\n          response.status(500).json(\r\n            new Result<null>(\r\n              500,\r\n                    `Register by method ${method} failed: ${error.message}`,\r\n                    null\r\n            )\r\n          )\r\n        })\r\n    } else {\r\n      response.status(400).json(\r\n        new Result<null>(\r\n          400,\r\n                `Register by method ${method as string} failed, unknown method.`,\r\n                null\r\n        )\r\n      )\r\n    }\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a891bf729e5df0009067164fa4986ca46a3980f8"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\middlewares\\CaseExpressMiddleware.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\middlewares\\CaseExpressMiddleware.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":49}},"4":{"start":{"line":7,"column":30},"end":{"line":26,"column":1}},"5":{"start":{"line":8,"column":32},"end":{"line":18,"column":5}},"6":{"start":{"line":9,"column":21},"end":{"line":9,"column":29}},"7":{"start":{"line":10,"column":8},"end":{"line":16,"column":10}},"8":{"start":{"line":11,"column":31},"end":{"line":11,"column":47}},"9":{"start":{"line":12,"column":12},"end":{"line":12,"column":71}},"10":{"start":{"line":13,"column":36},"end":{"line":13,"column":56}},"11":{"start":{"line":14,"column":12},"end":{"line":14,"column":45}},"12":{"start":{"line":15,"column":12},"end":{"line":15,"column":23}},"13":{"start":{"line":17,"column":8},"end":{"line":17,"column":15}},"14":{"start":{"line":19,"column":32},"end":{"line":24,"column":5}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":67}},"16":{"start":{"line":21,"column":8},"end":{"line":21,"column":71}},"17":{"start":{"line":22,"column":8},"end":{"line":22,"column":69}},"18":{"start":{"line":23,"column":8},"end":{"line":23,"column":15}},"19":{"start":{"line":25,"column":4},"end":{"line":25,"column":54}},"20":{"start":{"line":27,"column":0},"end":{"line":27,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":30},"end":{"line":7,"column":31}},"loc":{"start":{"line":7,"column":43},"end":{"line":26,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":8,"column":32},"end":{"line":8,"column":33}},"loc":{"start":{"line":8,"column":53},"end":{"line":18,"column":5}},"line":8},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":19},"end":{"line":10,"column":20}},"loc":{"start":{"line":10,"column":35},"end":{"line":16,"column":9}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":19,"column":32},"end":{"line":19,"column":33}},"loc":{"start":{"line":19,"column":53},"end":{"line":24,"column":5}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":13,"7":13,"8":13,"9":13,"10":13,"11":13,"12":13,"13":13,"14":1,"15":13,"16":13,"17":13,"18":13,"19":1,"20":1},"f":{"0":1,"1":1,"2":13,"3":13,"4":13},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\middlewares\\CaseExpressMiddleware.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\outers\\middlewares\\CaseExpressMiddleware.ts"],"names":[],"mappings":";;;;;AACA,kDAAqD;AAIrD,MAAM,qBAAqB,GAAG,CAAC,OAA2B,EAAO,EAAE;IACjE,MAAM,mBAAmB,GAAG,CAAC,IAAa,EAAE,GAAa,EAAE,IAAkB,EAAQ,EAAE;QACrF,MAAM,IAAI,GAAQ,GAAG,CAAC,IAAI,CAAA;QAC1B,GAAG,CAAC,IAAI,GAAG,UAAU,IAAU;YAC7B,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;YACnC,IAAI,GAAG,eAAK,CAAC,cAAc,CAAC,UAAU,EAAE,OAAO,CAAC,CAAA;YAChD,MAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;YAC5C,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC,CAAA;YAChC,OAAO,GAAG,CAAA;QACZ,CAAC,CAAA;QACD,IAAI,EAAE,CAAA;IACR,CAAC,CAAA;IAED,MAAM,mBAAmB,GAAG,CAAC,GAAY,EAAE,IAAc,EAAE,IAAkB,EAAQ,EAAE;QACrF,GAAG,CAAC,IAAI,GAAG,eAAK,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,CAAA;QAChD,GAAG,CAAC,MAAM,GAAG,eAAK,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAqB,CAAA;QACxE,GAAG,CAAC,KAAK,GAAG,eAAK,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAa,CAAA;QAC9D,IAAI,EAAE,CAAA;IACR,CAAC,CAAA;IAED,OAAO,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,CAAA;AACnD,CAAC,CAAA;AAED,kBAAe,qBAAqB,CAAA","sourcesContent":["import { type NextFunction, type Request, type Response } from 'express'\r\nimport humps, { type OptionOrProcessor } from 'humps'\r\nimport { type ParamsDictionary } from 'express-serve-static-core'\r\nimport { type ParsedQs } from 'qs'\r\n\r\nconst caseExpressMiddleware = (options?: OptionOrProcessor): any => {\r\n  const snakeCaseResHandler = (_req: Request, res: Response, next: NextFunction): void => {\r\n    const send: any = res.send\r\n    res.send = function (body?: any): any {\r\n      const parsedBody = JSON.parse(body)\r\n      body = humps.decamelizeKeys(parsedBody, options)\r\n      const stringifiesBody = JSON.stringify(body)\r\n      send.call(this, stringifiesBody)\r\n      return res\r\n    }\r\n    next()\r\n  }\r\n\r\n  const snakeCaseReqHandler = (req: Request, _res: Response, next: NextFunction): void => {\r\n    req.body = humps.camelizeKeys(req.body, options)\r\n    req.params = humps.camelizeKeys(req.params, options) as ParamsDictionary\r\n    req.query = humps.camelizeKeys(req.query, options) as ParsedQs\r\n    next()\r\n  }\r\n\r\n  return [snakeCaseResHandler, snakeCaseReqHandler]\r\n}\r\n\r\nexport default caseExpressMiddleware\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0db8839691a4f26249785d830038495fa3f4a67a"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\VideoCommentMap.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\VideoCommentMap.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":31}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":35}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":41},"end":{"line":8,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":2,"2":2,"3":2,"4":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\VideoCommentMap.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\VideoCommentMap.ts"],"names":[],"mappings":";;AAAA,MAAqB,OAAO;IAK1B,YACE,OAA2B,EAC3B,SAA6B,EAC7B,GAAwB;QAExB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAA;QACd,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;QACtB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAA;IAC5B,CAAC;CACF;AAdD,0BAcC","sourcesContent":["export default class Comment {\r\n  _id: string | undefined\r\n  videoId: string | undefined\r\n  commentId: string | undefined\r\n\r\n  constructor (\r\n    videoId: string | undefined,\r\n    commentId: string | undefined,\r\n    _id?: string | undefined\r\n  ) {\r\n    this._id = _id\r\n    this.videoId = videoId\r\n    this.commentId = commentId\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4806257197af1b0f039948c6dbe0e1ed45fe87d0"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\Video.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\Video.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":41}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":37}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":47},"end":{"line":8,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":2,"2":2,"3":2,"4":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\Video.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\entities\\Video.ts"],"names":[],"mappings":";;AAAA,MAAqB,KAAK;IAKxB,YACE,YAAgC,EAChC,UAA8B,EAC9B,GAAwB;QAExB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAA;QACd,IAAI,CAAC,YAAY,GAAG,YAAY,CAAA;QAChC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAA;IAC9B,CAAC;CACF;AAdD,wBAcC","sourcesContent":["export default class Video {\r\n  _id: string | undefined\r\n  thumbnailUrl: string | undefined\r\n  contentUrl: string | undefined\r\n\r\n  constructor (\r\n    thumbnailUrl: string | undefined,\r\n    contentUrl: string | undefined,\r\n    _id?: string | undefined\r\n  ) {\r\n    this._id = _id\r\n    this.thumbnailUrl = thumbnailUrl\r\n    this.contentUrl = contentUrl\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0c011d99d2c2495ee30141a720f61d1a332d2946"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\aggregates\\CommentAggregate.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\aggregates\\CommentAggregate.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":25}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":35}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":47},"end":{"line":9,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\aggregates\\CommentAggregate.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\aggregates\\CommentAggregate.ts"],"names":[],"mappings":";;AAEA,MAAqB,gBAAgB;IAMnC,YACE,IAAsB,EACtB,OAA2B,EAC3B,SAA2B,EAC3B,GAAwB;QAExB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAA;QACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAA;QAChB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;QACtB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAA;IAC5B,CAAC;CACF;AAjBD,mCAiBC","sourcesContent":["import type User from '../entities/User'\r\n\r\nexport default class CommentAggregate {\r\n  _id: string | undefined\r\n  user: User | undefined\r\n  content: string | undefined\r\n  timestamp: Date | undefined\r\n\r\n  constructor (\r\n    user: User | undefined,\r\n    content: string | undefined,\r\n    timestamp: Date | undefined,\r\n    _id?: string | undefined\r\n  ) {\r\n    this._id = _id\r\n    this.user = user\r\n    this.content = content\r\n    this.timestamp = timestamp\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"293f9c9e3f22355c0515011e89b48ee878612d75"},"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\aggregates\\VideoCommentMapAggregate.ts":{"path":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\aggregates\\VideoCommentMapAggregate.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":27}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":43}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":37},"end":{"line":8,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":2,"2":2,"3":2,"4":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\aggregates\\VideoCommentMapAggregate.ts","sources":["C:\\Data\\Apps\\gigih\\mid-term\\gigih-play-backend\\src\\inners\\models\\aggregates\\VideoCommentMapAggregate.ts"],"names":[],"mappings":";;AAGA,MAAqB,wBAAwB;IAK3C,YACE,KAAwB,EACxB,OAA4B,EAC5B,GAAwB;QAExB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAA;QACd,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;QAClB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;IACxB,CAAC;CACF;AAdD,2CAcC","sourcesContent":["import type Video from '../entities/Video'\r\nimport type Comment from '../entities/Comment'\r\n\r\nexport default class VideoCommentMapAggregate {\r\n  _id: string | undefined\r\n  video: Video | undefined\r\n  comment: Comment | undefined\r\n\r\n  constructor (\r\n    video: Video | undefined,\r\n    comment: Comment | undefined,\r\n    _id?: string | undefined\r\n  ) {\r\n    this._id = _id\r\n    this.video = video\r\n    this.comment = comment\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c5d7f292b4f24de2389b994dc6167cae5ca7f2e0"}}